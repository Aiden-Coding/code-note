import{_ as t,r as p,o as e,c as o,a as n,b as s,d as c,e as i}from"./app-3RcBQnkC.js";const l={},u=n("h1",{id:"é¢ç»æ‰‹å†Œ-Â·-ç¬¬8ç¯‡ã€Šlinkedlistæ’å…¥é€Ÿåº¦æ¯”arraylistå¿«-ä½ ç¡®å®šå—-ã€‹",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#é¢ç»æ‰‹å†Œ-Â·-ç¬¬8ç¯‡ã€Šlinkedlistæ’å…¥é€Ÿåº¦æ¯”arraylistå¿«-ä½ ç¡®å®šå—-ã€‹","aria-hidden":"true"},"#"),s(" é¢ç»æ‰‹å†Œ Â· ç¬¬8ç¯‡ã€ŠLinkedListæ’å…¥é€Ÿåº¦æ¯”ArrayListå¿«ï¼Ÿä½ ç¡®å®šå—ï¼Ÿã€‹")],-1),k=n("br",null,null,-1),r={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=i(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>ä½ ä»¥ä¸ºè€ƒä½ ä¸ªæ•°æ®ç»“æ„æ˜¯è¦é€ ç«ç®­ï¼Ÿ</code></p><p>ğŸš•æ±½è½¦75é©¬åŠ›å°±å¤Ÿå¥”è·‘äº†ï¼Œé‚£ä½ æ€ä¹ˆè¿˜æƒ³è¦2.0æ¶¡è½®+9ATå‘¢ï¼Ÿå¤§æ¡¥ä¸¤è¾¹çš„æŠ¤æ ä½ æ¯æ¬¡èµ°çš„æ—¶å€™éƒ½ä¼šå»æ‘¸å—ï¼Ÿé‚£æ€ä¹ˆæ²¡æœ‰æŠ¤æ çš„å¤§æ¡¥ä½ ä¸æ•¢ä¸Šå‘¢ï¼Ÿ</p><p>å¾ˆå¤šæ—¶å€™ï¼Œä½ é¢å¤–çš„èƒ½åŠ›æ‰æ˜¯è‡ªèº«ä»·å€¼çš„ä½“ç°ï¼Œä¸è¦ä»¥ä¸ºä½ çš„èƒ½åŠ›å°±åªæ˜¯åšä¸ªä¸šåŠ¡å¼€å‘æ¯å¤©CRUDï¼Œå¹¶ä¸æ˜¯äº§å“è®©ä½ å†™CRUDï¼Œè€Œæ˜¯å› ä¸ºä½ çš„èƒ½åŠ›åªèƒ½äº§å“åŠŸèƒ½è®¾è®¡æˆCRUDã€‚</p><p>å°±åƒæ•°æ®ç»“æ„ã€ç®—æ³•é€»è¾‘ã€æºç æŠ€èƒ½ï¼Œå®ƒéƒ½æ˜¯å¯ä»¥ä¸ºä½ çš„ä¸šåŠ¡å¼€å‘èµ‹èƒ½çš„ï¼Œä¹Ÿæ˜¯å†™å‡ºæ›´å¥½ã€æ›´æ˜“æ‰©å±•ç¨‹åºçš„æ ¹åŸºï¼Œæ‰€ä»¥å­¦å¥½è¿™ä»½çŸ¥è¯†éå¸¸æœ‰å¿…è¦ã€‚</p><p><em>æœ¬æ–‡æ¶‰åŠäº†è¾ƒå¤šçš„ä»£ç å’Œå®è·µéªŒè¯å›¾ç¨¿ï¼Œæ¬¢è¿å…³æ³¨å…¬ä¼—å·ï¼š<code>bugstackè™«æ´æ ˆ</code>ï¼Œå›å¤ä¸‹è½½å¾—åˆ°ä¸€ä¸ªé“¾æ¥æ‰“å¼€åï¼Œæ‰¾åˆ°IDï¼š19ğŸ¤«è·å–ï¼</em></p><h2 id="äºŒã€é¢è¯•é¢˜" tabindex="-1"><a class="header-anchor" href="#äºŒã€é¢è¯•é¢˜" aria-hidden="true">#</a> äºŒã€é¢è¯•é¢˜</h2><p><code>è°¢é£æœº</code>ï¼ŒArrayListèµ„æ–™çœ‹äº†å§ï¼Ÿå—¯ï¼Œé‚£è¡Œé—®é—®ä½ å“ˆğŸ¦€</p><p><strong><code>é—®</code></strong>ï¼šArrayListå’ŒLinkedListï¼Œéƒ½ç”¨åœ¨ä»€ä¹ˆåœºæ™¯å‘¢ï¼Ÿ</p><p><strong><code>ç­”</code></strong>ï¼šå•Šï¼Œè¿™æˆ‘çŸ¥é“äº†ã€‚ArrayListæ˜¯åŸºäºæ•°ç»„å®ç°ã€LinkedListæ˜¯åŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œæ‰€ä»¥åŸºäºæ•°æ®ç»“æ„çš„ä¸åŒï¼Œéå†å’ŒæŸ¥æ‰¾å¤šçš„æƒ…å†µä¸‹ç”¨ArrayListã€æ’å…¥å’Œåˆ é™¤é¢‘ç¹çš„æƒ…å†µä¸‹ç”¨LinkedListã€‚</p><p><strong><code>é—®</code></strong>ï¼šå—¯ï¼Œé‚£LinkedListçš„æ’å…¥æ•ˆç‡ä¸€å®šæ¯”ArrayListå¥½å—ï¼Ÿ</p><p><strong><code>ç­”</code></strong>ï¼šå¯¹ï¼Œå¥½ï¼</p><p>é€ä½ ä¸ªé£æœºâœˆï¼Œå›å»ç­‰æ¶ˆæ¯å§ï¼</p><hr><p>å…¶å®ï¼Œé£æœºå›ç­”çš„ä¹Ÿä¸æ˜¯ä¸å¯¹ï¼Œåªæ˜¯ä¸å…¨é¢ã€‚å‡ºé—¨åä¸ç”˜å¿ƒä¹°ç“¶<code>è‚¥å®…æ°´</code>åˆå›æ¥ï¼Œè·Ÿé¢è¯•å®˜èŠäº†2ä¸ªç‚¹ï¼Œè¦åˆ°äº†ä¸¤å¼ å›¾ï¼Œå¦‚ä¸‹ï¼›</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-01.png" alt="å°å‚…å“¥ bugstack.cn &amp; ArrayListå¤´æ’ã€å°¾æ’ã€ä¸­é—´"></p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-02.png" alt="å°å‚…å“¥ bugstack.cn &amp; LinkedListå¤´æ’ã€å°¾æ’ã€ä¸­é—´"></p><p>å¦‚å›¾ï¼Œåˆ†åˆ«æ˜¯ï¼›<code>10ä¸‡</code>ã€<code>100ä¸‡</code>ã€<code>1000ä¸‡</code>ï¼Œæ•°æ®åœ¨ä¸¤ç§é›†åˆä¸‹ä¸åŒä½ç½®çš„æ’å…¥æ•ˆæœï¼Œ<strong>æ‰€ä»¥ï¼š</strong>ï¼Œä¸èƒ½è¯´LinkedListæ’å…¥å°±å¿«ï¼ŒArrayListæ’å…¥å°±æ…¢ï¼Œè¿˜éœ€è¦çœ‹å…·ä½“çš„æ“ä½œæƒ…å†µã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¸¦ç€æ•°æ®ç»“æ„å’Œæºç ï¼Œå…·ä½“åˆ†æä¸‹ã€‚</p><h2 id="ä¸‰ã€æ•°æ®ç»“æ„" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€æ•°æ®ç»“æ„" aria-hidden="true">#</a> ä¸‰ã€æ•°æ®ç»“æ„</h2><p><code>Linked + List = é“¾è¡¨ + åˆ—è¡¨ = LinkedList = é“¾è¡¨åˆ—è¡¨</code></p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-03.png" alt="å°å‚…å“¥ bugstack.cn &amp; LinkedListæ•°æ®ç»“æ„"></p><p>LinkedListï¼Œæ˜¯åŸºäºé“¾è¡¨å®ç°ï¼Œç”±åŒå‘é“¾æ¡nextã€prevï¼ŒæŠŠæ•°æ®èŠ‚ç‚¹ç©¿æ’èµ·æ¥ã€‚æ‰€ä»¥ï¼Œåœ¨æ’å…¥æ•°æ®æ—¶ï¼Œæ˜¯ä¸éœ€è¦åƒæˆ‘ä»¬ä¸Šä¸€ç« èŠ‚ä»‹ç»çš„ArrayListé‚£æ ·ï¼Œæ‰©å®¹æ•°ç»„ã€‚</p><p>ä½†ï¼Œåˆä¸èƒ½è¯´æ‰€æœ‰çš„æ’å…¥éƒ½æ˜¯é«˜æ•ˆï¼Œæ¯”å¦‚ä¸­é—´åŒºåŸŸæ’å…¥ï¼Œä»–è¿˜éœ€è¦éå†å…ƒç´ æ‰¾åˆ°æ’å…¥ä½ç½®ã€‚å…·ä½“çš„ç»†èŠ‚ï¼Œæˆ‘ä»¬åœ¨ä¸‹æ–‡çš„æºç åˆ†æä¸­è¿›è¡Œè®²è§£ï¼Œä¹Ÿå¸®<code>è°¢é£æœº</code>æ‰«é™¤ç–‘æƒ‘ã€‚</p><h2 id="å››ã€æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#å››ã€æºç åˆ†æ" aria-hidden="true">#</a> å››ã€æºç åˆ†æ</h2><h3 id="_1-åˆå§‹åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-åˆå§‹åŒ–" aria-hidden="true">#</a> 1. åˆå§‹åŒ–</h3><p>ä¸ArrayListä¸åŒï¼ŒLinkedListåˆå§‹åŒ–ä¸éœ€è¦åˆ›å»ºæ•°ç»„ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªé“¾è¡¨ç»“æ„ã€‚è€Œä¸”ä¹Ÿæ²¡æœ‰ä¼ ç»™æ„é€ å‡½æ•°åˆå§‹åŒ–å¤šå°‘ä¸ªç©ºé—´çš„å…¥å‚ï¼Œä¾‹å¦‚è¿™æ ·æ˜¯ä¸å¯ä»¥çš„ï¼Œå¦‚ä¸‹ï¼›</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-04.png" alt=""></p><p><strong>ä½†æ˜¯</strong>ï¼Œæ„é€ å‡½æ•°ä¸€æ ·æä¾›äº†å’ŒArrayListä¸€äº›ç›¸åŒçš„æ–¹å¼ï¼Œæ¥åˆå§‹åŒ–å…¥å‚ï¼Œå¦‚ä¸‹è¿™å››ç§æ–¹å¼ï¼›</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆå§‹åŒ–æ–¹å¼ï¼›æ™®é€šæ–¹å¼</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list01 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list01<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list01<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list01<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list01<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// åˆå§‹åŒ–æ–¹å¼ï¼›Arrays.asList</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list02 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list02<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// åˆå§‹åŒ–æ–¹å¼ï¼›å†…éƒ¨ç±»</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list03 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>\\\\<span class="token punctuation">{</span>
        <span class="token punctuation">{</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    \\\\<span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list03<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// åˆå§‹åŒ–æ–¹å¼ï¼›Collections.nCopies</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list04 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">nCopies</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list04<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// æµ‹è¯•ç»“æœ</span>

<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span>
<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span>
<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span> c<span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™äº›æ–¹å¼éƒ½å¯ä»¥åˆå§‹åŒ–æ“ä½œï¼ŒæŒ‰éœ€é€‰æ‹©å³å¯ã€‚</li></ul><h3 id="_2-æ’å…¥" tabindex="-1"><a class="header-anchor" href="#_2-æ’å…¥" aria-hidden="true">#</a> 2. æ’å…¥</h3><p>LinkedListçš„æ’å…¥æ–¹æ³•æ¯”è¾ƒå¤šï¼ŒListä¸­æ¥å£ä¸­é»˜è®¤æä¾›çš„æ˜¯addï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä½ç½®æ’å…¥ã€‚ä½†åœ¨LinkedListä¸­è¿˜æä¾›äº†å¤´æ’<code>addFirst</code>å’Œå°¾æ’<code>addLast</code>ã€‚</p><p>å…³äºæ’å…¥è¿™éƒ¨åˆ†å°±ä¼šè®²åˆ°ä¸ºä»€ä¹ˆï¼›æœ‰çš„æ—¶å€™LinkedListæ’å…¥æ›´è€—æ—¶ã€æœ‰çš„æ—¶å€™ArrayListæ’å…¥æ›´å¥½ã€‚</p><h4 id="_2-1-å¤´æ’" tabindex="-1"><a class="header-anchor" href="#_2-1-å¤´æ’" aria-hidden="true">#</a> 2.1 å¤´æ’</h4><p>å…ˆæ¥çœ‹ä¸€å¼ æ•°æ®ç»“æ„å¯¹æ¯”å›¾ï¼Œå›é¡¾ä¸‹ArrayListçš„æ’å…¥ä¹Ÿå’ŒLinkedListæ’å…¥åšä¸‹å¯¹æ¯”ï¼Œå¦‚ä¸‹ï¼›</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-05.png" alt="å°å‚…å“¥ bugstack.cn &amp; æ’å…¥å¯¹æ¯”"></p><p>çœ‹ä¸Šå›¾æˆ‘ä»¬å¯ä»¥åˆ†æå‡ºå‡ ç‚¹ï¼›</p><ol><li>ArrayList å¤´æ’æ—¶ï¼Œéœ€è¦æŠŠæ•°ç»„å…ƒç´ é€šè¿‡<code>Arrays.copyOf</code>çš„æ–¹å¼æŠŠæ•°ç»„å…ƒç´ ç§»ä½ï¼Œå¦‚æœå®¹é‡ä¸è¶³è¿˜éœ€è¦æ‰©å®¹ã€‚</li><li>LinkedList å¤´æ’æ—¶ï¼Œåˆ™ä¸éœ€è¦è€ƒè™‘æ‰©å®¹ä»¥åŠç§»ä½é—®é¢˜ï¼Œç›´æ¥æŠŠå…ƒç´ å®šä½åˆ°é¦–ä½ï¼Œæ¥ç‚¹é“¾æ¡é“¾æ¥ä¸Šå³å¯ã€‚</li></ol><h5 id="_2-1-1-æºç " tabindex="-1"><a class="header-anchor" href="#_2-1-1-æºç " aria-hidden="true">#</a> 2.1.1 æºç </h5><p>è¿™é‡Œæˆ‘ä»¬å†å¯¹ç…§ä¸‹<code>LinkedList</code>å¤´æ’çš„æºç ï¼Œå¦‚ä¸‹ï¼›</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">linkFirst</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> f <span class="token operator">=</span> first<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token punctuation">;</span>
    first <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>f <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        last <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        f<span class="token punctuation">.</span>prev <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
    modCount<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>firstï¼Œé¦–èŠ‚ç‚¹ä¼šä¸€ç›´è¢«è®°å½•ï¼Œè¿™æ ·å°±éå¸¸æ–¹ä¾¿å¤´æ’ã€‚</li><li>æ’å…¥æ—¶å€™ä¼šåˆ›å»ºæ–°çš„èŠ‚ç‚¹å…ƒç´ ï¼Œ<code>new Node&lt;&gt;(null, e, f)</code>ï¼Œç´§æ¥ç€æŠŠæ–°çš„å¤´å…ƒç´ èµ‹å€¼ç»™firstã€‚</li><li>ä¹‹ååˆ¤æ–­fèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨åˆ™æŠŠå¤´æ’èŠ‚ç‚¹ä½œä¸ºæœ€åä¸€ä¸ªèŠ‚ç‚¹ã€å­˜åœ¨åˆ™ç”¨fèŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªé“¾æ¡prevé“¾æ¥ã€‚</li><li>æœ€åè®°å½•sizeå¤§å°ã€å’Œå…ƒç´ æ•°é‡modCountã€‚<em>modCountç”¨åœ¨éå†æ—¶åšæ ¡éªŒï¼ŒmodCount != expectedModCount</em></li></ul><h5 id="_2-1-2-éªŒè¯" tabindex="-1"><a class="header-anchor" href="#_2-1-2-éªŒè¯" aria-hidden="true">#</a> 2.1.2 éªŒè¯</h5><p><strong>ArrayListã€LinkeListï¼Œå¤´æ’æºç éªŒè¯</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_ArrayList_addFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// add(i) åˆ™æ˜¯å°¾æ’</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_LinkedList_addFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¯”å¯¹ç»“æœï¼š</strong></p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-06.png" alt=""></p><ul><li>è¿™é‡Œæˆ‘ä»¬åˆ†åˆ«éªŒè¯ï¼Œ10ä¸‡ã€100ä¸‡ã€1000ä¸‡çš„æ•°æ®é‡ï¼Œåœ¨å¤´æ’æ—¶çš„ä¸€ä¸ªè€—æ—¶æƒ…å†µã€‚</li><li>å¦‚æˆ‘ä»¬æ•°æ®ç»“æ„å¯¹æ¯”å›¾ä¸­ä¸€æ ·ï¼ŒArrayListéœ€è¦åšå¤§é‡çš„ä½ç§»å’Œå¤åˆ¶æ“ä½œï¼Œè€ŒLinkedListçš„ä¼˜åŠ¿å°±ä½“ç°å‡ºæ¥äº†ï¼Œè€—æ—¶åªæ˜¯å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ã€‚</li></ul><h4 id="_2-2-å°¾æ’" tabindex="-1"><a class="header-anchor" href="#_2-2-å°¾æ’" aria-hidden="true">#</a> 2.2 å°¾æ’</h4><p>å…ˆæ¥çœ‹ä¸€å¼ æ•°æ®ç»“æ„å¯¹æ¯”å›¾ï¼Œå›é¡¾ä¸‹ArrayListçš„æ’å…¥ä¹Ÿå’ŒLinkedListæ’å…¥åšä¸‹å¯¹æ¯”ï¼Œå¦‚ä¸‹ï¼›</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-07.png" alt="å°å‚…å“¥ bugstack.cn &amp; æ’å…¥å¯¹æ¯”"></p><p>çœ‹ä¸Šå›¾æˆ‘ä»¬å¯ä»¥åˆ†æå‡ºå‡ ç‚¹ï¼›</p><ol><li>ArrayList å°¾æ’æ—¶ï¼Œæ˜¯ä¸éœ€è¦æ•°æ®ä½ç§»çš„ï¼Œæ¯”è¾ƒè€—æ—¶çš„æ˜¯æ•°æ®çš„æ‰©å®¹æ—¶ï¼Œéœ€è¦æ‹·è´è¿ç§»ã€‚</li><li>LinkedList å°¾æ’æ—¶ï¼Œä¸å¤´æ’ç›¸æ¯”è€—æ—¶ç‚¹ä¼šåœ¨å¯¹è±¡çš„å®ä¾‹åŒ–ä¸Šã€‚</li></ol><h5 id="_2-2-1-æºç " tabindex="-1"><a class="header-anchor" href="#_2-2-1-æºç " aria-hidden="true">#</a> 2.2.1 æºç </h5><p>è¿™é‡Œæˆ‘ä»¬å†å¯¹ç…§ä¸‹<code>LinkedList</code>å°¾æ’çš„æºç ï¼Œå¦‚ä¸‹ï¼›</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">linkLast</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> l <span class="token operator">=</span> last<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>l<span class="token punctuation">,</span> e<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    last <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        first <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        l<span class="token punctuation">.</span>next <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
    modCount<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸å¤´æ’ä»£ç ç›¸æ¯”å‡ ä¹æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œåªæ˜¯firstæ¢æˆlast</li><li>è€—æ—¶ç‚¹åªæ˜¯åœ¨åˆ›å»ºèŠ‚ç‚¹ä¸Šï¼Œ<code>Node&lt;E&gt;</code></li></ul><h5 id="_2-2-2-éªŒè¯" tabindex="-1"><a class="header-anchor" href="#_2-2-2-éªŒè¯" aria-hidden="true">#</a> 2.2.2 éªŒè¯</h5><p><strong>ArrayListã€LinkeListï¼Œå°¾æ’æºç éªŒè¯</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_ArrayList_addLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_LinkedList_addLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¯”å¯¹ç»“æœï¼š</strong></p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-08.png" alt=""></p><ul><li>è¿™é‡Œæˆ‘ä»¬åˆ†åˆ«éªŒè¯ï¼Œ10ä¸‡ã€100ä¸‡ã€1000ä¸‡çš„æ•°æ®é‡ï¼Œåœ¨å°¾æ’æ—¶çš„ä¸€ä¸ªè€—æ—¶æƒ…å†µã€‚</li><li>å¦‚æˆ‘ä»¬æ•°æ®ç»“æ„å¯¹æ¯”å›¾ä¸­ä¸€æ ·ï¼ŒArrayList ä¸éœ€è¦åšä½ç§»æ‹·è´ä¹Ÿå°±ä¸é‚£ä¹ˆè€—æ—¶äº†ï¼Œè€ŒLinkedListåˆ™éœ€è¦åˆ›å»ºå¤§é‡çš„å¯¹è±¡ã€‚<em>æ‰€ä»¥è¿™é‡ŒArrayListå°¾æ’çš„æ•ˆæœæ›´å¥½ä¸€äº›ã€‚</em></li></ul><h4 id="_2-3-ä¸­é—´æ’" tabindex="-1"><a class="header-anchor" href="#_2-3-ä¸­é—´æ’" aria-hidden="true">#</a> 2.3 ä¸­é—´æ’</h4><p>å…ˆæ¥çœ‹ä¸€å¼ æ•°æ®ç»“æ„å¯¹æ¯”å›¾ï¼Œå›é¡¾ä¸‹ArrayListçš„æ’å…¥ä¹Ÿå’ŒLinkedListæ’å…¥åšä¸‹å¯¹æ¯”ï¼Œå¦‚ä¸‹ï¼›</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-09.png" alt=""></p><p>çœ‹ä¸Šå›¾æˆ‘ä»¬å¯ä»¥åˆ†æå‡ºå‡ ç‚¹ï¼›</p><ol><li>ArrayList ä¸­é—´æ’å…¥ï¼Œé¦–å…ˆæˆ‘ä»¬çŸ¥é“ä»–çš„å®šä½æ—¶é—´å¤æ‚åº¦æ˜¯O(1)ï¼Œæ¯”è¾ƒè€—æ—¶çš„ç‚¹åœ¨äºæ•°æ®è¿ç§»å’Œå®¹é‡ä¸è¶³çš„æ—¶å€™æ‰©å®¹ã€‚</li><li>LinkedList ä¸­é—´æ’å…¥ï¼Œé“¾è¡¨çš„æ•°æ®å®é™…æ’å…¥æ—¶å€™å¹¶ä¸ä¼šæ€ä¹ˆè€—æ—¶ï¼Œä½†æ˜¯å®ƒå®šä½çš„å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†ä»¥åŠå…ƒç´ çš„å®ä¾‹åŒ–æ¯”è¾ƒè€—æ—¶ã€‚</li></ol><h5 id="_2-3-1-æºç " tabindex="-1"><a class="header-anchor" href="#_2-3-1-æºç " aria-hidden="true">#</a> 2.3.1 æºç </h5><p>è¿™é‡Œçœ‹ä¸‹LinkedListæŒ‡å®šä½ç½®æ’å…¥çš„æºç ï¼›</p><p><strong>ä½¿ç”¨add(ä½ç½®ã€å…ƒç´ )æ–¹æ³•æ’å…¥ï¼š</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token class-name">E</span> element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">checkPositionIndex</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> size<span class="token punctuation">)</span>
        <span class="token function">linkLast</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token function">linkBefore</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> <span class="token function">node</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>ä½ç½®å®šä½node(index)ï¼š</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> <span class="token function">node</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// assert isElementIndex(index);</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token punctuation">(</span>size <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> x <span class="token operator">=</span> first<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
            x <span class="token operator">=</span> x<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> x <span class="token operator">=</span> last<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> index<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
            x <span class="token operator">=</span> x<span class="token punctuation">.</span>prev<span class="token punctuation">;</span>
        <span class="token keyword">return</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>size &gt;&gt; 1</code>ï¼Œè¿™éƒ¨åˆ†çš„ä»£ç åˆ¤æ–­å…ƒç´ ä½ç½®åœ¨å·¦åŠåŒºé—´ï¼Œè¿˜æ˜¯å³åŠåŒºé—´ï¼Œåœ¨è¿›è¡Œå¾ªç¯æŸ¥æ‰¾ã€‚</li></ul><p><strong>æ‰§è¡Œæ’å…¥ï¼š</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">void</span> <span class="token function">linkBefore</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">,</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> succ<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// assert succ != null;</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> pred <span class="token operator">=</span> succ<span class="token punctuation">.</span>prev<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>pred<span class="token punctuation">,</span> e<span class="token punctuation">,</span> succ<span class="token punctuation">)</span><span class="token punctuation">;</span>
    succ<span class="token punctuation">.</span>prev <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pred <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        first <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        pred<span class="token punctuation">.</span>next <span class="token operator">=</span> newNode<span class="token punctuation">;</span>
    size<span class="token operator">++</span><span class="token punctuation">;</span>
    modCount<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ‰¾åˆ°æŒ‡å®šä½ç½®æ’å…¥çš„è¿‡ç¨‹å°±æ¯”è¾ƒç®€å•äº†ï¼Œä¸å¤´æ’ã€å°¾æ’ï¼Œç›¸å·®ä¸å¤§ã€‚</li><li>æ•´ä¸ªè¿‡ç¨‹å¯ä»¥çœ‹åˆ°ï¼Œæ’å…¥ä¸­æ¯”è¾ƒè€—æ—¶çš„ç‚¹ä¼šåœ¨éå†å¯»æ‰¾æ’å…¥ä½ç½®ä¸Šã€‚</li></ul><h5 id="_2-3-2-éªŒè¯" tabindex="-1"><a class="header-anchor" href="#_2-3-2-éªŒè¯" aria-hidden="true">#</a> 2.3.2 éªŒè¯</h5><p><strong>ArrayListã€LinkeListï¼Œä¸­é—´æ’å…¥æºç éªŒè¯</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_ArrayList_addCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_LinkedList_addCenter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">1000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¯”å¯¹ç»“æœï¼š</strong></p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-10.png" alt=""></p><ul><li>è¿™é‡Œæˆ‘ä»¬åˆ†åˆ«éªŒè¯ï¼Œ10ä¸‡ã€100ä¸‡ã€1000ä¸‡çš„æ•°æ®é‡ï¼Œåœ¨ä¸­é—´æ’æ—¶çš„ä¸€ä¸ªè€—æ—¶æƒ…å†µã€‚</li><li>å¯ä»¥çœ‹åˆ°Linkedliståœ¨ä¸­é—´æ’å…¥æ—¶ï¼Œéå†å¯»æ‰¾ä½ç½®è¿˜æ˜¯éå¸¸è€—æ—¶äº†ã€‚æ‰€ä»¥ä¸åŒçš„æƒ…å†µä¸‹ï¼Œéœ€è¦é€‰æ‹©ä¸åŒçš„Listé›†åˆåšä¸šåŠ¡ã€‚</li></ul><h3 id="_3-åˆ é™¤" tabindex="-1"><a class="header-anchor" href="#_3-åˆ é™¤" aria-hidden="true">#</a> 3. åˆ é™¤</h3><p>è®²äº†è¿™ä¹ˆå¤šæ’å…¥çš„æ“ä½œåï¼Œåˆ é™¤çš„çŸ¥è¯†ç‚¹å°±å¾ˆå¥½ç†è§£äº†ã€‚ä¸ArrayListä¸åŒï¼Œåˆ é™¤ä¸éœ€è¦æ‹·è´å…ƒç´ ï¼ŒLinkedListæ˜¯æ‰¾åˆ°å…ƒç´ ä½ç½®ï¼ŒæŠŠå…ƒç´ å‰åé“¾è¿æ¥ä¸Šã€‚åŸºæœ¬å¦‚ä¸‹å›¾ï¼›</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-9-11.png" alt=""></p><ul><li>ç¡®å®šå‡ºè¦åˆ é™¤çš„å…ƒç´ xï¼ŒæŠŠå‰åçš„é“¾æ¥è¿›è¡Œæ›¿æ¢ã€‚</li><li>å¦‚æœæ˜¯åˆ é™¤é¦–å°¾å…ƒç´ ï¼Œæ“ä½œèµ·æ¥ä¼šæ›´åŠ å®¹æ˜“ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆè¯´æ’å…¥å’Œåˆ é™¤å¿«ã€‚ä½†ä¸­é—´ä½ç½®åˆ é™¤ï¼Œéœ€è¦éå†æ‰¾åˆ°å¯¹åº”ä½ç½®ã€‚</li></ul><h4 id="_3-1-åˆ é™¤æ“ä½œæ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_3-1-åˆ é™¤æ“ä½œæ–¹æ³•" aria-hidden="true">#</a> 3.1 åˆ é™¤æ“ä½œæ–¹æ³•</h4><table><thead><tr><th style="text-align:center;">åºå·</th><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td style="text-align:center;">1</td><td>list.remove();</td><td>ä¸removeFirst()ä¸€è‡´</td></tr><tr><td style="text-align:center;">2</td><td>list.remove(1);</td><td>åˆ é™¤Idx=1çš„ä½ç½®å…ƒç´ èŠ‚ç‚¹ï¼Œéœ€è¦éå†å®šä½</td></tr><tr><td style="text-align:center;">3</td><td>list.remove(&quot;a&quot;);</td><td>åˆ é™¤å…ƒç´ =&quot;a&quot;çš„èŠ‚ç‚¹ï¼Œéœ€è¦éå†å®šä½</td></tr><tr><td style="text-align:center;">4</td><td>list.removeFirst();</td><td>åˆ é™¤é¦–ä½èŠ‚ç‚¹</td></tr><tr><td style="text-align:center;">5</td><td>list.removeLast();</td><td>åˆ é™¤ç»“å°¾èŠ‚ç‚¹</td></tr><tr><td style="text-align:center;">6</td><td>list.removeAll(Arrays.asList(&quot;a&quot;, &quot;b&quot;));</td><td>æŒ‰ç…§é›†åˆæ‰¹é‡åˆ é™¤ï¼Œåº•å±‚æ˜¯Iteratoråˆ é™¤</td></tr></tbody></table><p><strong>æºç ï¼š</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-æºç " tabindex="-1"><a class="header-anchor" href="#_3-2-æºç " aria-hidden="true">#</a> 3.2 æºç </h4><p>åˆ é™¤æ“ä½œçš„æºç éƒ½å·®ä¸å¤šï¼Œåˆ†ä¸ºåˆ é™¤é¦–å°¾èŠ‚ç‚¹ä¸å…¶ä»–èŠ‚ç‚¹æ—¶å€™ï¼Œå¯¹èŠ‚ç‚¹çš„è§£é“¾æ“ä½œã€‚è¿™é‡Œæˆ‘ä»¬ä¸¾ä¾‹ä¸€ä¸ªåˆ é™¤å…¶ä»–ä½ç½®çš„æºç è¿›è¡Œå­¦ä¹ ï¼Œå¦‚ä¸‹ï¼›</p><p><strong>list.remove(&quot;a&quot;);</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>o <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> x <span class="token operator">=</span> first<span class="token punctuation">;</span> x <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> x <span class="token operator">=</span> x<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>x<span class="token punctuation">.</span>item <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">unlink</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> x <span class="token operator">=</span> first<span class="token punctuation">;</span> x <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> x <span class="token operator">=</span> x<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>o<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">unlink</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™ä¸€éƒ¨åˆ†æ˜¯å…ƒç´ å®šä½ï¼Œå’Œ<code> unlink(x)</code>è§£é“¾ã€‚å¾ªç¯æŸ¥æ‰¾å¯¹åº”çš„å…ƒç´ ï¼Œè¿™éƒ¨åˆ†æ²¡æœ‰ä»€ä¹ˆéš¾ç‚¹ã€‚</li></ul><p><strong>unlink(x)è§£é“¾</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">E</span> <span class="token function">unlink</span><span class="token punctuation">(</span><span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// assert x != null;</span>
    <span class="token keyword">final</span> <span class="token class-name">E</span> element <span class="token operator">=</span> x<span class="token punctuation">.</span>item<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> next <span class="token operator">=</span> x<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">&gt;</span></span> prev <span class="token operator">=</span> x<span class="token punctuation">.</span>prev<span class="token punctuation">;</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>prev <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        first <span class="token operator">=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        prev<span class="token punctuation">.</span>next <span class="token operator">=</span> next<span class="token punctuation">;</span>
        x<span class="token punctuation">.</span>prev <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        last <span class="token operator">=</span> prev<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        next<span class="token punctuation">.</span>prev <span class="token operator">=</span> prev<span class="token punctuation">;</span>
        x<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    x<span class="token punctuation">.</span>item <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    size<span class="token operator">--</span><span class="token punctuation">;</span>
    modCount<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™éƒ¨åˆ†æºç ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªçŸ¥è¯†ç‚¹ï¼›</p><ol><li>è·å–å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¿¡æ¯ï¼›å…ƒç´ itemã€å…ƒç´ ä¸‹ä¸€ä¸ªèŠ‚ç‚¹nextã€å…ƒç´ ä¸Šä¸€ä¸ªèŠ‚ç‚¹prevã€‚</li><li>å¦‚æœä¸Šä¸ªèŠ‚ç‚¹ä¸ºç©ºåˆ™æŠŠå¾…åˆ é™¤å…ƒç´ çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹èµ‹å€¼ç»™é¦–èŠ‚ç‚¹ï¼Œå¦åˆ™æŠŠå¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œèµ‹å€¼ç»™å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ã€‚</li><li>åŒæ ·å¾…åˆ é™¤èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹nextï¼Œä¹Ÿæ‰§è¡Œ2æ­¥éª¤åŒæ ·æ“ä½œã€‚</li><li>æœ€åæ˜¯æŠŠåˆ é™¤èŠ‚ç‚¹è®¾ç½®ä¸ºnullï¼Œå¹¶æ‰£å‡sizeå’ŒmodeCountæ•°é‡ã€‚</li></ol><h3 id="_4-éå†" tabindex="-1"><a class="header-anchor" href="#_4-éå†" aria-hidden="true">#</a> 4. éå†</h3><p>æ¥ä¸‹æ¥è¯´ä¸‹éå†ï¼ŒArrayListä¸LinkedListçš„éå†éƒ½æ˜¯é€šç”¨çš„ï¼ŒåŸºæœ¬åŒ…æ‹¬5ç§æ–¹å¼ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬å…ˆåˆå§‹åŒ–å‡ºå¾…éå†çš„é›†åˆ1åƒä¸‡æ•°æ®ï¼›</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">int</span> xx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token annotation punctuation">@Before</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-1-æ™®é€šforå¾ªç¯" tabindex="-1"><a class="header-anchor" href="#_4-1-æ™®é€šforå¾ªç¯" aria-hidden="true">#</a> 4.1 æ™®é€šforå¾ªç¯</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_LinkedList_for0</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xx <span class="token operator">+=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-å¢å¼ºforå¾ªç¯" tabindex="-1"><a class="header-anchor" href="#_4-2-å¢å¼ºforå¾ªç¯" aria-hidden="true">#</a> 4.2 å¢å¼ºforå¾ªç¯</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_LinkedList_for1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> itr <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xx <span class="token operator">+=</span> itr<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-3-iteratoréå†" tabindex="-1"><a class="header-anchor" href="#_4-3-iteratoréå†" aria-hidden="true">#</a> 4.3 Iteratoréå†</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_LinkedList_Iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Integer</span> next <span class="token operator">=</span> iterator<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        xx <span class="token operator">+=</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-4-foreachå¾ªç¯" tabindex="-1"><a class="header-anchor" href="#_4-4-foreachå¾ªç¯" aria-hidden="true">#</a> 4.4 forEachå¾ªç¯</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_LinkedList_forEach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>integer <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        xx <span class="token operator">+=</span> integer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-5-stream-æµ" tabindex="-1"><a class="header-anchor" href="#_4-5-stream-æµ" aria-hidden="true">#</a> 4.5 stream(æµ)</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_LinkedList_stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">long</span> startTime <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>integer <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        xx <span class="token operator">+=</span> integer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è€—æ—¶ï¼š&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> startTime<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>é‚£ä¹ˆ</strong>ï¼Œä»¥ä¸Šè¿™5ç§éå†æ–¹å¼è°æœ€æ…¢å‘¢ï¼ŸæŒ‰ç…§æˆ‘ä»¬çš„æºç å­¦ä¹ åˆ†æä¸‹å§ï¼Œæ¬¢è¿ç•™ä¸‹ä½ çš„ç­”æ¡ˆåœ¨è¯„è®ºåŒºï¼</p><h2 id="äº”ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#äº”ã€æ€»ç»“" aria-hidden="true">#</a> äº”ã€æ€»ç»“</h2><ul><li>ArrayListä¸LinkedListéƒ½æœ‰è‡ªå·±çš„ä½¿ç”¨åœºæ™¯ï¼Œå¦‚æœä½ ä¸èƒ½å¾ˆå¥½çš„ç¡®å®šï¼Œé‚£ä¹ˆå°±ä½¿ç”¨ArrayListã€‚ä½†å¦‚æœä½ èƒ½ç¡®å®šä½ ä¼šåœ¨é›†åˆçš„é¦–ä½æœ‰å¤§é‡çš„æ’å…¥ã€åˆ é™¤ä»¥åŠè·å–æ“ä½œï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨LinkedListï¼Œå› ä¸ºå®ƒéƒ½æœ‰ç›¸åº”çš„æ–¹æ³•ï¼›<code>addFirst</code>ã€<code>addLast</code>ã€<code>removeFirst</code>ã€<code>removeLast</code>ã€<code>getFirst</code>ã€<code>getLast</code>ï¼Œè¿™äº›æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(1)ï¼Œéå¸¸é«˜æ•ˆã€‚</li><li>LinkedListçš„é“¾è¡¨ç»“æ„ä¸ä¸€å®šä¼šæ¯”ArrayListèŠ‚çœç©ºé—´ï¼Œé¦–å…ˆå®ƒæ‰€å ç”¨çš„å†…å­˜ä¸æ˜¯è¿ç»­çš„ï¼Œå…¶æ¬¡ä»–è¿˜éœ€è¦å¤§é‡çš„å®ä¾‹åŒ–å¯¹è±¡åˆ›é€ èŠ‚ç‚¹ã€‚è™½ç„¶ä¸ä¸€å®šèŠ‚çœç©ºé—´ï¼Œä½†é“¾è¡¨ç»“æ„ä¹Ÿæ˜¯éå¸¸ä¼˜ç§€çš„æ•°æ®ç»“æ„ï¼Œå®ƒèƒ½åœ¨ä½ çš„ç¨‹åºè®¾è®¡ä¸­èµ·ç€éå¸¸ä¼˜ç§€çš„ä½œç”¨ï¼Œä¾‹å¦‚å¯è§†åŒ–çš„é“¾è·¯è¿½è¸ªå›¾ï¼Œå°±æ˜¯éœ€è¦é“¾è¡¨ç»“æ„ï¼Œå¹¶éœ€è¦æ¯ä¸ªèŠ‚ç‚¹è‡ªæ—‹ä¸€æ¬¡ï¼Œç”¨äºä¸²è”ä¸šåŠ¡ã€‚</li><li>ç¨‹åºçš„ç²¾é«“å¾€å¾€å°±æ˜¯æ•°æ®ç»“æ„çš„è®¾è®¡ï¼Œè¿™èƒ½ä¸ºä½ çš„ç¨‹åºå¼€å‘æä¾›å‡ºéå¸¸é«˜çš„æ•ˆç‡æ”¹å˜ã€‚å¯èƒ½ç›®å‰ä½ è¿˜ä¸èƒ½ç”¨åˆ°ï¼Œä½†ä¸‡ä¸€æœ‰ä¸€å¤©ä½ éœ€è¦å»é€ ğŸš€ç«ç®­äº†å‘¢ï¼Ÿ</li></ul>`,120);function v(m,b){const a=p("ExternalLinkIcon");return e(),o("div",null,[u,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),k,s("åšå®¢ï¼š"),n("a",r,[s("https://bugstack.cn"),c(a)])]),d])}const y=t(l,[["render",v],["__file","2020-08-30-mianjingshouce Â· di8pianã€ŠLinkedListcharusudubiArrayListkuaiï¼Ÿniquedingmaï¼Ÿã€‹.html.vue"]]);export{y as default};
