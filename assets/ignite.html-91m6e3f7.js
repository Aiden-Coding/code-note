import{_ as e,r as o,o as p,c,a as n,b as a,d as t,e as i}from"./app-3RcBQnkC.js";const l={},u=n("h1",{id:"apache-ignite-â€”â€”-ä¸€ç§æ”¯æŒsqlè¯­å¥çš„çº¯å†…å­˜æ•°æ®åº“",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#apache-ignite-â€”â€”-ä¸€ç§æ”¯æŒsqlè¯­å¥çš„çº¯å†…å­˜æ•°æ®åº“","aria-hidden":"true"},"#"),a(" Apache Ignite â€”â€” ä¸€ç§æ”¯æŒSQLè¯­å¥çš„çº¯å†…å­˜æ•°æ®åº“ï¼")],-1),r=n("br",null,null,-1),d={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},k=n("blockquote",null,[n("p",null,"æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„")],-1),g=n("iframe",{id:"B-Video",src:"//player.bilibili.com/player.html?aid=363559782&bvid=BV1594y1s7Ku&cid=1269949773&p=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",width:"100%",height:"480"}," ",-1),m=n("p",null,"æœ¬æ–‡çš„å®—æ—¨åœ¨äºé€šè¿‡ç®€å•å¹²å‡€å®è·µçš„æ–¹å¼ï¼Œå‘è¯»è€…ä»‹ç»ä¸€æ¬¾åŸºäºå†…å­˜çš„åˆ†å¸ƒå¼SQLæ•°æ®åº“Apache Igniteçš„éƒ¨ç½²ã€ä½¿ç”¨å’Œæ€§èƒ½æµ‹è¯•ã€‚",-1),h=n("p",null,"é‚£æœ‰äº†Redisè¿™æ ·ä¼˜ç§€çš„NoSqlæ•°æ®åº“ï¼Œä¸ºå•¥è¿˜ä¼šç”¨åˆ°Apache Igniteå‘¢ï¼Ÿ",-1),v=n("p",null,"ä¸çŸ¥é“ä½ æ˜¯å¦æœ‰æƒ³è¿‡ä¸€ä¸ªäº‹æƒ…ï¼Œå°±æ˜¯Redisè¿™æ ·çš„å†…å­˜æ•°æ®åº“ï¼Œå¦‚æœèƒ½æ”¯æŒSQLè¯­å¥ï¼Œæ˜¯ä¸æ˜¯å°±æ›´ç‰›äº†ã€‚è¿™æ ·ä¸€æ¥æœ¬èº«å­˜åœ¨MySQLæ•°æ®åº“é‡Œçš„æ•°æ®ï¼Œå°±å¯ä»¥åŸå°ä¸åŠ¨çš„å°åˆ°å†…å­˜ä¸­ä½¿ç”¨ã€‚æ—¢ä¿ç•™äº†åŸæœ‰çš„ä¸šåŠ¡é€»è¾‘ï¼Œåˆä½¿ç”¨ä¸Šäº†å†…å­˜è¯»å–é«˜æ€§èƒ½ã€‚",-1),b=n("p",null,"æ‰€ä»¥ï¼Œå®ƒæ¥äº†ã€‚Apache Igniteæ˜¯ä¸€ä¸ªå…¼å®¹ANSI-99ã€æ°´å¹³å¯æ‰©å±•ä»¥åŠå®¹é”™çš„åˆ†å¸ƒå¼SQLæ•°æ®åº“ï¼Œä½œä¸ºä¸€ä¸ªSQLæ•°æ®åº“ï¼ŒIgniteæ”¯æŒæ‰€æœ‰çš„DMLæŒ‡ä»¤ï¼ŒåŒ…æ‹¬SELECTã€UPDATEã€INSERTå’ŒDELETEï¼Œå®ƒè¿˜å®ç°äº†ä¸€ä¸ªä¸åˆ†å¸ƒå¼ç³»ç»Ÿæœ‰å…³çš„DDLæŒ‡ä»¤çš„å­é›†ã€‚Igniteçš„ä¸€ä¸ªçªå‡ºç‰¹æ€§æ˜¯å®Œå…¨æ”¯æŒåˆ†å¸ƒå¼çš„SQLå…³è”ï¼ŒIgniteæ”¯æŒå¹¶ç½®å’Œéå¹¶ç½®çš„æ•°æ®å…³è”ã€‚å¹¶ç½®æ—¶ï¼Œå…³è”æ˜¯åœ¨æ¯ä¸ªèŠ‚ç‚¹çš„å¯ç”¨æ•°æ®é›†ä¸Šæ‰§è¡Œçš„ï¼Œè€Œä¸éœ€è¦åœ¨ç½‘ç»œä¸­ç§»åŠ¨å¤§é‡çš„æ•°æ®ï¼Œè¿™ç§æ–¹å¼åœ¨åˆ†å¸ƒå¼æ•°æ®åº“ä¸­æä¾›äº†æœ€å¥½çš„æ‰©å±•æ€§å’Œæ€§èƒ½ã€‚",-1),f=n("div",{align:"center"},[n("img",{src:"https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-01.png?raw=true",width:"650px"})],-1),y=n("p",null,"æœ¬æ–‡æ¶‰åŠçš„å·¥ç¨‹ï¼š",-1),_={href:"https://gitcode.net/KnowledgePlanet/road-map/xfg-dev-tech-ignite",target:"_blank",rel:"noopener noreferrer"},S=n("code",null,"docs/dev-ops æä¾›äº† mysqlã€ignite å®‰è£…è„šæœ¬ï¼Œå’Œæ•°æ®åˆå§‹åŒ–æ“ä½œã€‚",-1),q={href:"https://ignite.apache.org/",target:"_blank",rel:"noopener noreferrer"},w=n("code",null,"å®˜ç½‘ docs å¯ä»¥é˜…è¯»å®‰è£…å’Œä½¿ç”¨",-1),x={href:"https://ignite-service.cn/doc/2.7.0/sql/",target:"_blank",rel:"noopener noreferrer"},I=n("code",null,"è¿™æ˜¯ä¸€ä¸ª Ignite çš„ä¸­æ–‡ç«™ç‚¹",-1),D={href:"https://dbeaver.io/download/",target:"_blank",rel:"noopener noreferrer"},C=n("code",null,"å®‰è£…æœ€æ–°ç‰ˆï¼Œç›´æ¥å¯ä»¥è¿æ¥ Ignite æ•°æ®åº“",-1),B=n("h2",{id:"ä¸€ã€æ¡ˆä¾‹è¯´æ˜",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ä¸€ã€æ¡ˆä¾‹è¯´æ˜","aria-hidden":"true"},"#"),a(" ä¸€ã€æ¡ˆä¾‹è¯´æ˜")],-1),M={href:"https://bugstack.cn/md/road-map/db-router.html",target:"_blank",rel:"noopener noreferrer"},L=n("div",{align:"center"},[n("img",{src:"https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-02.png?raw=true",width:"550px"})],-1),P=n("ul",null,[n("li",null,[a("SpringBootåº”ç”¨çš„ymlé…ç½®ï¼Œæœ¬èº«é»˜è®¤æ˜¯é…ç½®ä¸€ä¸ªæ•°æ®æºçš„ã€‚ä½†æˆ‘ä»¬è¿™é‡Œéœ€è¦æŠŠIgniteä¹Ÿé…ç½®å‡ºæ•°æ®æºå¹¶è®©å®ƒå¯ä»¥ç»“åˆMyBatisè¿›è¡Œä½¿ç”¨ã€‚æ‰€ä»¥éœ€è¦åšä¸€ç‚¹ç¼–ç çš„æ‰©å±•ä½¿ç”¨ã€‚"),n("code",null,"å…·ä½“å¯ä»¥å‚è€ƒæºç ")]),n("li",null,"ä¸æ­¤åŒæ—¶è¿˜éœ€è¦è€ƒè™‘å¯¹ Daoã€Mapper åˆ†ä¸åŒçš„è·¯å¾„è¿›è¡ŒåŠ è½½ä½¿ç”¨ã€‚å› ä¸ºæœ¬èº«æ¥è¯´ï¼Œä»–ä»¬å°±æ˜¯ä¸€å¥—ä¸œè¥¿çš„ä¸åŒæ•°æ®æºä½¿ç”¨æ–¹å¼ã€‚")],-1),Q=n("h2",{id:"äºŒã€ç¯å¢ƒå®‰è£…",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#äºŒã€ç¯å¢ƒå®‰è£…","aria-hidden":"true"},"#"),a(" äºŒã€ç¯å¢ƒå®‰è£…")],-1),R={href:"https://bugstack.cn/md/road-map/docker.html",target:"_blank",rel:"noopener noreferrer"},E=n("div",{align:"center"},[n("img",{src:"https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-03.png?raw=true",width:"550px"})],-1),F={href:"https://dbeaver.io/download/",target:"_blank",rel:"noopener noreferrer"},T=n("h2",{id:"ä¸‰ã€è¿æ¥é…ç½®",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ä¸‰ã€è¿æ¥é…ç½®","aria-hidden":"true"},"#"),a(" ä¸‰ã€è¿æ¥é…ç½®")],-1),N={href:"https://dbeaver.io/download/",target:"_blank",rel:"noopener noreferrer"},j=i(`<h3 id="_1-é€‰æ‹©-ignite" tabindex="-1"><a class="header-anchor" href="#_1-é€‰æ‹©-ignite" aria-hidden="true">#</a> 1. é€‰æ‹© Ignite</h3><div align="center"><img src="https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-05.png?raw=true" width="650px"></div><h3 id="_2-éªŒè¯é“¾æ¥" tabindex="-1"><a class="header-anchor" href="#_2-éªŒè¯é“¾æ¥" aria-hidden="true">#</a> 2. éªŒè¯é“¾æ¥</h3><div align="center"><img src="https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-06.png?raw=true" width="650px"></div><h3 id="_3-åˆ›å»ºåº“è¡¨" tabindex="-1"><a class="header-anchor" href="#_3-åˆ›å»ºåº“è¡¨" aria-hidden="true">#</a> 3. åˆ›å»ºåº“è¡¨</h3><div align="center"><img src="https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-07.png?raw=true" width="650px"></div><h3 id="_4-åˆ›å»ºå®Œæˆ" tabindex="-1"><a class="header-anchor" href="#_4-åˆ›å»ºå®Œæˆ" aria-hidden="true">#</a> 4. åˆ›å»ºå®Œæˆ</h3><div align="center"><img src="https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-04.png?raw=true" width="650px"></div><ul><li>ä¹‹åä½ æ‰€æœ‰åšçš„ä¿®æ”¹ï¼ŒåŒ…æ‹¬ä½ è‡ªå·±æ‰‹åŠ¨åˆ›å»ºè¡¨ã€å­—æ®µã€ç´¢å¼•ï¼Œéƒ½éœ€è¦ç‚¹ä¿å­˜ã€‚å¦åˆ™å®ƒæ˜¯çº¢è‰²çš„ï¼Œä¸ç”Ÿæ•ˆã€‚</li></ul><h2 id="å››ã€åŠŸèƒ½é…ç½®" tabindex="-1"><a class="header-anchor" href="#å››ã€åŠŸèƒ½é…ç½®" aria-hidden="true">#</a> å››ã€åŠŸèƒ½é…ç½®</h2><h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div align="center"><img src="https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-08.png?raw=true" width="850px"></div><ul><li>appå±‚ï¼›application-dev.yml é…ç½®å¤šå¥—æ•°æ®æºï¼Œå¹¶åœ¨ DataSourceConfig ä¸­å®ç°å¤šå¥—æ•°æ®æºçš„åŠ è½½ã€‚</li><li>infrastructureå±‚ï¼›ç”¨äºæä¾›æ•°æ®çš„ dao å±‚ï¼Œè¿™é‡Œåˆ†å¼€2å¥—åˆ†åˆ«æä¾›ã€‚</li><li>triggerï¼›è§¦å‘å™¨å±‚ï¼Œæä¾›äº†è°ƒç”¨ Igniteã€MySQL çš„æµ‹è¯•éªŒè¯æ¥å£ã€‚</li></ul><h3 id="_2-æ•°æ®æºåˆ›å»º" tabindex="-1"><a class="header-anchor" href="#_2-æ•°æ®æºåˆ›å»º" aria-hidden="true">#</a> 2. æ•°æ®æºåˆ›å»º</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.ignite/ignite-core --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.ignite<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>ignite-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.15.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.apache.ignite/ignite-spring --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.ignite<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>ignite-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.15.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ³¨æ„å¼•å…¥ ignite çš„ pom é…ç½®</li></ul><h4 id="_2-1-ignite" tabindex="-1"><a class="header-anchor" href="#_2-1-ignite" aria-hidden="true">#</a> 2.1 Ignite</h4><p><strong>æºç </strong>ï¼š<code>cn.bugstack.xfg.dev.tech.config.DataSourceConfig#IgniteMyBatisConfig</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">&quot;cn.bugstack.xfg.dev.tech.infrastructure.ignite.dao&quot;</span><span class="token punctuation">,</span> sqlSessionFactoryRef <span class="token operator">=</span> <span class="token string">&quot;igniteSqlSessionFactory&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">IgniteMyBatisConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;igniteDataSource&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.ignite.datasource&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">igniteDataSource</span><span class="token punctuation">(</span><span class="token class-name">Environment</span> environment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">IgniteConfiguration</span> igniteConfig <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IgniteConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DataStorageConfiguration</span> dataStorageConfig <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataStorageConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">DataRegionConfiguration</span> defaultDataRegionConfig <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataRegionConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        defaultDataRegionConfig<span class="token punctuation">.</span><span class="token function">setPersistenceEnabled</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        dataStorageConfig<span class="token punctuation">.</span><span class="token function">setDefaultDataRegionConfiguration</span><span class="token punctuation">(</span>defaultDataRegionConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        igniteConfig<span class="token punctuation">.</span><span class="token function">setDataStorageConfiguration</span><span class="token punctuation">(</span>dataStorageConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ConnectorConfiguration</span> configuration <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConnectorConfiguration</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configuration<span class="token punctuation">.</span><span class="token function">setIdleTimeout</span><span class="token punctuation">(</span><span class="token number">6000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configuration<span class="token punctuation">.</span><span class="token function">setThreadPoolSize</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        configuration<span class="token punctuation">.</span><span class="token function">setIdleTimeout</span><span class="token punctuation">(</span><span class="token number">60000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        igniteConfig<span class="token punctuation">.</span><span class="token function">setConnectorConfiguration</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">DataSourceBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span>environment<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;spring.ignite.datasource.url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">driverClassName</span><span class="token punctuation">(</span>environment<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;spring.ignite.datasource.driver-class-name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;igniteSqlSessionFactory&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">SqlSessionFactory</span> <span class="token function">igniteSqlSessionFactory</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> igniteDataSource<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">SqlSessionFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        factoryBean<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>igniteDataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        factoryBean<span class="token punctuation">.</span><span class="token function">setMapperLocations</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PathMatchingResourcePatternResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:/mybatis/mapper/ignite/*.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> factoryBean<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åˆ›å»º Ignite çš„æ•°æ®æºï¼Œä»¥åŠå¯¹åº”çš„ igniteSqlSessionFactory å·¥å‚ã€‚è¿™æ ·å°±æŠŠ MyBatis ç»™å…³è”èµ·æ¥äº†ã€‚</li></ul><h4 id="_2-2-mysql" tabindex="-1"><a class="header-anchor" href="#_2-2-mysql" aria-hidden="true">#</a> 2.2 MySQL</h4><p><strong>æºç </strong>ï¼š<code>cn.bugstack.xfg.dev.tech.config.DataSourceConfig#MysqlMyBatisConfig</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">&quot;cn.bugstack.xfg.dev.tech.infrastructure.mysql.dao&quot;</span><span class="token punctuation">,</span> sqlSessionFactoryRef <span class="token operator">=</span> <span class="token string">&quot;mysqlSqlSessionFactory&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">MysqlMyBatisConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;mysqlDataSource&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.mysql.datasource&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">mysqlDataSource</span><span class="token punctuation">(</span><span class="token class-name">Environment</span> environment<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">DataSourceBuilder</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">url</span><span class="token punctuation">(</span>environment<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;spring.mysql.datasource.url&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">driverClassName</span><span class="token punctuation">(</span>environment<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;spring.mysql.datasource.driver-class-name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;mysqlSqlSessionFactory&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">SqlSessionFactory</span> <span class="token function">mysqlSqlSessionFactory</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> mysqlDataSource<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">SqlSessionFactoryBean</span> factoryBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        factoryBean<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>mysqlDataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
        factoryBean<span class="token punctuation">.</span><span class="token function">setMapperLocations</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PathMatchingResourcePatternResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResources</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:/mybatis/mapper/mysql/*.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> factoryBean<span class="token punctuation">.</span><span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åŒæ ·ï¼Œåˆ›å»º MySQL çš„æ•°æ®æºä»¥åŠ MyBatis çš„å…³è”æ“ä½œã€‚</li></ul><h2 id="äº”ã€æ€§èƒ½æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#äº”ã€æ€§èƒ½æµ‹è¯•" aria-hidden="true">#</a> äº”ã€æ€§èƒ½æµ‹è¯•</h2><p>å°å‚…å“¥æä¾›äº† IgniteControllerã€MySQLController ä¸¤ä¸ª HTTP è®¿é—®ç±»ï¼Œåˆ†åˆ«æä¾›äº†ä¸¤ä¸ªæ•°æ®åº“çš„å‹æµ‹æ“ä½œã€‚</p><div align="center"><img src="https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-09.png?raw=true" width="950px"></div><ul><li>è¿™é‡Œæä¾›äº† Igniteã€MySQL çš„ HTTP è®¿é—®æ¥å£ï¼Œåˆ†åˆ«è¿›è¡Œå‹æµ‹ã€‚</li></ul><h3 id="_1-ignite-å‹æµ‹" tabindex="-1"><a class="header-anchor" href="#_1-ignite-å‹æµ‹" aria-hidden="true">#</a> 1. Ignite å‹æµ‹</h3><ul><li>åˆå§‹åŒ–IDå€¼ï¼š<code>ab -c 1 -n 1 http://127.0.0.1:8091/api/ignite/start</code></li><li>å†™å…¥æ•°æ®ï¼š<code>ab -c 20 -n 50000 http://127.0.0.1:8091/api/ignite/insert</code></li><li>éšæœºåŠ è½½å†…å­˜1000æ¡æ•°æ®ï¼š<code>ab -c 20 -n 1000 http://127.0.0.1:8091/api/ignite/cacheData</code></li><li>æ ¹æ®åŠ è½½åˆ°å†…å­˜çš„æ•°æ®æŸ¥è¯¢Igniteï¼š<code>ab -c 20 -n 1000 http://127.0.0.1:8091/api/ignite/selectByOrderId</code> - è®°å¾—ç»™ OrderId åŠ ç´¢å¼•</li></ul><div align="center"><img src="https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-10.png?raw=true" width="650px"></div><h3 id="_2-mysql-å‹æµ‹" tabindex="-1"><a class="header-anchor" href="#_2-mysql-å‹æµ‹" aria-hidden="true">#</a> 2. MySQL å‹æµ‹</h3><ul><li>åˆå§‹åŒ–IDå€¼ï¼š<code>ab -c 1 -n 1 http://127.0.0.1:8091/api/ignite/start</code></li><li>å†™å…¥æ•°æ®ï¼š<code>ab -c 20 -n 50000 http://127.0.0.1:8091/api/ignite/insert</code></li><li>éšæœºåŠ è½½å†…å­˜1000æ¡æ•°æ®ï¼š<code>ab -c 20 -n 1000 http://127.0.0.1:8091/api/ignite/cacheData</code></li><li>æ ¹æ®åŠ è½½åˆ°å†…å­˜çš„æ•°æ®æŸ¥è¯¢MySQLï¼š<code>ab -c 20 -n 1000 http://127.0.0.1:8091/api/ignite/selectByOrderId</code> - è®°å¾—ç»™ OrderId åŠ ç´¢å¼•</li></ul><div align="center"><img src="https://bugstack.cn/images/roadmap/tutorial/roadmap-ignite-11.png?raw=true" width="650px"></div><hr><p><strong>ç»¼ä¸Š</strong>ï¼ŒIgnite ç•¥èƒœä¸€ç­¹ï¼Œç¡®å®çº¯å†…å­˜çš„æ•°æ®åº“ä¼šæ›´å¿«ä¸€äº›ã€‚ä¹Ÿé€‚åˆåœ¨ä¸€äº›éœ€è¦å†…å­˜è®¡ç®—çš„åœºæ™¯ä¸­ï¼Œå¹¶ä¸”ä¸æ”¹å˜MySQLè¡¨ç»“æ„çš„æƒ…å†µä¸‹ï¼Œåšä¸€äº›ä¼˜åŒ–çš„æ˜¯ä½¿ç”¨ã€‚</p>`,36);function A(O,V){const s=o("ExternalLinkIcon");return p(),c("div",null,[u,n("p",null,[a("ä½œè€…ï¼šå°å‚…å“¥ "),r,a("åšå®¢ï¼š"),n("a",d,[a("https://bugstack.cn"),t(s)])]),k,g,m,h,v,b,f,y,n("ul",null,[n("li",null,[a("xfg-dev-tech-igniteï¼š"),n("a",_,[a("https://gitcode.net/KnowledgePlanet/road-map/xfg-dev-tech-ignite"),t(s)]),a("- "),S]),n("li",null,[a("å®˜ç½‘ç«™ç‚¹ï¼š"),n("a",q,[a("https://ignite.apache.org/"),t(s)]),a(" - "),w]),n("li",null,[a("ä¸­æ–‡æ–‡æ¡£ï¼š"),n("a",x,[a("https://ignite-service.cn/doc/2.7.0/sql/"),t(s)]),a(" - "),I]),n("li",null,[a("ç®¡ç†å·¥å…·ï¼š"),n("a",D,[a("DBeaver"),t(s)]),a(" - "),C])]),B,n("p",null,[a("æœ¬æ¡ˆä¾‹ä¸­ä¸ºäº†å¯¹æ¯”MySQLå’ŒIgniteçš„æ€§èƒ½å·®å¼‚ï¼Œä»¥åŠå¦‚ä½•åŒæ—¶ä½¿ç”¨ä¸¤å¥—æ•°æ®åº“ï¼Œè¿™é‡Œå°å‚…å“¥ä¼šåœ¨ä¸€ä¸ªå·¥ç¨‹ä¸­åˆ†åˆ«é…ç½®å‡ºä¸åŒçš„æ•°æ®åº“å¯¹åº”æ•°æ®æºçš„åˆ›å»ºå’ŒMyBatisçš„é…ç½®ç”¨ã€‚å¦‚æœè¯´ä½ åšè¿‡å°å‚…å“¥çš„ "),n("a",M,[a("DB-Router"),t(s)]),a(" ç»„ä»¶å¼€å‘ï¼Œé‚£ä¹ˆä¹Ÿå¯ä»¥åœ¨ç»„ä»¶ä¸­æ·»åŠ å¯¹Igniteå†…å­˜æ•°æ®åº“çš„è·¯ç”±é…ç½®ã€‚è¿™æ ·çš„ä½¿ç”¨ä¼šæ›´åŠ æ–¹ä¾¿ï¼Œä¹Ÿå¯ä»¥è‡ªåŠ¨çš„é€šè¿‡æ³¨è§£æ¥åˆ‡æ¢æ•°æ®æºçš„ä½¿ç”¨ã€‚")]),L,P,Q,n("p",null,[a("åœ¨å®‰è£…æ‰§è¡Œ docker-compose.yml è„šæœ¬ä¹‹å‰ï¼Œä½ éœ€è¦å…ˆåœ¨æœ¬åœ°å®‰è£… "),n("a",R,[a("docker"),t(s)]),a("ä¹‹å IntelliJ IDEA æ‰“å¼€ docker-compose.yml æ–‡ä»¶ï¼Œå¦‚å›¾æ“ä½œå³å¯å®‰è£…ã€‚")]),E,n("ul",null,[n("li",null,[a("åœ¨ docker-compose.yml ä¸­ä¼šå…ˆå®‰è£… MySQL å¹¶æ‰§è¡Œ sql æ–‡ä»¶å¤¹é‡Œçš„ SQL è¯­å¥åˆå§‹åŒ–æ•°æ®åº“è¡¨ã€‚ä¹‹åä¼šå®‰è£… Ignite ç¯å¢ƒï¼Œå®‰è£…åéœ€è¦ç”¨åˆ° "),n("a",F,[a("DBeaver"),t(s)]),a(" è¿æ¥ä½¿ç”¨ã€‚åŒæ—¶ compose ä¸­è¿˜å®‰è£…äº†ä¸€ä¸ª ApacheBench å‹æµ‹å·¥å…·ã€‚")])]),T,n("p",null,[a("é¦–å…ˆç¡®ä¿ä½ å·²ç»å®‰è£…è¿‡ "),n("a",N,[a("DBeaver"),t(s)]),a(" ï¼Œä¹‹åå°±å¯ä»¥è¿æ¥å’Œåˆ›å»ºè¡¨äº†ã€‚")]),j])}const H=e(l,[["render",A],["__file","ignite.html.vue"]]);export{H as default};
