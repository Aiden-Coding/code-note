import{_ as p,r as e,o,c,a as n,b as s,d as t,e as l}from"./app-3RcBQnkC.js";const i={},u=n("h1",{id:"ã€Šmybatis-æ‰‹æ’¸ä¸“æ ã€‹ç¬¬5ç« -æ•°æ®æºçš„è§£æã€åˆ›å»ºå’Œä½¿ç”¨",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ã€Šmybatis-æ‰‹æ’¸ä¸“æ ã€‹ç¬¬5ç« -æ•°æ®æºçš„è§£æã€åˆ›å»ºå’Œä½¿ç”¨","aria-hidden":"true"},"#"),s(" ã€ŠMybatis æ‰‹æ’¸ä¸“æ ã€‹ç¬¬5ç« ï¼šæ•°æ®æºçš„è§£æã€åˆ›å»ºå’Œä½¿ç”¨")],-1),r=n("br",null,null,-1),k={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=n("br",null,null,-1),v={href:"https://mp.weixin.qq.com/s/g9cZOsYSFJtp6FoFtMg6RQ",target:"_blank",rel:"noopener noreferrer"},m=n("blockquote",null,[n("p",null,"æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„")],-1),b=n("iframe",{id:"B-Video",src:"//player.bilibili.com/player.html?aid=600106991&bvid=BV1KB4y1s7Mb&cid=749773144&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",width:"100%",height:"480"}," ",-1),g=l(`<h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>ç®¡ä½ åƒå‡ ç¢—ç²‰ï¼Œæœ‰æµé‡å°±è¡Œï¼</code></p><p>ç°åœ¨æˆ‘ä»¬æ¯å¤©æ‰€æ¥æ”¶çš„ä¿¡æ¯é‡è¶Šæ¥è¶Šå¤šï¼Œä½†å¾ˆå¤šçš„ä¸ªäººå´æ²¡æœ‰å¤šå°‘åˆ†è¾¨çŸ¥è¯†çš„èƒ½åŠ›ã€‚å¾ˆå¤šçŸ¥è¯†ä¿¡æ¯ä¹Ÿåªæ˜¯è¹­çƒ­ç‚¹çš„æ³›çŸ¥è¯†ï¼Œä½†æ³›çŸ¥è¯†åªæ˜¯ä¸€ç§ç©ºæ³›ã€ä¸æˆç³»ç»Ÿã€ç”šè‡³å¯èƒ½æ˜¯é”™è¯¯çš„ä¿¡æ¯ç¾¤ï¼Œä¸è¿‡å°±æ˜¯è¿™æ ·çš„ä¿¡æ¯å´ç»™å†…å®¹æ¶ˆè´¹è€…ä¸€ç§â€œæˆåŠŸè·å–äº†çŸ¥è¯†â€åƒé¥±çš„å¹»è§‰ï¼Œå´ä¸§å¤±äº†å¯¹çŸ¥è¯†å±‚æ¬¡çš„æŠŠæ§ã€‚</p><p>è€Œä½œä¸ºä¸€ä¸ªæœ¬èº«å°±å¾ˆç†ç§‘çš„ç¨‹åºå‘˜æ¥è¯´ï¼Œå¦‚æœéƒ½æ˜¯è¢«æ³›çŸ¥è¯†å……æ–¥ï¼ŒèŠ±è´¹ç€è‡ªå·±çš„ç²¾åŠ›å’Œæ—¶é—´ï¼Œæ²¡æœ‰ç»è¿‡è¶³å¤Ÿçš„è„‘åŠ›æ€è€ƒæ‰€å¸æ”¶çš„æ³›æŠ€æœ¯å†…å®¹ï¼Œé•¿æœŸä»¥å¾€æ˜¯å¾ˆéš¾æœ‰æ‰€æˆé•¿çš„ã€‚</p><p>ä»¥ä¸ºæˆ‘ä¸ªäººçš„æˆé•¿ç»å†æ¥çœ‹ï¼Œæˆ‘æ›´æ„¿æ„èŠ±å¾ˆå¤šçš„æ—¶é—´æ¥è§£å†³ä¸€ä¸ªé—®é¢˜ï¼Œè€Œä¸æ˜¯ä¸€ç‰‡é—®é¢˜ã€‚å½“ä¸€ä¸ªé—®é¢˜è§£å†³çš„è¶³å¤Ÿé€å½»ã€æ¸…æ™°ã€æ˜ç¡®ä»¥åï¼Œå†ç»“åˆç€è¿™ä¸ªçŸ¥è¯†ç‚¹æ‰€éœ€è¦çš„å†…å®¹ç»§ç»­æ‰©å±•å’Œæ·±æŒ–ã€‚å¾ˆåº†å¹¸å½“å¹´æ²¡æœ‰é‚£ä¹ˆå¤šçš„æ³›çŸ¥è¯†å†…å®¹æ¨é€ï¼Œå¦åˆ™å¯èƒ½æˆ‘ä¹Ÿä¼šè¢«å¼„çš„å¾ˆç„¦è™‘ï¼</p><h2 id="äºŒã€ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#äºŒã€ç›®æ ‡" aria-hidden="true">#</a> äºŒã€ç›®æ ‡</h2><p>åœ¨ä¸Šä¸€ç« èŠ‚æˆ‘ä»¬è§£æ XML ä¸­çš„ SQL é…ç½®ä¿¡æ¯ï¼Œå¹¶åœ¨ä»£ç†å¯¹è±¡è°ƒç”¨ DefaultSqlSession ä¸­è¿›è¡Œè·å–å’Œæ‰“å°æ“ä½œï¼Œä»æ•´ä¸ªæ¡†æ¶ç»“æ„æ¥çœ‹æˆ‘ä»¬è§£å†³äº†å¯¹è±¡çš„ä»£ç†ã€Mapperçš„æ˜ å°„ã€SQLçš„åˆæ­¥è§£æï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±åº”è¯¥æ˜¯è¿åº“å’Œæ‰§è¡ŒSQLè¯­å¥å¹¶è¿”å›ç»“æœäº†ã€‚</p><p>é‚£ä¹ˆè¿™éƒ¨åˆ†å†…å®¹å°±ä¼šæ¶‰åŠåˆ°è§£æ XML ä¸­å…³äº dataSource æ•°æ®æºä¿¡æ¯é…ç½®ï¼Œå¹¶ç®€å†äº‹åŠ¡ç®¡ç†å’Œè¿æ¥æ± çš„å¯åŠ¨å’Œä½¿ç”¨ã€‚å¹¶å°†è¿™éƒ¨åˆ†èƒ½åŠ›åœ¨ DefaultSqlSession æ‰§è¡Œ SQL è¯­å¥æ—¶è¿›è¡Œè°ƒç”¨ã€‚ä½†ä¸ºäº†ä¸è‡³äºåœ¨ä¸€ä¸ªç« èŠ‚æŠŠæ•´ä¸ªå·¥ç¨‹æ’‘å¤§ï¼Œè¿™é‡Œæˆ‘ä»¬ä¼šæŠŠé‡ç‚¹æ”¾åˆ°è§£æé…ç½®ã€ç®€å†äº‹åŠ¡æ¡†æ¶å’Œå¼•å…¥ DRUID è¿æ¥æ± ï¼Œä»¥åŠåˆæ­¥å®Œæˆ SQL çš„æ‰§è¡Œå’Œç»“æœç®€å•åŒ…è£…ä¸Šã€‚ä¾¿äºè¯»è€…å…ˆç†Ÿæ‚‰æ•´ä¸ªæ¡†æ¶ç»“æ„ï¼Œåœ¨åç»­ç« èŠ‚å†é™†ç»­è¿­ä»£å’Œå®Œå–„æ¡†æ¶ç»†èŠ‚ã€‚</p><h2 id="ä¸‰ã€è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€è®¾è®¡" aria-hidden="true">#</a> ä¸‰ã€è®¾è®¡</h2><p>å»ºç«‹æ•°æ®æºè¿æ¥æ± å’Œ JDBC äº‹åŠ¡å·¥å‚æ“ä½œï¼Œå¹¶ä»¥ xml é…ç½®æ•°æ®æºä¿¡æ¯ä¸ºå…¥å£ï¼Œåœ¨ XMLConfigBuilder ä¸­æ·»åŠ æ•°æ®æºè§£æå’Œæ„å»ºæ“ä½œï¼Œå‘é…ç½®ç±»configurationæ·»åŠ  JDBC æ“ä½œç¯å¢ƒä¿¡æ¯ã€‚ä»¥ä¾¿åœ¨ DefaultSqlSession å®Œæˆå¯¹ JDBC æ‰§è¡Œ SQL çš„æ“ä½œã€‚</p><p><img src="https://bugstack.cn/images/article/spring/mybatis-220414-01.png" alt="å›¾ 5-1 æ•°æ®æºçš„è§£æå’Œä½¿ç”¨"></p><ul><li>åœ¨ parse ä¸­è§£æ XML DB é“¾æ¥é…ç½®ä¿¡æ¯ï¼Œå¹¶å®Œæˆäº‹åŠ¡å·¥å‚å’Œè¿æ¥æ± çš„æ³¨å†Œç¯å¢ƒåˆ°é…ç½®ç±»çš„æ“ä½œã€‚</li><li>ä¸ä¸Šä¸€ç« èŠ‚æ”¹é€  selectOne æ–¹æ³•çš„å¤„ç†ï¼Œä¸å†æ˜¯æ‰“å° SQL è¯­å¥ï¼Œè€Œæ˜¯æŠŠ SQL è¯­å¥æ”¾åˆ° DB è¿æ¥æ± ä¸­è¿›è¡Œæ‰§è¡Œï¼Œä»¥åŠå®Œæˆç®€å•çš„ç»“æœå°è£…ã€‚</li></ul><h2 id="å››ã€å®ç°" tabindex="-1"><a class="header-anchor" href="#å››ã€å®ç°" aria-hidden="true">#</a> å››ã€å®ç°</h2><h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mybatis<span class="token operator">-</span>step<span class="token operator">-</span><span class="token number">04</span>
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â””â”€â”€ java
    â”‚       â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>mybatis
    â”‚           â”œâ”€â”€ binding
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">MapperMethod</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">MapperProxy</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">MapperProxyFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">MapperRegistry</span><span class="token punctuation">.</span>java
    â”‚           â”œâ”€â”€ builder
    â”‚           â”‚   â”œâ”€â”€ xml
    â”‚           â”‚   â”‚   â””â”€â”€ <span class="token class-name">XMLConfigBuilder</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">BaseBuilder</span><span class="token punctuation">.</span>java
    â”‚           â”œâ”€â”€ datasource
    â”‚           â”‚   â”œâ”€â”€ druid
    â”‚           â”‚   â”‚   â””â”€â”€ <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">DataSourceFactory</span><span class="token punctuation">.</span>java
    â”‚           â”œâ”€â”€ io
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">Resources</span><span class="token punctuation">.</span>java
    â”‚           â”œâ”€â”€ mapping
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">BoundSql</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">Environment</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">MappedStatement</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">ParameterMapping</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">SqlCommandType</span><span class="token punctuation">.</span>java
    â”‚           â”œâ”€â”€ session
    â”‚           â”‚   â”œâ”€â”€ defaults
    â”‚           â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">DefaultSqlSession</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â””â”€â”€ <span class="token class-name">DefaultSqlSessionFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">Configuration</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">SqlSession</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">SqlSessionFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">TransactionIsolationLevel</span><span class="token punctuation">.</span>java
    â”‚           â”œâ”€â”€ transaction
    â”‚           â”‚   â”œâ”€â”€ jdbc
    â”‚           â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">JdbcTransaction</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â””â”€â”€ <span class="token class-name">JdbcTransactionFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">Transaction</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">TransactionFactory</span><span class="token punctuation">.</span>java
    â”‚           â””â”€â”€ type
    â”‚               â”œâ”€â”€ <span class="token class-name">JdbcType</span><span class="token punctuation">.</span>java
    â”‚               â””â”€â”€ <span class="token class-name">TypeAliasRegistry</span><span class="token punctuation">.</span>java
    â””â”€â”€ test
        â”œâ”€â”€ java
        â”‚   â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>test<span class="token punctuation">.</span>dao
        â”‚       â”œâ”€â”€ dao
        â”‚       â”‚   â””â”€â”€ <span class="token class-name">IUserDao</span><span class="token punctuation">.</span>java
        â”‚       â”œâ”€â”€ po
        â”‚       â”‚   â””â”€â”€ <span class="token class-name">User</span><span class="token punctuation">.</span>java
        â”‚       â””â”€â”€ <span class="token class-name">ApiTest</span><span class="token punctuation">.</span>java
        â””â”€â”€ resources
            â”œâ”€â”€ mapper
            â”‚   â””â”€â”€<span class="token class-name">User_Mapper</span><span class="token punctuation">.</span>xml
            â””â”€â”€ mybatis<span class="token operator">-</span>config<span class="token operator">-</span>datasource<span class="token punctuation">.</span>xml
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å·¥ç¨‹æºç </strong>ï¼š<code>å…¬ä¼—å·ã€Œbugstackè™«æ´æ ˆã€ï¼Œå›å¤ï¼šæ‰‹å†™Mybatisï¼Œè·å–å®Œæ•´æºç </code></p><p>æ•°æ®æºçš„è§£æå’Œä½¿ç”¨æ ¸å¿ƒç±»å…³ç³»ï¼Œå¦‚å›¾ 5-2 æ‰€ç¤º</p><p><img src="https://bugstack.cn/images/article/spring/mybatis-220414-02.png" alt="å›¾ 5-2 æ•°æ®æºçš„è§£æå’Œä½¿ç”¨æ ¸å¿ƒç±»å…³ç³»"></p><ul><li>ä»¥äº‹åŠ¡æ¥å£ Transaction å’Œäº‹åŠ¡å·¥å‚ TransactionFactory çš„å®ç°ï¼ŒåŒ…è£…æ•°æ®æº DruidDataSourceFactory çš„åŠŸèƒ½ã€‚è¿™é‡Œçš„æ•°æ®æºè¿æ¥æ± æˆ‘ä»¬é‡‡ç”¨çš„æ˜¯é˜¿é‡Œçš„ Druidï¼Œæš‚æ—¶è¿˜æ²¡æœ‰å®ç° Mybatis çš„ JNDI å’Œ Pooled è¿æ¥æ± ï¼Œè¿™éƒ¨åˆ†å¯ä»¥åç»­ä¸“é—¨ä»¥æ•°æ®æºè¿æ¥æ± çš„ä¸“é¡¹æ¥å¼€å‘ã€‚</li><li>å½“æ‰€æœ‰çš„æ•°æ®æºç›¸å…³åŠŸèƒ½å‡†å¤‡å¥½åï¼Œå°±æ˜¯åœ¨ XMLConfigBuilder è§£æ XML é…ç½®æ“ä½œä¸­ï¼Œå¯¹æ•°æ®æºçš„é…ç½®è¿›è¡Œè§£æä»¥åŠåˆ›å»ºå‡ºç›¸åº”çš„æœåŠ¡ï¼Œå­˜æ”¾åˆ° Configuration çš„ç¯å¢ƒé…ç½®ä¸­ã€‚</li><li>æœ€ååœ¨ DefaultSqlSession#selectOne æ–¹æ³•ä¸­å®Œæˆ SQL çš„æ‰§è¡Œå’Œç»“æœå°è£…ï¼Œæœ€ç»ˆå°±æŠŠæ•´ä¸ª Mybatis æ ¸å¿ƒè„‰ç»œä¸²è”å‡ºæ¥äº†ã€‚</li></ul><h3 id="_2-äº‹åŠ¡ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#_2-äº‹åŠ¡ç®¡ç†" aria-hidden="true">#</a> 2. äº‹åŠ¡ç®¡ç†</h3><p>ä¸€æ¬¡æ•°æ®åº“çš„æ“ä½œåº”è¯¥å…·æœ‰äº‹åŠ¡ç®¡ç†èƒ½åŠ›ï¼Œè€Œä¸æ˜¯é€šè¿‡ JDBC è·å–é“¾æ¥åç›´æ¥æ‰§è¡Œå³å¯ã€‚è¿˜åº”è¯¥æŠŠæ§é“¾æ¥ã€æäº¤ã€å›æ»šå’Œå…³é—­çš„æ“ä½œå¤„ç†ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ç»“åˆ JDBC çš„èƒ½åŠ›å°è£…äº‹åŠ¡ç®¡ç†ã€‚</p><h4 id="_2-1-äº‹åŠ¡æ¥å£" tabindex="-1"><a class="header-anchor" href="#_2-1-äº‹åŠ¡æ¥å£" aria-hidden="true">#</a> 2.1 äº‹åŠ¡æ¥å£</h4><p><strong>è¯¦è§æºç </strong>ï¼š<code>cn.bugstack.mybatis.transaction.Transaction</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Transaction</span> <span class="token punctuation">{</span>

    <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®šä¹‰æ ‡å‡†çš„äº‹åŠ¡æ¥å£ï¼Œé“¾æ¥ã€æäº¤ã€å›æ»šã€å…³é—­ï¼Œå…·ä½“å¯ä»¥ç”±ä¸åŒçš„äº‹åŠ¡æ–¹å¼è¿›è¡Œå®ç°ï¼ŒåŒ…æ‹¬ï¼šJDBCå’Œæ‰˜ç®¡äº‹åŠ¡ï¼Œæ‰˜ç®¡äº‹åŠ¡æ˜¯äº¤ç»™ Spring è¿™æ ·çš„å®¹å™¨æ¥ç®¡ç†ã€‚</li></ul><p><strong>è¯¦è§æºç </strong>ï¼š<code>cn.bugstack.mybatis.transaction.jdbc.JdbcTransaction</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcTransaction</span> <span class="token keyword">implements</span> <span class="token class-name">Transaction</span> <span class="token punctuation">{</span>

    <span class="token keyword">protected</span> <span class="token class-name">Connection</span> connection<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token class-name">TransactionIsolationLevel</span> level <span class="token operator">=</span> <span class="token class-name">TransactionIsolationLevel</span><span class="token punctuation">.</span><span class="token constant">NONE</span><span class="token punctuation">;</span>
    <span class="token keyword">protected</span> <span class="token keyword">boolean</span> autoCommit<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">JdbcTransaction</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">,</span> <span class="token class-name">TransactionIsolationLevel</span> level<span class="token punctuation">,</span> <span class="token keyword">boolean</span> autoCommit<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dataSource <span class="token operator">=</span> dataSource<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>level <span class="token operator">=</span> level<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>autoCommit <span class="token operator">=</span> autoCommit<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Connection</span> <span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">setTransactionIsolation</span><span class="token punctuation">(</span>level<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">setAutoCommit</span><span class="token punctuation">(</span>autoCommit<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> connection<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>connection <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>connection<span class="token punctuation">.</span><span class="token function">getAutoCommit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            connection<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//...</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ JDBC äº‹åŠ¡å®ç°ç±»ä¸­ï¼Œå°è£…äº†è·å–é“¾æ¥ã€æäº¤äº‹åŠ¡ç­‰æ“ä½œï¼Œå…¶å®ä½¿ç”¨çš„ä¹Ÿå°±æ˜¯ JDBC æœ¬èº«æä¾›çš„èƒ½åŠ›ã€‚</li></ul><h4 id="_2-2-äº‹åŠ¡å·¥å‚" tabindex="-1"><a class="header-anchor" href="#_2-2-äº‹åŠ¡å·¥å‚" aria-hidden="true">#</a> 2.2 äº‹åŠ¡å·¥å‚</h4><p><strong>è¯¦è§æºç </strong>ï¼š<code>cn.bugstack.mybatis.transaction.TransactionFactory</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">TransactionFactory</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * æ ¹æ® Connection åˆ›å»º Transaction
     * <span class="token keyword">@param</span> <span class="token parameter">conn</span> Existing database connection
     * <span class="token keyword">@return</span> Transaction
     */</span>
    <span class="token class-name">Transaction</span> <span class="token function">newTransaction</span><span class="token punctuation">(</span><span class="token class-name">Connection</span> conn<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * æ ¹æ®æ•°æ®æºå’Œäº‹åŠ¡éš”ç¦»çº§åˆ«åˆ›å»º Transaction
     * <span class="token keyword">@param</span> <span class="token parameter">dataSource</span> DataSource to take the connection from
     * <span class="token keyword">@param</span> <span class="token parameter">level</span> Desired isolation level
     * <span class="token keyword">@param</span> <span class="token parameter">autoCommit</span> Desired autocommit
     * <span class="token keyword">@return</span> Transaction
     */</span>
    <span class="token class-name">Transaction</span> <span class="token function">newTransaction</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">,</span> <span class="token class-name">TransactionIsolationLevel</span> level<span class="token punctuation">,</span> <span class="token keyword">boolean</span> autoCommit<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä»¥å·¥å‚æ–¹æ³•æ¨¡å¼åŒ…è£… JDBC äº‹åŠ¡å®ç°ï¼Œä¸ºæ¯ä¸€ä¸ªäº‹åŠ¡å®ç°éƒ½æä¾›ä¸€ä¸ªå¯¹åº”çš„å·¥å‚ã€‚ä¸ç®€å•å·¥å‚çš„æ¥å£åŒ…è£…ä¸åŒã€‚</li></ul><h3 id="_3-ç±»å‹åˆ«åæ³¨å†Œå™¨" tabindex="-1"><a class="header-anchor" href="#_3-ç±»å‹åˆ«åæ³¨å†Œå™¨" aria-hidden="true">#</a> 3. ç±»å‹åˆ«åæ³¨å†Œå™¨</h3><p>åœ¨ Mybatis æ¡†æ¶ä¸­æˆ‘ä»¬æ‰€éœ€è¦çš„åŸºæœ¬ç±»å‹ã€æ•°ç»„ç±»å‹ä»¥åŠè‡ªå·±å®šä¹‰çš„äº‹åŠ¡å®ç°å’Œäº‹åŠ¡å·¥å‚éƒ½éœ€è¦æ³¨å†Œåˆ°ç±»å‹åˆ«åçš„æ³¨å†Œå™¨ä¸­è¿›è¡Œç®¡ç†ï¼Œåœ¨æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„æ—¶å€™å¯ä»¥ä»æ³¨å†Œå™¨ä¸­è·å–åˆ°å…·ä½“çš„å¯¹è±¡ç±»å‹ï¼Œä¹‹ååœ¨è¿›è¡Œå®ä¾‹åŒ–çš„æ–¹å¼è¿›è¡Œä½¿ç”¨ã€‚</p><h4 id="_3-1-åŸºç¡€æ³¨å†Œå™¨" tabindex="-1"><a class="header-anchor" href="#_3-1-åŸºç¡€æ³¨å†Œå™¨" aria-hidden="true">#</a> 3.1 åŸºç¡€æ³¨å†Œå™¨</h4><p><strong>è¯¦è§æºç </strong>ï¼š<code>cn.bugstack.mybatis.type.TypeAliasRegistry</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TypeAliasRegistry</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token constant">TYPE_ALIASES</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">TypeAliasRegistry</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ„é€ å‡½æ•°é‡Œæ³¨å†Œç³»ç»Ÿå†…ç½®çš„ç±»å‹åˆ«å</span>
        <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;string&quot;</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// åŸºæœ¬åŒ…è£…ç±»å‹</span>
        <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;byte&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Byte</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;long&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;short&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Short</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;int&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;integer&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;double&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;float&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Float</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;boolean&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Boolean</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token class-name">String</span> alias<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> key <span class="token operator">=</span> alias<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">ENGLISH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token constant">TYPE_ALIASES</span><span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">resolveAlias</span><span class="token punctuation">(</span><span class="token class-name">String</span> string<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> key <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token class-name">Locale</span><span class="token punctuation">.</span><span class="token constant">ENGLISH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> <span class="token constant">TYPE_ALIASES</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ TypeAliasRegistry ç±»å‹åˆ«åæ³¨å†Œå™¨ä¸­å…ˆåšäº†ä¸€äº›åŸºæœ¬çš„ç±»å‹æ³¨å†Œï¼Œä»¥åŠæä¾› registerAlias æ³¨å†Œæ–¹æ³•å’Œ resolveAlias è·å–æ–¹æ³•ã€‚</li></ul><h4 id="_3-2-æ³¨å†Œäº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#_3-2-æ³¨å†Œäº‹åŠ¡" aria-hidden="true">#</a> 3.2 æ³¨å†Œäº‹åŠ¡</h4><p><strong>è¯¦è§æºç </strong>ï¼š<code>cn.bugstack.mybatis.session.Configuration</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Configuration</span> <span class="token punctuation">{</span>

    <span class="token comment">//ç¯å¢ƒ</span>
    <span class="token keyword">protected</span> <span class="token class-name">Environment</span> environment<span class="token punctuation">;</span>

    <span class="token comment">// æ˜ å°„æ³¨å†Œæœº</span>
    <span class="token keyword">protected</span> <span class="token class-name">MapperRegistry</span> mapperRegistry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MapperRegistry</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// æ˜ å°„çš„è¯­å¥ï¼Œå­˜åœ¨Mapé‡Œ</span>
    <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">MappedStatement</span><span class="token punctuation">&gt;</span></span> mappedStatements <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// ç±»å‹åˆ«åæ³¨å†Œæœº</span>
    <span class="token keyword">protected</span> <span class="token keyword">final</span> <span class="token class-name">TypeAliasRegistry</span> typeAliasRegistry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TypeAliasRegistry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Configuration</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        typeAliasRegistry<span class="token punctuation">.</span><span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;JDBC&quot;</span><span class="token punctuation">,</span> <span class="token class-name">JdbcTransactionFactory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        typeAliasRegistry<span class="token punctuation">.</span><span class="token function">registerAlias</span><span class="token punctuation">(</span><span class="token string">&quot;DRUID&quot;</span><span class="token punctuation">,</span> <span class="token class-name">DruidDataSourceFactory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ Configuration é…ç½®é€‰é¡¹ç±»ä¸­ï¼Œæ·»åŠ ç±»å‹åˆ«åæ³¨å†Œæœºï¼Œé€šè¿‡æ„é€ å‡½æ•°æ·»åŠ  JDBCã€DRUID æ³¨å†Œæ“ä½œã€‚</li><li>è¯»è€…åº”è¯¥æ³¨æ„åˆ°ï¼Œæ•´ä¸ª Mybatis çš„æ“ä½œéƒ½æ˜¯ä½¿ç”¨ Configuration é…ç½®é¡¹è¿›è¡Œä¸²è”æµç¨‹ï¼Œæ‰€ä»¥æ‰€æœ‰å†…å®¹éƒ½ä¼šåœ¨ Configuration ä¸­è¿›è¡Œé“¾æ¥ã€‚</li></ul><h3 id="_4-è§£ææ•°æ®æºé…ç½®" tabindex="-1"><a class="header-anchor" href="#_4-è§£ææ•°æ®æºé…ç½®" aria-hidden="true">#</a> 4. è§£ææ•°æ®æºé…ç½®</h3><p>é€šè¿‡åœ¨ XML è§£æå™¨ XMLConfigBuilder ä¸­ï¼Œæ‰©å±•å¯¹ç¯å¢ƒä¿¡æ¯çš„è§£æï¼Œæˆ‘ä»¬è¿™é‡ŒæŠŠæ•°æ®æºã€äº‹åŠ¡ç±»å†…å®¹ç§°ä¸ºæ“ä½œ SQL çš„ç¯å¢ƒã€‚è§£æåæŠŠé…ç½®ä¿¡æ¯å†™å…¥åˆ° Configuration é…ç½®é¡¹ä¸­ï¼Œä¾¿äºåç»­ä½¿ç”¨ã€‚</p><p><strong>è¯¦è§æºç </strong>ï¼š<code>cn.bugstack.mybatis.builder.xml.XMLConfigBuilder</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">XMLConfigBuilder</span> <span class="token keyword">extends</span> <span class="token class-name">BaseBuilder</span> <span class="token punctuation">{</span>
         
  <span class="token keyword">public</span> <span class="token class-name">Configuration</span> <span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">try</span> <span class="token punctuation">{</span>
          <span class="token comment">// ç¯å¢ƒ</span>
          <span class="token function">environmentsElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span><span class="token string">&quot;environments&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// è§£ææ˜ å°„å™¨</span>
          <span class="token function">mapperElement</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span><span class="token string">&quot;mappers&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">&quot;Error parsing SQL Mapper Configuration. Cause: &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> configuration<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
    
  <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">environmentsElement</span><span class="token punctuation">(</span><span class="token class-name">Element</span> context<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
      <span class="token class-name">String</span> environment <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Element</span><span class="token punctuation">&gt;</span></span> environmentList <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token string">&quot;environment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Element</span> e <span class="token operator">:</span> environmentList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">String</span> id <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>environment<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// äº‹åŠ¡ç®¡ç†å™¨</span>
              <span class="token class-name">TransactionFactory</span> txFactory <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TransactionFactory</span><span class="token punctuation">)</span> typeAliasRegistry<span class="token punctuation">.</span><span class="token function">resolveAlias</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span><span class="token string">&quot;transactionManager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">// æ•°æ®æº</span>
              <span class="token class-name">Element</span> dataSourceElement <span class="token operator">=</span> e<span class="token punctuation">.</span><span class="token function">element</span><span class="token punctuation">(</span><span class="token string">&quot;dataSource&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token class-name">DataSourceFactory</span> dataSourceFactory <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DataSourceFactory</span><span class="token punctuation">)</span> typeAliasRegistry<span class="token punctuation">.</span><span class="token function">resolveAlias</span><span class="token punctuation">(</span>dataSourceElement<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Element</span><span class="token punctuation">&gt;</span></span> propertyList <span class="token operator">=</span> dataSourceElement<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token string">&quot;property&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token class-name">Properties</span> props <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Element</span> property <span class="token operator">:</span> propertyList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  props<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span>property<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> property<span class="token punctuation">.</span><span class="token function">attributeValue</span><span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
              dataSourceFactory<span class="token punctuation">.</span><span class="token function">setProperties</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token class-name">DataSource</span> dataSource <span class="token operator">=</span> dataSourceFactory<span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token comment">// æ„å»ºç¯å¢ƒ</span>
              <span class="token class-name">Environment<span class="token punctuation">.</span>Builder</span> environmentBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Environment<span class="token punctuation">.</span>Builder</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
                      <span class="token punctuation">.</span><span class="token function">transactionFactory</span><span class="token punctuation">(</span>txFactory<span class="token punctuation">)</span>
                      <span class="token punctuation">.</span><span class="token function">dataSource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
              configuration<span class="token punctuation">.</span><span class="token function">setEnvironment</span><span class="token punctuation">(</span>environmentBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä»¥ XMLConfigBuilder#parse è§£ææ‰©å±•å¯¹æ•°æ®æºè§£ææ“ä½œï¼Œåœ¨ environmentsElement æ–¹æ³•ä¸­åŒ…æ‹¬äº‹åŠ¡ç®¡ç†å™¨è§£æå’Œä»ç±»å‹æ³¨å†Œå™¨ä¸­è¯»å–åˆ°äº‹åŠ¡å·¥ç¨‹çš„å®ç°ç±»ï¼ŒåŒç†æ•°æ®æºä¹Ÿæ˜¯ä»ç±»å‹æ³¨å†Œå™¨ä¸­è·å–ã€‚</li><li>æœ€åæŠŠäº‹åŠ¡ç®¡ç†å™¨å’Œæ•°æ®æºçš„å¤„ç†ï¼Œé€šè¿‡ç¯å¢ƒæ„å»º Environment.Builder å­˜æ”¾åˆ° Configuration é…ç½®é¡¹ä¸­ï¼Œä¹Ÿå°±å¯ä»¥é€šè¿‡ Configuration å­˜åœ¨çš„åœ°æ–¹éƒ½å¯ä»¥è·å–åˆ°æ•°æ®æºäº†ã€‚</li></ul><h3 id="_5-sqlæ‰§è¡Œå’Œç»“æœå°è£…" tabindex="-1"><a class="header-anchor" href="#_5-sqlæ‰§è¡Œå’Œç»“æœå°è£…" aria-hidden="true">#</a> 5. SQLæ‰§è¡Œå’Œç»“æœå°è£…</h3><p>åœ¨ä¸Šä¸€ç« èŠ‚ä¸­åœ¨ DefaultSqlSession#selectOne åªæ˜¯æ‰“å°äº† XML ä¸­é…ç½®çš„ SQL è¯­å¥ï¼Œç°åœ¨æŠŠæ•°æ®æºçš„é…ç½®åŠ è½½è¿›æ¥ä»¥åï¼Œå°±å¯ä»¥æŠŠ SQL è¯­å¥æ”¾åˆ°æ•°æ®æºä¸­è¿›è¡Œæ‰§è¡Œä»¥åŠç»“æœå°è£…ã€‚</p><p><strong>è¯¦è§æºç </strong>ï¼š<code>cn.bugstack.mybatis.session.defaults.DefaultSqlSession</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DefaultSqlSession</span> <span class="token keyword">implements</span> <span class="token class-name">SqlSession</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Configuration</span> configuration<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">DefaultSqlSession</span><span class="token punctuation">(</span><span class="token class-name">Configuration</span> configuration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>configuration <span class="token operator">=</span> configuration<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">selectOne</span><span class="token punctuation">(</span><span class="token class-name">String</span> statement<span class="token punctuation">,</span> <span class="token class-name">Object</span> parameter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">MappedStatement</span> mappedStatement <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">getMappedStatement</span><span class="token punctuation">(</span>statement<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Environment</span> environment <span class="token operator">=</span> configuration<span class="token punctuation">.</span><span class="token function">getEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">Connection</span> connection <span class="token operator">=</span> environment<span class="token punctuation">.</span><span class="token function">getDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">BoundSql</span> boundSql <span class="token operator">=</span> mappedStatement<span class="token punctuation">.</span><span class="token function">getBoundSql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">PreparedStatement</span> preparedStatement <span class="token operator">=</span> connection<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>boundSql<span class="token punctuation">.</span><span class="token function">getSql</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            preparedStatement<span class="token punctuation">.</span><span class="token function">setLong</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> parameter<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ResultSet</span> resultSet <span class="token operator">=</span> preparedStatement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> objList <span class="token operator">=</span> <span class="token function">resultSet2Obj</span><span class="token punctuation">(</span>resultSet<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>boundSql<span class="token punctuation">.</span><span class="token function">getResultType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> objList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// ...</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ selectOne æ–¹æ³•ä¸­è·å– Connection æ•°æ®æºé“¾æ¥ï¼Œå¹¶ç®€å•çš„æ‰§è¡Œ SQL è¯­å¥ï¼Œå¹¶å¯¹æ‰§è¡Œçš„ç»“æœè¿›è¡Œå°è£…å¤„ç†ã€‚</li><li>å› ä¸ºç›®å‰è¿™éƒ¨åˆ†ä¸»è¦æ˜¯ä¸ºäº†å¤§å®¶ä¸²è”å‡ºæ•´ä¸ªåŠŸèƒ½ç»“æ„ï¼Œæ‰€ä»¥å…³äº SQL çš„æ‰§è¡Œã€å‚æ•°ä¼ é€’å’Œç»“æœå°è£…éƒ½æ˜¯å†™æ­»çš„ï¼Œåç»­æˆ‘ä»¬è¿›è¡Œæ‰©å±•ã€‚</li></ul><h2 id="äº”ã€æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#äº”ã€æµ‹è¯•" aria-hidden="true">#</a> äº”ã€æµ‹è¯•</h2><h3 id="_1-äº‹å…ˆå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#_1-äº‹å…ˆå‡†å¤‡" aria-hidden="true">#</a> 1. äº‹å…ˆå‡†å¤‡</h3><h4 id="_1-1-åˆ›å»ºåº“è¡¨" tabindex="-1"><a class="header-anchor" href="#_1-1-åˆ›å»ºåº“è¡¨" aria-hidden="true">#</a> 1.1 åˆ›å»ºåº“è¡¨</h4><p>åˆ›å»ºä¸€ä¸ªæ•°æ®åº“åç§°ä¸º mybatis å¹¶åœ¨åº“ä¸­åˆ›å»ºè¡¨ user ä»¥åŠæ·»åŠ æµ‹è¯•æ•°æ®ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span>
    <span class="token keyword">USER</span>
    <span class="token punctuation">(</span>
        id <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;è‡ªå¢ID&#39;</span><span class="token punctuation">,</span>
        userId <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;ç”¨æˆ·ID&#39;</span><span class="token punctuation">,</span>
        userHead <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;ç”¨æˆ·å¤´åƒ&#39;</span><span class="token punctuation">,</span>
        createTime <span class="token keyword">TIMESTAMP</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;åˆ›å»ºæ—¶é—´&#39;</span><span class="token punctuation">,</span>
        updateTime <span class="token keyword">TIMESTAMP</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;æ›´æ–°æ—¶é—´&#39;</span><span class="token punctuation">,</span>
        userName <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>
    
<span class="token keyword">insert</span> <span class="token keyword">into</span> <span class="token keyword">user</span> <span class="token punctuation">(</span>id<span class="token punctuation">,</span> userId<span class="token punctuation">,</span> userHead<span class="token punctuation">,</span> createTime<span class="token punctuation">,</span> updateTime<span class="token punctuation">,</span> userName<span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;10001&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1_04&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2022-04-13 00:00:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;2022-04-13 00:00:00&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;å°å‚…å“¥&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-é…ç½®æ•°æ®æº" tabindex="-1"><a class="header-anchor" href="#_1-2-é…ç½®æ•°æ®æº" aria-hidden="true">#</a> 1.2 é…ç½®æ•°æ®æº</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environments</span> <span class="token attr-name">default</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>environment</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>development<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>transactionManager</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JDBC<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dataSource</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>DRUID<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>driver<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.mysql.jdbc.Driver<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>jdbc:mysql://127.0.0.1:3306/mybatis?useUnicode=true<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>root<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>123456<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dataSource</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environment</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>environments</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡ <code>mybatis-config-datasource.xml</code> é…ç½®æ•°æ®æºä¿¡æ¯ï¼ŒåŒ…æ‹¬ï¼šdriverã€urlã€usernameã€password</li><li>å¦å¤–è¿™é‡Œè¦æ³¨æ„ä¸‹ï¼ŒDataSource é…ç½®çš„æ˜¯ DRUIDï¼Œå› ä¸ºæˆ‘ä»¬å®ç°çš„æ˜¯è¿™ä¸ªæ•°æ®æºçš„å¤„ç†æ–¹å¼ã€‚</li></ul><h4 id="_1-3-é…ç½®mapper" tabindex="-1"><a class="header-anchor" href="#_1-3-é…ç½®mapper" aria-hidden="true">#</a> 1.3 é…ç½®Mapper</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>queryUserInfoById<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>java.lang.Long<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.mybatis.test.po.User<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    SELECT id, userId, userName, userHead
    FROM user
    where id = #{id}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Mapper çš„é…ç½®å†…å®¹åœ¨ä¸Šä¸€ç« èŠ‚çš„è§£æå­¦ä¹ ä¸­å·²ç»åšäº†é…ç½®ï¼Œæœ¬ç« èŠ‚åšäº†ç®€å•çš„è°ƒæ•´ã€‚</li></ul><h3 id="_2-æµç¨‹éªŒè¯" tabindex="-1"><a class="header-anchor" href="#_2-æµç¨‹éªŒè¯" aria-hidden="true">#</a> 2. æµç¨‹éªŒè¯</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_SqlSessionFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. ä»SqlSessionFactoryä¸­è·å–SqlSession</span>
    <span class="token class-name">SqlSessionFactory</span> sqlSessionFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SqlSessionFactoryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsReader</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis-config-datasource.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> sqlSessionFactory<span class="token punctuation">.</span><span class="token function">openSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 2. è·å–æ˜ å°„å™¨å¯¹è±¡</span>
    <span class="token class-name">IUserDao</span> userDao <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">getMapper</span><span class="token punctuation">(</span><span class="token class-name">IUserDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 3. æµ‹è¯•éªŒè¯</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> userDao<span class="token punctuation">.</span><span class="token function">queryUserInfoById</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å•å…ƒæµ‹è¯•æ²¡æœ‰ä»€ä¹ˆæ”¹å˜ï¼Œä»æ˜¯é€šè¿‡ SqlSessionFactory ä¸­è·å– SqlSession å¹¶è·å¾—æ˜ å°„å¯¹è±¡å’Œæ‰§è¡Œæ–¹æ³•è°ƒç”¨ã€‚</li></ul><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">22</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">18.676</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">c<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span>DruidDataSource</span> <span class="token operator">-</span> <span class="token punctuation">{</span>dataSource<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span> inited
<span class="token number">22</span><span class="token operator">:</span><span class="token number">34</span><span class="token operator">:</span><span class="token number">19.286</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æµ‹è¯•ç»“æœï¼š<span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;userHead&quot;</span><span class="token operator">:</span><span class="token string">&quot;1_04&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;userId&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;userName&quot;</span><span class="token operator">:</span><span class="token string">&quot;å°å‚…å“¥&quot;</span><span class="token punctuation">}</span>

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä»ç°åœ¨çš„æµ‹è¯•ç»“æœå·²ç»å¯ä»¥çœ‹å‡ºï¼Œé€šè¿‡æˆ‘ä»¬å¯¹æ•°æ®æºçš„è§£æã€åŒ…è£…å’Œä½¿ç”¨ï¼Œå·²ç»å¯ä»¥å¯¹ SQL è¯­å¥è¿›è¡Œæ‰§è¡Œå’ŒåŒ…è£…è¿”å›çš„ç»“æœä¿¡æ¯äº†ã€‚</li><li>è¯»è€…åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­å¯ä»¥è°ƒè¯•ä¸‹ä»£ç ï¼Œçœ‹çœ‹æ¯ä¸€æ­¥éƒ½æ˜¯å¦‚ä½•å®Œæˆæ‰§è¡Œæ­¥éª¤çš„ï¼Œä¹Ÿåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è¿›è¡Œå­¦ä¹  Mybatis æ¡†æ¶çš„è®¾è®¡æŠ€å·§ã€‚</li></ul><h3 id="_3-åŠŸèƒ½éªŒè¯" tabindex="-1"><a class="header-anchor" href="#_3-åŠŸèƒ½éªŒè¯" aria-hidden="true">#</a> 3. åŠŸèƒ½éªŒè¯</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_selectOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
    <span class="token comment">// è§£æ XML</span>
    <span class="token class-name">Reader</span> reader <span class="token operator">=</span> <span class="token class-name">Resources</span><span class="token punctuation">.</span><span class="token function">getResourceAsReader</span><span class="token punctuation">(</span><span class="token string">&quot;mybatis-config-datasource.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">XMLConfigBuilder</span> xmlConfigBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLConfigBuilder</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Configuration</span> configuration <span class="token operator">=</span> xmlConfigBuilder<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è·å– DefaultSqlSession</span>
    <span class="token class-name">SqlSession</span> sqlSession <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultSqlSession</span><span class="token punctuation">(</span>configuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ‰§è¡ŒæŸ¥è¯¢ï¼šé»˜è®¤æ˜¯ä¸€ä¸ªé›†åˆå‚æ•°</span>

    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> req <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1L</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> res <span class="token operator">=</span> sqlSession<span class="token punctuation">.</span><span class="token function">selectOne</span><span class="token punctuation">(</span><span class="token string">&quot;cn.bugstack.mybatis.test.dao.IUserDao.queryUserInfoById&quot;</span><span class="token punctuation">,</span> req<span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é™¤äº†æ•´ä½“çš„åŠŸèƒ½æµç¨‹æµ‹è¯•å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åªå¯¹æœ¬ç« èŠ‚æ–°å¢çš„å†…å®¹è¿›è¡Œå•å…ƒæµ‹è¯•ã€‚ç”±äºæœ¬ç« èŠ‚çš„ä¸»è¦æ“ä½œéƒ½æ˜¯åœ¨è§£æå†…å®¹çš„æ·»åŠ ï¼Œå¤„ç† XML é…ç½®ä¸­çš„æ•°æ®æºä¿¡æ¯ï¼Œä»¥åŠè§£æåå¯ä»¥åœ¨ DefaultSqlSession ä¸­è°ƒç”¨æ•°æ®æºæ‰§è¡Œ SQL è¯­å¥å¹¶è¿”å›ç»“æœã€‚</li><li>æ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå•ç‹¬æŠŠè¿™éƒ¨åˆ†æå–å‡ºæ¥è¿›è¡Œæµ‹è¯•éªŒè¯ï¼Œé€šè¿‡åŸºäºè¿™æ ·çš„æµ‹è¯•ï¼Œå¯ä»¥æ›´å¥½çš„åœ¨ Sequence Diagram ä¸­ç”Ÿæˆå¯¹åº”çš„ UML æ–¹ä¾¿è¯»è€…æ›´åŠ å®¹æ˜“ç†è§£æœ¬ç« èŠ‚æ–°å¢çš„å†…å®¹å’Œæµç¨‹ã€‚</li></ul><p><img src="https://bugstack.cn/images/article/spring/mybatis-220414-03.png" alt=""></p><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">18.321</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">c<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>druid<span class="token punctuation">.</span>pool<span class="token punctuation">.</span></span>DruidDataSource</span> <span class="token operator">-</span> <span class="token punctuation">{</span>dataSource<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">}</span> inited
<span class="token number">15</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">18.903</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æµ‹è¯•ç»“æœï¼š<span class="token punctuation">{</span><span class="token string">&quot;id&quot;</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;userHead&quot;</span><span class="token operator">:</span><span class="token string">&quot;1_04&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;userId&quot;</span><span class="token operator">:</span><span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;userName&quot;</span><span class="token operator">:</span><span class="token string">&quot;å®å½“çŒ«&quot;</span><span class="token punctuation">}</span>

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æµ‹è¯•ç»“æœæ˜¯é€šè¿‡çš„ï¼Œè¿™é‡Œæ›´å¤šçš„æ˜¯ä¸ºäº†ä½“ç°å‡ºæ•´ä¸ªè°ƒç”¨å…³ç³»é“¾è·¯ã€‚ä» XML æ•°æ®æºå…ƒç´ é…ç½®çš„è§£æï¼Œåˆ° Configuration èµ„æºçš„æ³¨å†Œä»¥åŠå†™å…¥ç›¸å…³é…ç½®åˆ°é…ç½®é¡¹ï¼Œå¹¶åœ¨ DefaultSqlSession ä¸­è¿›è¡Œä½¿ç”¨ã€‚åŒæ—¶è¿™é‡Œè·³è¿‡ä»£ç†æ–¹å¼è·å– Mapper è€Œæ˜¯ç›´æ¥æ‹¿åˆ° SqlSession æ‰§è¡Œ selectOne æ–¹æ³•çš„æ–¹å¼è¿›è¡Œå¤„ç†ï¼Œå› ä¸ºè¿™æ ·æ›´åŠ å®¹æ˜“è§‚å¯Ÿæ•´ä¸ªåŠŸèƒ½çš„è¿­ä»£å¼€å‘ã€‚</li></ul><h2 id="å…­ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å…­ã€æ€»ç»“" aria-hidden="true">#</a> å…­ã€æ€»ç»“</h2><ul><li>ä»¥è§£æ XML é…ç½®è§£æä¸ºå…¥å£ï¼Œæ·»åŠ æ•°æ®æºçš„æ•´åˆå’ŒåŒ…è£…ï¼Œå¼•å‡ºäº‹åŠ¡å·¥å‚å¯¹ JDBC äº‹åŠ¡çš„å¤„ç†ï¼Œå¹¶åŠ è½½åˆ°ç¯å¢ƒé…ç½®ä¸­è¿›è¡Œä½¿ç”¨ã€‚</li><li>é‚£ä¹ˆé€šè¿‡æ•°æ®æºçš„å¼•å…¥å°±å¯ä»¥åœ¨ DefaultSqlSession ä¸­ä» Configuration é…ç½®å¼•å…¥ç¯å¢ƒä¿¡æ¯ï¼ŒæŠŠå¯¹åº”çš„ SQL è¯­å¥æäº¤ç»™ JDBC è¿›è¡Œå¤„ç†å¹¶ç®€å•å°è£…ç»“æœæ•°æ®ã€‚</li><li>ç»“åˆæœ¬ç« èŠ‚å»ºç«‹èµ·æ¥çš„æ¡†æ¶ç»“æ„ï¼Œæ•°æ®æºã€äº‹åŠ¡ã€ç®€å•çš„SQLè°ƒç”¨ï¼Œä¸‹ä¸ªç« èŠ‚å°†ç»§ç»­è¿™éƒ¨åˆ†å†…å®¹çš„æ‰©å±•å¤„ç†ï¼Œè®©æ•´ä¸ªåŠŸèƒ½æ¨¡å—é€æ¸å®Œå–„ã€‚</li></ul><h2 id="ä¸ƒã€ä¼˜ç§€ä½œä¸š" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€ä¼˜ç§€ä½œä¸š" aria-hidden="true">#</a> ä¸ƒã€ä¼˜ç§€ä½œä¸š</h2>`,79),y={href:"https://t.zsxq.com/05a2zjYJM",target:"_blank",rel:"noopener noreferrer"},h={href:"https://t.zsxq.com/05QJYjEIE",target:"_blank",rel:"noopener noreferrer"},f={href:"https://t.zsxq.com/0627ImaiM",target:"_blank",rel:"noopener noreferrer"},q={href:"https://t.zsxq.com/08dNbsT2N",target:"_blank",rel:"noopener noreferrer"},S={href:"https://t.zsxq.com/0cNRLoPVr",target:"_blank",rel:"noopener noreferrer"};function w(x,L){const a=e("ExternalLinkIcon");return o(),c("div",null,[u,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),r,s("åšå®¢ï¼š"),n("a",k,[s("https://bugstack.cn"),t(a)]),d,s("åŸæ–‡ï¼š"),n("a",v,[s("https://mp.weixin.qq.com/s/g9cZOsYSFJtp6FoFtMg6RQ"),t(a)])]),m,b,g,n("ul",null,[n("li",null,[n("a",y,[s("å­¦ä¹ æ•°æ®æºçš„åˆ›å»ºå’Œä½¿ç”¨ @ğŸ±"),t(a)])]),n("li",null,[n("a",h,[s("æ•°æ®æºçš„åˆ›å»ºã€è§£æå’Œä½¿ç”¨ @æ¨æ¨å¾—äº¿ğŸ™‰"),t(a)])]),n("li",null,[n("a",f,[s("æä¾›æ•°æ®æºä¾›SQLæ‰§è¡Œæ—¶çœŸæ­£è°ƒç”¨ @W"),t(a)])]),n("li",null,[n("a",q,[s("æ•°æ®æºçš„è§£æã€åˆ›å»ºã€ä½¿ç”¨ @liuc"),t(a)])]),n("li",null,[n("a",S,[s("ä¾èµ–ä¸Šä¸€èŠ‚çš„åŸºç¡€ä¸Šï¼Œå®ç°å¯¹æˆ‘ä»¬Mybatis-config.xmlä¸­ç¯å¢ƒèŠ‚ç‚¹çš„é…ç½®æ–‡ä»¶çš„è§£æ @è°åŠ¨äº†æˆ‘çš„è¾£æ¡"),t(a)])])])])}const j=p(i,[["render",w],["__file","2022-04-17-di5zhangï¼šshujuyuandejiexiã€chuangjianheshiyong.html.vue"]]);export{j as default};
