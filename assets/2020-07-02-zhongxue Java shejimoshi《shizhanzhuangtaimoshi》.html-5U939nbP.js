import{_ as e,r as c,o,c as l,a as n,b as s,d as t,e as p}from"./app-3RcBQnkC.js";const u={},i=n("h1",{id:"é‡å­¦-java-è®¾è®¡æ¨¡å¼-å®æˆ˜çŠ¶æ€æ¨¡å¼ã€Œæ¨¡æ‹Ÿç³»ç»Ÿè¥é”€æ´»åŠ¨-çŠ¶æ€æµç¨‹å®¡æ ¸å‘å¸ƒä¸Šçº¿åœºæ™¯ã€",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#é‡å­¦-java-è®¾è®¡æ¨¡å¼-å®æˆ˜çŠ¶æ€æ¨¡å¼ã€Œæ¨¡æ‹Ÿç³»ç»Ÿè¥é”€æ´»åŠ¨-çŠ¶æ€æµç¨‹å®¡æ ¸å‘å¸ƒä¸Šçº¿åœºæ™¯ã€","aria-hidden":"true"},"#"),s(" é‡å­¦ Java è®¾è®¡æ¨¡å¼ï¼šå®æˆ˜çŠ¶æ€æ¨¡å¼ã€Œæ¨¡æ‹Ÿç³»ç»Ÿè¥é”€æ´»åŠ¨ï¼ŒçŠ¶æ€æµç¨‹å®¡æ ¸å‘å¸ƒä¸Šçº¿åœºæ™¯ã€")],-1),k=n("br",null,null,-1),r={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=n("blockquote",null,[n("p",null,"æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„")],-1),v=n("iframe",{id:"B-Video",src:"//player.bilibili.com/player.html?aid=683904414&bvid=BV1WU4y1S7uU&cid=716973391&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",width:"100%",height:"480"}," ",-1),m=p('<h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>å†™å¥½ä»£ç ä¸‰ä¸ªå…³é”®ç‚¹</code></p><p>å¦‚æœæŠŠå†™ä»£ç æƒ³è±¡æˆå®¶é‡Œçš„è½¯è£…ï¼Œä½ è‚¯å®šä¼šæƒ³åˆ°å®¶é‡Œéœ€è¦æœ‰ä¸€ä¸ªéå¸¸ä¸é”™æ ¼å±€æœ€å¥½æ˜¯å—åŒ—é€šé€çš„ï¼Œä¹°å›æ¥çš„å®¶å…·æœ€å¥½æ˜¯å“ç‰Œä¿è¯è´¨é‡çš„ï¼Œä¹‹åå‘¢æ˜¯å¤§å°åˆé€‚ï¼Œä¸èƒ½æ‘†æ”¾å®Œäº†çœ‹ç€åˆ«æ‰­ã€‚é‚£ä¹ˆæŠŠè¿™ä¸€è¿‡ç¨‹æŠ½è±¡æˆå†™ä»£ç å°±æ˜¯éœ€è¦ä¸‰ä¸ªæ ¸å¿ƒçš„å…³é”®ç‚¹ï¼›<code>æ¶æ„</code>(æˆ¿é—´çš„æ ¼å±€)ã€<code>å‘½å</code>(å“ç‰Œå’Œè´¨é‡)ã€<code>æ³¨é‡Š</code>(å°ºå¯¸å¤§å°è¯´æ˜ä¹¦)ï¼Œåªæœ‰è¿™ä¸‰ä¸ªç‚¹éƒ½åšå¥½æ‰èƒ½å®Œæˆå‡ºä¸€å¥—èµå¿ƒæ‚¦ç›®çš„<strong>å®¶</strong>ã€‚</p><p><code>å¹³åŸèµ°ç ğŸæ˜“æ”¾éš¾æ”¶</code></p><p>ä¸Šå­¦æœŸé—´ä½ å†™äº†å¤šå°‘ä»£ç ï¼Ÿä¸Šç­ä¸€å¹´ä½ èƒ½å†™å¤šå°‘ä»£ç ï¼Ÿå›å®¶è‡ªå·±å­¦ä¹ å†™äº†å¤šå°‘ä»£ç ï¼Ÿä¸ªäººç´ å…»çš„æŠ€æœ¯æ ˆåœ°åŸºéƒ½æ˜¯ä¸€å—ä¸€å—ç –ç å‡ºæ¥çš„ï¼Œå†™çš„è¶Šå¹¿è¶Šæ·±ï¼Œæ ¹åŸºå°±è¶Šç‰¢å›ºã€‚å½“æ ¹åŸºç‰¢å›ºäº†ä»¥ååœ¨å†ä¸Šå±‚å»ºè®¾å°±å˜å¾—è¿åˆƒè€Œè§£äº†ï¼Œä¹Ÿæ›´å®¹æ˜“å»ºè®¾äº†ã€‚å¾€å¾€æœ€éš¾çš„å°±æ˜¯ä¸€å±‚ä¸€å±‚é˜¶æ®µçš„çªç ´ï¼Œçªç ´å°±åƒç ´å£³ä¸€æ ·ï¼Œä¹Ÿåƒå¤¯å®åœ°åŸºï¼ŒçŸ­æ—¶é—´çœ‹ä¸åˆ°æˆç»©ï¼Œä¹Ÿçœ‹ä¸å‡ºé«˜åº¦ã€‚ä½†ä»¥åè°èƒ½èµ°çš„ç¨³ï¼Œå°±é ç€é»˜é»˜çš„æ²‰æ·€ã€‚</p><p><code>æŠ€æœ¯ä¼ æ‰¿çš„é‡è¦æ€§</code></p><p>å¯èƒ½æ˜¯ç°åœ¨æ—¶é—´èŠ‚å¥å¤ªå¿«ï¼Œä¸€ä¸ªéœ€æ±‚ä¸‹æ¥æ¨ä¸å¾—å½“å¤©å°±ä¸Šçº¿(<code>è¿™ä¸ªéœ€æ±‚å¾ˆç®€å•ï¼Œæ€ä¹ˆå®ç°æˆ‘ä¸ç®¡ï¼Œæ˜å¤©ä¸Šçº¿ï¼</code>)ï¼Œå¯¼è‡´å›¢é˜Ÿçš„äººéƒ½<code>å¾ˆæ…Œ</code>ã€<code>å¾ˆæ€¥</code>ã€<code>å¾ˆç´¯</code>ã€<code>å¾ˆå´©æºƒ</code>ï¼Œæœ€ç»ˆååå¤å¤çš„äººå‘˜æ›´æ›¿ï¼Œé¡¹ç›®åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿäº¤æ¥äº†Næ¬¡ï¼Œæ–‡æ¡£ä¸å…¨ã€ä»£ç æ··ä¹±ã€é”™ç»¼å¤æ‚ï¼Œè°åœ¨åé¢æ¥æ‰‹ä¹Ÿéƒ½åªèƒ½ä¿®ä¿®è¡¥è¡¥ï¼Œå°±åƒçƒ‚å°¾æ¥¼ã€‚è¿™ä¸ªæ²¡æœ‰ä¼ æ‰¿ã€æ²¡æœ‰æ²‰æ·€çš„é¡¹ç›®ï¼Œå¾ˆéš¾è·Ÿéšä¸šåŠ¡çš„å‘å±•ã€‚æœ€ç»ˆï¼æ ¹åŸºä¸ç‰¢ï¼Œä¸€åœ°é¸¡æ¯›ã€‚</p><h2 id="äºŒã€å¼€å‘ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#äºŒã€å¼€å‘ç¯å¢ƒ" aria-hidden="true">#</a> äºŒã€å¼€å‘ç¯å¢ƒ</h2>',8),b=n("li",null,"JDK 1.8",-1),g=n("li",null,"Idea + Maven",-1),y=n("strong",null,"å…¬ä¼—å·",-1),S={href:"https://bugstack.cn/assets/images/qrcode.png",target:"_blank",rel:"noopener noreferrer"},f=n("code",null,"bugstackè™«æ´æ ˆ",-1),q=n("code",null,"æºç ä¸‹è½½",-1),w=p('<table><thead><tr><th>å·¥ç¨‹</th><th>æè¿°</th></tr></thead><tbody><tr><td>itstack-demo-design-19-00</td><td>åœºæ™¯æ¨¡æ‹Ÿå·¥ç¨‹ï¼›æ¨¡æ‹Ÿè¥é”€æ´»åŠ¨æ“ä½œæœåŠ¡(æŸ¥è¯¢ã€å®¡æ ¸)</td></tr><tr><td>itstack-demo-design-19-01</td><td>ä½¿ç”¨ä¸€å¨ä»£ç å®ç°ä¸šåŠ¡éœ€æ±‚</td></tr><tr><td>itstack-demo-design-19-02</td><td>é€šè¿‡è®¾è®¡æ¨¡å¼ä¼˜åŒ–æ”¹é€ ä»£ç ï¼Œäº§ç”Ÿå¯¹æ¯”æ€§ä»è€Œå­¦ä¹ </td></tr></tbody></table><h2 id="ä¸‰ã€çŠ¶æ€æ¨¡å¼ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€çŠ¶æ€æ¨¡å¼ä»‹ç»" aria-hidden="true">#</a> ä¸‰ã€çŠ¶æ€æ¨¡å¼ä»‹ç»</h2><p><img src="https://bugstack.cn/assets/images/2020/itstack-demo-design-19-01.png" alt="çŠ¶æ€æ¨¡å¼ï¼Œå›¾ç‰‡æ¥è‡ª refactoringguru.cn"></p>',3),h={href:"https://refactoringguru.cn/design-patterns/state",target:"_blank",rel:"noopener noreferrer"},I=p(`<p>çŠ¶æ€æ¨¡å¼æè¿°çš„æ˜¯ä¸€ä¸ªè¡Œä¸ºä¸‹çš„å¤šç§çŠ¶æ€å˜æ›´ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ€å¸¸è§çš„ä¸€ä¸ªç½‘ç«™çš„é¡µé¢ï¼Œåœ¨ä½ ç™»å½•ä¸ä¸ç™»å½•ä¸‹å±•ç¤ºçš„å†…å®¹æ˜¯ç•¥æœ‰å·®å¼‚çš„(<code>ä¸ç™»å½•ä¸èƒ½å±•ç¤ºä¸ªäººä¿¡æ¯</code>)ï¼Œè€Œè¿™ç§<code>ç™»å½•</code>ä¸<code>ä¸ç™»å½•</code>å°±æ˜¯æˆ‘ä»¬é€šè¿‡æ”¹å˜<strong>çŠ¶æ€</strong>ï¼Œè€Œè®©æ•´ä¸ªè¡Œä¸ºå‘ç”Ÿäº†å˜åŒ–ã€‚</p><p><img src="https://bugstack.cn/assets/images/2020/itstack-demo-design-19-02.png" alt="æ”¶éŸ³æœº&amp;æ”¾éŸ³æœº&amp;ç£å¸¦æœº"></p><p>è‡³å°‘80åã€90åçš„å°ä¼™ä¼´åŸºæœ¬éƒ½ç”¨è¿‡è¿™ç§ç£å¸¦æ”¾éŸ³æœº(<code>å¯èƒ½æ²¡æœ‰è¿™ä¸ªå¥½çœ‹</code>)ï¼Œå®ƒçš„ä¸Šé¢æ˜¯ä¸€æ’æŒ‰é’®ï¼Œå½“æ”¾å…¥ç£å¸¦åï¼Œé€šè¿‡ä¸Šé¢çš„æŒ‰é’®å°±å¯ä»¥è®©æ”¾éŸ³æœºæ’­æ”¾ç£å¸¦ä¸Šçš„å†…å®¹(<code>listen to è‹±è¯­å¬åŠ›è€ƒè¯•</code>)ï¼Œè€Œä¸”æœ‰äº›æŒ‰é’®æ˜¯äº’æ–¥çš„ï¼Œå½“åœ¨æŸä¸ªçŠ¶æ€ä¸‹æ‰å¯ä»¥æŒ‰å¦å¤–çš„æŒ‰é’®(<code>è¿™åœ¨è®¾è®¡æ¨¡å¼é‡Œä¹Ÿæ˜¯ä¸€ä¸ªå…³é”®çš„ç‚¹</code>)ã€‚</p><h2 id="å››ã€æ¡ˆä¾‹åœºæ™¯æ¨¡æ‹Ÿ" tabindex="-1"><a class="header-anchor" href="#å››ã€æ¡ˆä¾‹åœºæ™¯æ¨¡æ‹Ÿ" aria-hidden="true">#</a> å››ã€æ¡ˆä¾‹åœºæ™¯æ¨¡æ‹Ÿ</h2><p><img src="https://bugstack.cn/assets/images/2020/itstack-demo-design-19-03.png" alt="åœºæ™¯æ¨¡æ‹Ÿï¼›è¥é”€æ´»åŠ¨å®¡æ ¸çŠ¶æ€æµè½¬"></p><p><strong>åœ¨æœ¬æ¡ˆä¾‹ä¸­æˆ‘ä»¬æ¨¡æ‹Ÿè¥é”€æ´»åŠ¨å®¡æ ¸çŠ¶æ€æµè½¬åœºæ™¯(ä¸€ä¸ªæ´»åŠ¨çš„ä¸Šçº¿æ˜¯å¤šä¸ªå±‚çº§å®¡æ ¸ä¸Šçº¿çš„)</strong></p><p>åœ¨ä¸Šå›¾ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°æˆ‘ä»¬çš„æµç¨‹èŠ‚ç‚¹ä¸­åŒ…æ‹¬äº†å„ä¸ªçŠ¶æ€åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€æ‰­è½¬çš„å…³è”æ¡ä»¶ï¼Œæ¯”å¦‚ï¼›å®¡æ ¸é€šè¿‡æ‰èƒ½åˆ°æ´»åŠ¨ä¸­ï¼Œè€Œä¸èƒ½ä»ç¼–è¾‘ä¸­ç›´æ¥åˆ°æ´»åŠ¨ä¸­ï¼Œè€Œè¿™äº›çŠ¶æ€çš„è½¬å˜å°±æ˜¯æˆ‘ä»¬è¦å®Œæˆçš„åœºæ™¯å¤„ç†ã€‚</p><p>å¤§éƒ¨åˆ†ç¨‹åºå‘˜åŸºæœ¬éƒ½å¼€å‘è¿‡ç±»ä¼¼çš„ä¸šåŠ¡åœºæ™¯ï¼Œéœ€è¦å¯¹æ´»åŠ¨æˆ–è€…ä¸€äº›é…ç½®éœ€è¦å®¡æ ¸åæ‰èƒ½å¯¹å¤–å‘å¸ƒï¼Œè€Œè¿™ä¸ªå®¡æ ¸çš„è¿‡ç¨‹å¾€å¾€ä¼šéšç€ç³»ç»Ÿçš„é‡è¦ç¨‹åº¦è€Œè®¾ç«‹å¤šçº§æ§åˆ¶ï¼Œæ¥ä¿è¯ä¸€ä¸ªæ´»åŠ¨å¯ä»¥å®‰å…¨ä¸Šçº¿ï¼Œé¿å…é€ æˆèµ„æŸã€‚</p><p>å½“ç„¶æœ‰æ—¶å€™ä¼šç”¨åˆ°ä¸€äº›å®¡æ‰¹æµçš„è¿‡ç¨‹é…ç½®ï¼Œä¹Ÿæ˜¯éå¸¸æ–¹ä¾¿å¼€å‘ç±»ä¼¼çš„æµç¨‹çš„ï¼Œä¹Ÿå¯ä»¥åœ¨é…ç½®ä¸­è®¾å®šæŸä¸ªèŠ‚ç‚¹çš„å®¡æ‰¹äººå‘˜ã€‚ä½†è¿™ä¸æ˜¯æˆ‘ä»¬ä¸»è¦ä½“ç°çš„ç‚¹ï¼Œåœ¨æœ¬æ¡ˆä¾‹ä¸­æˆ‘ä»¬ä¸»è¦æ˜¯æ¨¡æ‹Ÿå­¦ä¹ å¯¹ä¸€ä¸ªæ´»åŠ¨çš„å¤šä¸ªçŠ¶æ€èŠ‚ç‚¹çš„å®¡æ ¸æ§åˆ¶ã€‚</p><h3 id="_1-åœºæ™¯æ¨¡æ‹Ÿå·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_1-åœºæ™¯æ¨¡æ‹Ÿå·¥ç¨‹" aria-hidden="true">#</a> 1. åœºæ™¯æ¨¡æ‹Ÿå·¥ç¨‹</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>itstack<span class="token operator">-</span>demo<span class="token operator">-</span>design<span class="token operator">-</span><span class="token number">19</span><span class="token operator">-</span><span class="token number">00</span>
â””â”€â”€ src
    â””â”€â”€ main
        â””â”€â”€ java
            â””â”€â”€ org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design
                â”œâ”€â”€ <span class="token class-name">ActivityInfo</span><span class="token punctuation">.</span>java
                â”œâ”€â”€ <span class="token class-name">Status</span><span class="token punctuation">.</span>java
                â””â”€â”€ <span class="token class-name">ActivityService</span><span class="token punctuation">.</span>java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨è¿™ä¸ªæ¨¡æ‹Ÿå·¥ç¨‹é‡Œæˆ‘ä»¬æä¾›äº†ä¸‰ä¸ªç±»ï¼ŒåŒ…æ‹¬ï¼›çŠ¶æ€æšä¸¾(<code>Status</code>)ã€æ´»åŠ¨å¯¹è±¡(<code>ActivityInfo</code>)ã€æ´»åŠ¨æœåŠ¡(<code>ActivityService</code>)ï¼Œä¸‰ä¸ªæœåŠ¡ç±»ã€‚</li><li>æ¥ä¸‹æ¥æˆ‘ä»¬å°±åˆ†åˆ«ä»‹ç»ä¸‰ä¸ªç±»åŒ…æ‹¬çš„å†…å®¹ã€‚</li></ul><h3 id="_2-ä»£ç å®ç°" tabindex="-1"><a class="header-anchor" href="#_2-ä»£ç å®ç°" aria-hidden="true">#</a> 2. ä»£ç å®ç°</h3><h4 id="_2-1-åŸºæœ¬æ´»åŠ¨ä¿¡æ¯" tabindex="-1"><a class="header-anchor" href="#_2-1-åŸºæœ¬æ´»åŠ¨ä¿¡æ¯" aria-hidden="true">#</a> 2.1 åŸºæœ¬æ´»åŠ¨ä¿¡æ¯</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActivityInfo</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> activityId<span class="token punctuation">;</span>    <span class="token comment">// æ´»åŠ¨ID</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> activityName<span class="token punctuation">;</span>  <span class="token comment">// æ´»åŠ¨åç§°</span>
    <span class="token keyword">private</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> status<span class="token punctuation">;</span>  <span class="token comment">// æ´»åŠ¨çŠ¶æ€</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> beginTime<span class="token punctuation">;</span>       <span class="token comment">// å¼€å§‹æ—¶é—´</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> endTime<span class="token punctuation">;</span>         <span class="token comment">// ç»“æŸæ—¶é—´</span>
   
    <span class="token comment">// ...get/set</span>
<span class="token punctuation">}</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¸€äº›åŸºæœ¬çš„æ´»åŠ¨ä¿¡æ¯ï¼›æ´»åŠ¨IDã€æ´»åŠ¨åç§°ã€æ´»åŠ¨çŠ¶æ€ã€å¼€å§‹æ—¶é—´ã€ç»“æŸæ—¶é—´ã€‚</li></ul><h4 id="_2-2-æ´»åŠ¨æšä¸¾çŠ¶æ€" tabindex="-1"><a class="header-anchor" href="#_2-2-æ´»åŠ¨æšä¸¾çŠ¶æ€" aria-hidden="true">#</a> 2.2 æ´»åŠ¨æšä¸¾çŠ¶æ€</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">Status</span> <span class="token punctuation">{</span>

    <span class="token comment">// 1åˆ›å»ºç¼–è¾‘ã€2å¾…å®¡æ ¸ã€3å®¡æ ¸é€šè¿‡(ä»»åŠ¡æ‰«ææˆæ´»åŠ¨ä¸­)ã€4å®¡æ ¸æ‹’ç»(å¯ä»¥æ’¤å®¡åˆ°ç¼–è¾‘çŠ¶æ€)ã€5æ´»åŠ¨ä¸­ã€6æ´»åŠ¨å…³é—­ã€7æ´»åŠ¨å¼€å¯(ä»»åŠ¡æ‰«ææˆæ´»åŠ¨ä¸­)</span>
    <span class="token class-name">Editing</span><span class="token punctuation">,</span> <span class="token class-name">Check</span><span class="token punctuation">,</span> <span class="token class-name">Pass</span><span class="token punctuation">,</span> <span class="token class-name">Refuse</span><span class="token punctuation">,</span> <span class="token class-name">Doing</span><span class="token punctuation">,</span> <span class="token class-name">Close</span><span class="token punctuation">,</span> <span class="token class-name">Open</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ´»åŠ¨çš„æšä¸¾ï¼›1åˆ›å»ºç¼–è¾‘ã€2å¾…å®¡æ ¸ã€3å®¡æ ¸é€šè¿‡(ä»»åŠ¡æ‰«ææˆæ´»åŠ¨ä¸­)ã€4å®¡æ ¸æ‹’ç»(å¯ä»¥æ’¤å®¡åˆ°ç¼–è¾‘çŠ¶æ€)ã€5æ´»åŠ¨ä¸­ã€6æ´»åŠ¨å…³é—­ã€7æ´»åŠ¨å¼€å¯(ä»»åŠ¡æ‰«ææˆæ´»åŠ¨ä¸­)</li></ul><h4 id="_2-3-æ´»åŠ¨æœåŠ¡æ¥å£" tabindex="-1"><a class="header-anchor" href="#_2-3-æ´»åŠ¨æœåŠ¡æ¥å£" aria-hidden="true">#</a> 2.3 æ´»åŠ¨æœåŠ¡æ¥å£</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActivityService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> statusMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> status<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ¨¡æ‹ŸæŸ¥è¯¢æ´»åŠ¨ä¿¡æ¯</span>
        <span class="token class-name">ActivityInfo</span> activityInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActivityInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setActivityId</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setActivityName</span><span class="token punctuation">(</span><span class="token string">&quot;æ—©èµ·å­¦ä¹ æ‰“å¡é¢†å¥–æ´»åŠ¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setBeginTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setEndTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        statusMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> status<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * æŸ¥è¯¢æ´»åŠ¨ä¿¡æ¯
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span> æ´»åŠ¨ID
     * <span class="token keyword">@return</span> æŸ¥è¯¢ç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ActivityInfo</span> <span class="token function">queryActivityInfo</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ¨¡æ‹ŸæŸ¥è¯¢æ´»åŠ¨ä¿¡æ¯</span>
        <span class="token class-name">ActivityInfo</span> activityInfo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActivityInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setActivityId</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setActivityName</span><span class="token punctuation">(</span><span class="token string">&quot;æ—©èµ·å­¦ä¹ æ‰“å¡é¢†å¥–æ´»åŠ¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span>statusMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setBeginTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        activityInfo<span class="token punctuation">.</span><span class="token function">setEndTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> activityInfo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * æŸ¥è¯¢æ´»åŠ¨çŠ¶æ€
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span> æ´»åŠ¨ID
     * <span class="token keyword">@return</span> æŸ¥è¯¢ç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryActivityStatus</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> statusMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * æ‰§è¡ŒçŠ¶æ€å˜æ›´
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span>   æ´»åŠ¨ID
     * <span class="token keyword">@param</span> <span class="token parameter">beforeStatus</span> å˜æ›´å‰çŠ¶æ€
     * <span class="token keyword">@param</span> <span class="token parameter">afterStatus</span>  å˜æ›´åçŠ¶æ€ b
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">synchronized</span> <span class="token keyword">void</span> <span class="token function">execStatus</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> beforeStatus<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> afterStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>beforeStatus<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>statusMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        statusMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> afterStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨è¿™ä¸ªé™æ€ç±»ä¸­æä¾›äº†æ´»åŠ¨çš„æŸ¥è¯¢å’ŒçŠ¶æ€å˜æ›´æ¥å£ï¼›<code>queryActivityInfo</code>ã€<code>queryActivityStatus</code>ã€<code>execStatus</code>ã€‚</li><li>åŒæ—¶ä½¿ç”¨Mapçš„ç»“æ„æ¥è®°å½•æ´»åŠ¨IDå’ŒçŠ¶æ€å˜åŒ–ä¿¡æ¯ï¼Œå¦å¤–è¿˜æœ‰initæ–¹æ³•æ¥åˆå§‹åŒ–æ´»åŠ¨æ•°æ®ã€‚å®é™…çš„å¼€å‘ä¸­è¿™ç±»ä¿¡æ¯åŸºæœ¬éƒ½æ˜¯ä»<code>æ•°æ®åº“</code>æˆ–è€…<code>Redis</code>ä¸­è·å–ã€‚</li></ul><h2 id="äº”ã€ç”¨ä¸€å¨å¨ä»£ç å®ç°" tabindex="-1"><a class="header-anchor" href="#äº”ã€ç”¨ä¸€å¨å¨ä»£ç å®ç°" aria-hidden="true">#</a> äº”ã€ç”¨ä¸€å¨å¨ä»£ç å®ç°</h2><p><code>è¿™é‡Œæˆ‘ä»¬å…ˆä½¿ç”¨æœ€ç²—æš´çš„æ–¹å¼æ¥å®ç°åŠŸèƒ½</code></p><p>å¯¹äºè¿™æ ·å„ç§çŠ¶æ€çš„å˜æ›´ï¼Œæœ€è®©æˆ‘ä»¬ç›´æ¥æƒ³åˆ°çš„å°±æ˜¯ä½¿ç”¨<code>if</code>å’Œ<code>else</code>è¿›è¡Œåˆ¤æ–­å¤„ç†ã€‚æ¯ä¸€ä¸ªçŠ¶æ€å¯ä»¥æµè½¬åˆ°ä¸‹ä¸€ä¸ªä»€ä¹ˆçŠ¶æ€ï¼Œéƒ½å¯ä»¥ä½¿ç”¨åµŒå¥—çš„<code>if</code>å®ç°ã€‚</p><h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>itstack<span class="token operator">-</span>demo<span class="token operator">-</span>design<span class="token operator">-</span><span class="token number">19</span><span class="token operator">-</span><span class="token number">01</span>
â””â”€â”€ src
    â””â”€â”€ main
        â””â”€â”€ java
            â””â”€â”€ org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design
                â”œâ”€â”€ <span class="token class-name">ActivityExecStatusController</span><span class="token punctuation">.</span>java
                â””â”€â”€ <span class="token class-name">Result</span><span class="token punctuation">.</span>java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ•´ä¸ªå®ç°çš„å·¥ç¨‹ç»“æ„æ¯”è¾ƒç®€å•ï¼ŒåªåŒ…æ‹¬äº†ä¸¤ä¸ªç±»ï¼›<code>ActivityExecStatusController</code>ã€<code>Result</code>ï¼Œä¸€ä¸ªæ˜¯å¤„ç†æµç¨‹çŠ¶æ€ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯è¿”å›çš„å¯¹è±¡ã€‚</li></ul><h3 id="_2-ä»£ç å®ç°-1" tabindex="-1"><a class="header-anchor" href="#_2-ä»£ç å®ç°-1" aria-hidden="true">#</a> 2. ä»£ç å®ç°</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ActivityExecStatusController</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * æ´»åŠ¨çŠ¶æ€å˜æ›´
     * 1. ç¼–è¾‘ä¸­ -&gt; æå®¡ã€å…³é—­
     * 2. å®¡æ ¸é€šè¿‡ -&gt; æ‹’ç»ã€å…³é—­ã€æ´»åŠ¨ä¸­
     * 3. å®¡æ ¸æ‹’ç» -&gt; æ’¤å®¡ã€å…³é—­
     * 4. æ´»åŠ¨ä¸­ -&gt; å…³é—­
     * 5. æ´»åŠ¨å…³é—­ -&gt; å¼€å¯
     * 6. æ´»åŠ¨å¼€å¯ -&gt; å…³é—­
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span>   æ´»åŠ¨ID
     * <span class="token keyword">@param</span> <span class="token parameter">beforeStatus</span> å˜æ›´å‰çŠ¶æ€
     * <span class="token keyword">@param</span> <span class="token parameter">afterStatus</span>  å˜æ›´åçŠ¶æ€
     * <span class="token keyword">@return</span> è¿”å›ç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">execStatus</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> beforeStatus<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> afterStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">// 1. ç¼–è¾‘ä¸­ -&gt; æå®¡ã€å…³é—­</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>beforeStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Check</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token class-name">Status<span class="token punctuation">.</span>Close</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> beforeStatus<span class="token punctuation">,</span> afterStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æ‹’ç»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 2. å®¡æ ¸é€šè¿‡ -&gt; æ‹’ç»ã€å…³é—­ã€æ´»åŠ¨ä¸­</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Pass</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>beforeStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Refuse</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token class-name">Status<span class="token punctuation">.</span>Doing</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token class-name">Status<span class="token punctuation">.</span>Close</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> beforeStatus<span class="token punctuation">,</span> afterStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æ‹’ç»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 3. å®¡æ ¸æ‹’ç» -&gt; æ’¤å®¡ã€å…³é—­</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Refuse</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>beforeStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token class-name">Status<span class="token punctuation">.</span>Close</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> beforeStatus<span class="token punctuation">,</span> afterStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æ‹’ç»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 4. æ´»åŠ¨ä¸­ -&gt; å…³é—­</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Doing</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>beforeStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Close</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> beforeStatus<span class="token punctuation">,</span> afterStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æ‹’ç»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 5. æ´»åŠ¨å…³é—­ -&gt; å¼€å¯</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Close</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>beforeStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Open</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> beforeStatus<span class="token punctuation">,</span> afterStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æ‹’ç»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// 6. æ´»åŠ¨å¼€å¯ -&gt; å…³é—­</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Open</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>beforeStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Close</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>afterStatus<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> beforeStatus<span class="token punctuation">,</span> afterStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å˜æ›´çŠ¶æ€æ‹’ç»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;éå¯å¤„ç†çš„æ´»åŠ¨çŠ¶æ€å˜æ›´&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œæˆ‘ä»¬åªéœ€è¦çœ‹ä¸€ä¸‹ä»£ç å®ç°çš„ç»“æ„å³å¯ã€‚ä»ä¸Šåˆ°ä¸‹æ˜¯ä¸€æ•´ç¯‡çš„<code>ifelse</code>ï¼ŒåŸºæœ¬è¿™ä¹Ÿæ˜¯å¤§éƒ¨åˆ†åˆçº§ç¨‹åºå‘˜çš„å¼€å‘æ–¹å¼ã€‚</li><li>è¿™æ ·çš„é¢å‘è¿‡ç¨‹å¼å¼€å‘æ–¹å¼ï¼Œå¯¹äºä¸éœ€è¦æ”¹åŠ¨ä»£ç ï¼Œä¹Ÿä¸éœ€è¦äºŒæ¬¡è¿­ä»£çš„ï¼Œè¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„(<code>ä½†åŸºæœ¬ä¸å¯èƒ½ä¸è¿­ä»£</code>)ã€‚è€Œä¸”éšç€çŠ¶æ€å’Œéœ€æ±‚å˜åŒ–ï¼Œä¼šè¶Šæ¥è¶Šéš¾ä»¥ç»´æŠ¤ï¼Œåé¢çš„äººä¹Ÿä¸å¥½çœ‹æ‡‚å¹¶ä¸”å¾ˆå®¹æ˜“å¡«å……å…¶ä»–çš„æµç¨‹è¿›å»ã€‚<code>è¶Šæ¥è¶Šä¹±å°±æ˜¯ä»ç‚¹æ»´å¼€å§‹çš„</code></li></ul><h3 id="_3-æµ‹è¯•éªŒè¯" tabindex="-1"><a class="header-anchor" href="#_3-æµ‹è¯•éªŒè¯" aria-hidden="true">#</a> 3. æµ‹è¯•éªŒè¯</h3><h4 id="_3-1-ç¼–å†™æµ‹è¯•ç±»" tabindex="-1"><a class="header-anchor" href="#_3-1-ç¼–å†™æµ‹è¯•ç±»" aria-hidden="true">#</a> 3.1 ç¼–å†™æµ‹è¯•ç±»</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// åˆå§‹åŒ–æ•°æ®</span>
    <span class="token class-name">String</span> activityId <span class="token operator">=</span> <span class="token string">&quot;100001&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  

    <span class="token class-name">ActivityExecStatusController</span> activityExecStatusController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActivityExecStatusController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Result</span> resultRefuse <span class="token operator">=</span> activityExecStatusController<span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Refuse</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ(ç¼–è¾‘ä¸­Toå®¡æ ¸æ‹’ç»)ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>resultRefuse<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                           

    <span class="token class-name">Result</span> resultCheck <span class="token operator">=</span> activityExecStatusController<span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Check</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ(ç¼–è¾‘ä¸­Toæäº¤å®¡æ ¸)ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>resultCheck<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æˆ‘ä»¬çš„æµ‹è¯•ä»£ç åŒ…æ‹¬äº†ä¸¤ä¸ªåŠŸèƒ½çš„éªŒè¯ï¼Œä¸€ä¸ªæ˜¯ä»<code>ç¼–è¾‘ä¸­</code>åˆ°<code>å®¡æ ¸æ‹’ç»</code>ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ä»ç¼–è¾‘ä¸­åˆ°<code>æäº¤å®¡æ ¸</code>ã€‚</li><li>å› ä¸ºä»æˆ‘ä»¬çš„åœºæ™¯æµç¨‹ä¸­å¯ä»¥çœ‹åˆ°ï¼Œç¼–è¾‘ä¸­çš„æ´»åŠ¨æ˜¯ä¸èƒ½ç›´æ¥åˆ°<code>å®¡æ ¸æ‹’ç»</code>çš„ï¼Œè¿™ä¸­é—´è¿˜éœ€è¦<code>æå®¡</code>ã€‚</li></ul><h4 id="_3-2-æµ‹è¯•ç»“æœ" tabindex="-1"><a class="header-anchor" href="#_3-2-æµ‹è¯•ç»“æœ" aria-hidden="true">#</a> 3.2 æµ‹è¯•ç»“æœ</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">24</span><span class="token operator">:</span><span class="token number">30.774</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æµ‹è¯•ç»“æœ<span class="token punctuation">(</span>ç¼–è¾‘ä¸­<span class="token class-name">To</span>å®¡æ ¸æ‹’ç»<span class="token punctuation">)</span>ï¼š<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span><span class="token operator">:</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;info&quot;</span><span class="token operator">:</span><span class="token string">&quot;å˜æ›´çŠ¶æ€æ‹’ç»&quot;</span><span class="token punctuation">}</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">24</span><span class="token operator">:</span><span class="token number">30.778</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æµ‹è¯•ç»“æœ<span class="token punctuation">(</span>ç¼–è¾‘ä¸­<span class="token class-name">To</span>æäº¤å®¡æ ¸<span class="token punctuation">)</span>ï¼š<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span><span class="token operator">:</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;info&quot;</span><span class="token operator">:</span><span class="token string">&quot;å˜æ›´çŠ¶æ€æˆåŠŸ&quot;</span><span class="token punctuation">}</span>

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä»æµ‹è¯•ç»“æœå’Œæˆ‘ä»¬çš„çŠ¶æ€æµç¨‹çš„æµè½¬ä¸­å¯ä»¥çœ‹åˆ°ï¼Œæ˜¯ç¬¦åˆæµ‹è¯•ç»“æœé¢„æœŸçš„ã€‚é™¤äº†ä¸å¥½ç»´æŠ¤å¤–ï¼Œè¿™æ ·çš„å¼€å‘è¿‡ç¨‹è¿˜æ˜¯è›®å¿«çš„ï¼Œä½†ä¸å»ºè®®è¿™ä¹ˆæï¼</li></ul><h2 id="å…­ã€çŠ¶æ€æ¨¡å¼é‡æ„ä»£ç " tabindex="-1"><a class="header-anchor" href="#å…­ã€çŠ¶æ€æ¨¡å¼é‡æ„ä»£ç " aria-hidden="true">#</a> å…­ã€çŠ¶æ€æ¨¡å¼é‡æ„ä»£ç </h2><p><code>æ¥ä¸‹æ¥ä½¿ç”¨çŠ¶æ€æ¨¡å¼æ¥è¿›è¡Œä»£ç ä¼˜åŒ–ï¼Œä¹Ÿç®—æ˜¯ä¸€æ¬¡å¾ˆå°çš„é‡æ„ã€‚</code></p><p>é‡æ„çš„é‡ç‚¹å¾€å¾€æ˜¯å¤„ç†æ‰<code>ifelse</code>ï¼Œè€Œæƒ³å¤„ç†æ‰<code>ifelse</code>åŸºæœ¬ç¦»ä¸å¼€<strong>æ¥å£</strong>ä¸<strong>æŠ½è±¡ç±»</strong>ï¼Œå¦å¤–è¿˜éœ€è¦é‡æ–°æ”¹é€ ä»£ç ç»“æ„ã€‚</p><h3 id="_1-å·¥ç¨‹ç»“æ„-1" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„-1" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>itstack<span class="token operator">-</span>demo<span class="token operator">-</span>design<span class="token operator">-</span><span class="token number">19</span><span class="token operator">-</span><span class="token number">02</span>
â””â”€â”€ src
    â””â”€â”€ main
        â””â”€â”€ java
            â””â”€â”€ org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design
                â”œâ”€â”€ event
                â”‚    â”œâ”€â”€ <span class="token class-name">CheckState</span><span class="token punctuation">.</span>java
                â”‚    â””â”€â”€ <span class="token class-name">CloseState</span><span class="token punctuation">.</span>java
                â”‚    â””â”€â”€ <span class="token class-name">DoingState</span><span class="token punctuation">.</span>java
                â”‚    â””â”€â”€ <span class="token class-name">EditingState</span><span class="token punctuation">.</span>java
                â”‚    â””â”€â”€ <span class="token class-name">OpenState</span><span class="token punctuation">.</span>java
                â”‚    â””â”€â”€ <span class="token class-name">PassState</span><span class="token punctuation">.</span>java
                â”‚    â””â”€â”€ <span class="token class-name">RefuseState</span><span class="token punctuation">.</span>java
                â”œâ”€â”€ <span class="token class-name">Result</span><span class="token punctuation">.</span>java
                â”œâ”€â”€ <span class="token class-name">State</span><span class="token punctuation">.</span>java
                â””â”€â”€ <span class="token class-name">StateHandler</span><span class="token punctuation">.</span>java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>çŠ¶æ€æ¨¡å¼æ¨¡å‹ç»“æ„</strong></p><p><img src="https://bugstack.cn/assets/images/2020/itstack-demo-design-19-04.png" alt="çŠ¶æ€æ¨¡å¼æ¨¡å‹ç»“æ„"></p><ul><li>ä»¥ä¸Šæ˜¯çŠ¶æ€æ¨¡å¼çš„æ•´ä¸ªå·¥ç¨‹ç»“æ„æ¨¡å‹ï¼ŒStateæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œå®šä¹‰äº†å„ç§æ“ä½œæ¥å£(<code>æå®¡ã€å®¡æ ¸ã€æ‹’å®¡ç­‰</code>)ã€‚</li><li>å³ä¾§çš„ä¸åŒé¢œè‰²çŠ¶æ€ä¸æˆ‘ä»¬åœºæ™¯æ¨¡æ‹Ÿä¸­çš„é¢œè‰²ä¿æŒä¸€è‡´ï¼Œæ˜¯å„ç§çŠ¶æ€æµç¨‹æµè½¬çš„å®ç°æ“ä½œã€‚è¿™é‡Œçš„å®ç°æœ‰ä¸€ä¸ªå…³é”®ç‚¹å°±æ˜¯æ¯ä¸€ç§çŠ¶æ€åˆ°ä¸‹ä¸€ä¸ªçŠ¶æ€ï¼Œéƒ½åˆ†é…åˆ°å„ä¸ªå®ç°æ–¹æ³•ä¸­æ§åˆ¶ï¼Œä¹Ÿå°±ä¸éœ€è¦<code>if</code>è¯­è¨€è¿›è¡Œåˆ¤æ–­äº†ã€‚</li><li>æœ€åæ˜¯<code>StateHandler</code>å¯¹çŠ¶æ€æµç¨‹çš„ç»Ÿä¸€å¤„ç†ï¼Œé‡Œé¢æä¾›<code>Map</code>ç»“æ„çš„å„é¡¹æœåŠ¡æ¥å£è°ƒç”¨ï¼Œä¹Ÿå°±é¿å…äº†ä½¿ç”¨<code>if</code>åˆ¤æ–­å„é¡¹çŠ¶æ€è½¬å˜çš„æµç¨‹ã€‚</li></ul><h3 id="_2-ä»£ç å®ç°-2" tabindex="-1"><a class="header-anchor" href="#_2-ä»£ç å®ç°-2" aria-hidden="true">#</a> 2. ä»£ç å®ç°</h3><h4 id="_2-1-å®šä¹‰çŠ¶æ€æŠ½è±¡ç±»" tabindex="-1"><a class="header-anchor" href="#_2-1-å®šä¹‰çŠ¶æ€æŠ½è±¡ç±»" aria-hidden="true">#</a> 2.1 å®šä¹‰çŠ¶æ€æŠ½è±¡ç±»</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * æ´»åŠ¨æå®¡
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span>    æ´»åŠ¨ID
     * <span class="token keyword">@param</span> <span class="token parameter">currentStatus</span> å½“å‰çŠ¶æ€
     * <span class="token keyword">@return</span> æ‰§è¡Œç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Result</span> <span class="token function">arraignment</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * å®¡æ ¸é€šè¿‡
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span>    æ´»åŠ¨ID
     * <span class="token keyword">@param</span> <span class="token parameter">currentStatus</span> å½“å‰çŠ¶æ€
     * <span class="token keyword">@return</span> æ‰§è¡Œç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Result</span> <span class="token function">checkPass</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * å®¡æ ¸æ‹’ç»
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span>    æ´»åŠ¨ID
     * <span class="token keyword">@param</span> <span class="token parameter">currentStatus</span> å½“å‰çŠ¶æ€
     * <span class="token keyword">@return</span> æ‰§è¡Œç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Result</span> <span class="token function">checkRefuse</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * æ’¤å®¡æ’¤é”€
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span>    æ´»åŠ¨ID
     * <span class="token keyword">@param</span> <span class="token parameter">currentStatus</span> å½“å‰çŠ¶æ€
     * <span class="token keyword">@return</span> æ‰§è¡Œç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Result</span> <span class="token function">checkRevoke</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * æ´»åŠ¨å…³é—­
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span>    æ´»åŠ¨ID
     * <span class="token keyword">@param</span> <span class="token parameter">currentStatus</span> å½“å‰çŠ¶æ€
     * <span class="token keyword">@return</span> æ‰§è¡Œç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Result</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * æ´»åŠ¨å¼€å¯
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span>    æ´»åŠ¨ID
     * <span class="token keyword">@param</span> <span class="token parameter">currentStatus</span> å½“å‰çŠ¶æ€
     * <span class="token keyword">@return</span> æ‰§è¡Œç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Result</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * æ´»åŠ¨æ‰§è¡Œ
     *
     * <span class="token keyword">@param</span> <span class="token parameter">activityId</span>    æ´»åŠ¨ID
     * <span class="token keyword">@param</span> <span class="token parameter">currentStatus</span> å½“å‰çŠ¶æ€
     * <span class="token keyword">@return</span> æ‰§è¡Œç»“æœ
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token class-name">Result</span> <span class="token function">doing</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨æ•´ä¸ªæ¥å£ä¸­æä¾›äº†å„é¡¹çŠ¶æ€æµè½¬æœåŠ¡çš„æ¥å£ï¼Œä¾‹å¦‚ï¼›æ´»åŠ¨æå®¡ã€å®¡æ ¸é€šè¿‡ã€å®¡æ ¸æ‹’ç»ã€æ’¤å®¡æ’¤é”€ç­‰7ä¸ªæ–¹æ³•ã€‚</li><li>åœ¨è¿™äº›æ–¹æ³•ä¸­æ‰€æœ‰çš„å…¥å‚éƒ½æ˜¯ä¸€æ ·çš„ï¼ŒactivityId(<code>æ´»åŠ¨ID</code>)ã€currentStatus(<code>å½“å‰çŠ¶æ€</code>)ï¼Œåªæœ‰ä»–ä»¬çš„å…·ä½“å®ç°æ˜¯ä¸åŒçš„ã€‚</li></ul><h4 id="_2-2-éƒ¨åˆ†çŠ¶æ€æµè½¬å®ç°" tabindex="-1"><a class="header-anchor" href="#_2-2-éƒ¨åˆ†çŠ¶æ€æµè½¬å®ç°" aria-hidden="true">#</a> 2.2 éƒ¨åˆ†çŠ¶æ€æµè½¬å®ç°</h4><p><strong>ç¼–è¾‘</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EditingState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">arraignment</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Check</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ´»åŠ¨æå®¡æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">checkPass</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç¼–è¾‘ä¸­ä¸å¯å®¡æ ¸é€šè¿‡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">checkRefuse</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç¼–è¾‘ä¸­ä¸å¯å®¡æ ¸æ‹’ç»&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">checkRevoke</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç¼–è¾‘ä¸­ä¸å¯æ’¤é”€å®¡æ ¸&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Close</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ´»åŠ¨å…³é—­æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;éå…³é—­æ´»åŠ¨ä¸å¯å¼€å¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">doing</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ç¼–è¾‘ä¸­æ´»åŠ¨ä¸å¯æ‰§è¡Œæ´»åŠ¨ä¸­å˜æ›´&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æå®¡</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CheckState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">arraignment</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å¾…å®¡æ ¸çŠ¶æ€ä¸å¯é‡å¤æå®¡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">checkPass</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Pass</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ´»åŠ¨å®¡æ ¸é€šè¿‡å®Œæˆ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">checkRefuse</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Refuse</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ´»åŠ¨å®¡æ ¸æ‹’ç»å®Œæˆ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">checkRevoke</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ´»åŠ¨å®¡æ ¸æ’¤é”€å›åˆ°ç¼–è¾‘ä¸­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">execStatus</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Close</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ´»åŠ¨å®¡æ ¸å…³é—­å®Œæˆ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;éå…³é—­æ´»åŠ¨ä¸å¯å¼€å¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">doing</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Result</span><span class="token punctuation">(</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å¾…å®¡æ ¸æ´»åŠ¨ä¸å¯æ‰§è¡Œæ´»åŠ¨ä¸­å˜æ›´&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œæä¾›äº†ä¸¤ä¸ªå…·ä½“å®ç°ç±»çš„å†…å®¹ï¼Œç¼–è¾‘çŠ¶æ€å’Œæå®¡çŠ¶æ€ã€‚</li><li>ä¾‹å¦‚åœ¨è¿™ä¸¤ä¸ªå®ç°ç±»ä¸­ï¼Œ<code>checkRefuse</code>è¿™ä¸ªæ–¹æ³•å¯¹äºä¸åŒçš„ç±»ä¸­æœ‰ä¸åŒçš„å®ç°ï¼Œä¹Ÿå°±æ˜¯ä¸åŒçŠ¶æ€ä¸‹èƒ½åšçš„ä¸‹ä¸€æ­¥æµè½¬æ“ä½œå·²ç»å¯ä»¥åœ¨æ¯ä¸€ä¸ªæ–¹æ³•ä¸­å…·ä½“æ§åˆ¶äº†ã€‚</li><li>å…¶ä»–5ä¸ªç±»çš„æ“ä½œæ˜¯ç±»ä¼¼çš„å…·ä½“å°±ä¸åœ¨è¿™é‡Œæ¼”ç¤ºäº†ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯é‡å¤ä»£ç ã€‚å¯ä»¥é€šè¿‡æºç è¿›è¡Œå­¦ä¹ ç†è§£ã€‚</li></ul><h4 id="_2-3-çŠ¶æ€å¤„ç†æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_2-3-çŠ¶æ€å¤„ç†æœåŠ¡" aria-hidden="true">#</a> 2.3 çŠ¶æ€å¤„ç†æœåŠ¡</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StateHandler</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Enum</span><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span> <span class="token class-name">State</span><span class="token punctuation">&gt;</span></span> stateMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Enum</span><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span> <span class="token class-name">State</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">StateHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        stateMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Check</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CheckState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// å¾…å®¡æ ¸</span>
        stateMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Close</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">CloseState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// å·²å…³é—­</span>
        stateMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Doing</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">DoingState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// æ´»åŠ¨ä¸­</span>
        stateMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">EditingState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç¼–è¾‘ä¸­</span>
        stateMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Open</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">OpenState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// å·²å¼€å¯</span>
        stateMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Pass</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PassState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// å®¡æ ¸é€šè¿‡</span>
        stateMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">Status<span class="token punctuation">.</span>Refuse</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">RefuseState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// å®¡æ ¸æ‹’ç»</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">arraignment</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> stateMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentStatus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arraignment</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">checkPass</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> stateMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentStatus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">checkPass</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">checkRefuse</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> stateMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentStatus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">checkRefuse</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">checkRevoke</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> stateMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentStatus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">checkRevoke</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">close</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> stateMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentStatus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token keyword">open</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> stateMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentStatus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">doing</span><span class="token punctuation">(</span><span class="token class-name">String</span> activityId<span class="token punctuation">,</span> <span class="token class-name">Enum</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Status</span><span class="token punctuation">&gt;</span></span> currentStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> stateMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>currentStatus<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">doing</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> currentStatus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™æ˜¯å¯¹çŠ¶æ€æœåŠ¡çš„ç»Ÿä¸€æ§åˆ¶ä¸­å¿ƒï¼Œå¯ä»¥çœ‹åˆ°åœ¨æ„é€ å‡½æ•°ä¸­æä¾›äº†æ‰€æœ‰çŠ¶æ€å’Œå®ç°çš„å…·ä½“å…³è”ï¼Œæ”¾åˆ°Mapæ•°æ®ç»“æ„ä¸­ã€‚</li><li>åŒæ—¶æä¾›äº†ä¸åŒåç§°çš„æ¥å£æ“ä½œç±»ï¼Œè®©å¤–éƒ¨è°ƒç”¨æ–¹å¯ä»¥æ›´åŠ å®¹æ˜“çš„ä½¿ç”¨æ­¤é¡¹åŠŸèƒ½æ¥å£ï¼Œè€Œä¸éœ€è¦åƒåœ¨<code>itstack-demo-design-19-01</code>ä¾‹å­ä¸­è¿˜å¾—ä¼ ä¸¤ä¸ªçŠ¶æ€æ¥åˆ¤æ–­ã€‚</li></ul><h3 id="_3-æµ‹è¯•éªŒè¯-1" tabindex="-1"><a class="header-anchor" href="#_3-æµ‹è¯•éªŒè¯-1" aria-hidden="true">#</a> 3. æµ‹è¯•éªŒè¯</h3><h4 id="_3-1-ç¼–å†™æµ‹è¯•ç±»-editing2arraignment" tabindex="-1"><a class="header-anchor" href="#_3-1-ç¼–å†™æµ‹è¯•ç±»-editing2arraignment" aria-hidden="true">#</a> 3.1 ç¼–å†™æµ‹è¯•ç±»(Editing2Arraignment)</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_Editing2Arraignment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> activityId <span class="token operator">=</span> <span class="token string">&quot;100001&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">StateHandler</span> stateHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StateHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Result</span> result <span class="token operator">=</span> stateHandler<span class="token punctuation">.</span><span class="token function">arraignment</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ(ç¼–è¾‘ä¸­Toæå®¡æ´»åŠ¨)ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ´»åŠ¨ä¿¡æ¯ï¼š{} çŠ¶æ€ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">queryActivityInfo</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">queryActivityInfo</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">20.883</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æµ‹è¯•ç»“æœ<span class="token punctuation">(</span>ç¼–è¾‘ä¸­<span class="token class-name">To</span>æå®¡æ´»åŠ¨<span class="token punctuation">)</span>ï¼š<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span><span class="token operator">:</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;info&quot;</span><span class="token operator">:</span><span class="token string">&quot;æ´»åŠ¨æå®¡æˆåŠŸ&quot;</span><span class="token punctuation">}</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">20.907</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æ´»åŠ¨ä¿¡æ¯ï¼š<span class="token punctuation">{</span><span class="token string">&quot;activityId&quot;</span><span class="token operator">:</span><span class="token string">&quot;100001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;activityName&quot;</span><span class="token operator">:</span><span class="token string">&quot;æ—©èµ·å­¦ä¹ æ‰“å¡é¢†å¥–æ´»åŠ¨&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;beginTime&quot;</span><span class="token operator">:</span><span class="token number">1593694760892</span><span class="token punctuation">,</span><span class="token string">&quot;endTime&quot;</span><span class="token operator">:</span><span class="token number">1593694760892</span><span class="token punctuation">,</span><span class="token string">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;Check&quot;</span><span class="token punctuation">}</span> çŠ¶æ€ï¼š<span class="token string">&quot;Check&quot;</span>

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æµ‹è¯•ç¼–è¾‘ä¸­Toæå®¡æ´»åŠ¨ï¼Œçš„çŠ¶æ€æµè½¬ã€‚</li></ul><h4 id="_3-2-ç¼–å†™æµ‹è¯•ç±»-editing2open" tabindex="-1"><a class="header-anchor" href="#_3-2-ç¼–å†™æµ‹è¯•ç±»-editing2open" aria-hidden="true">#</a> 3.2 ç¼–å†™æµ‹è¯•ç±»(Editing2Open)</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_Editing2Open</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> activityId <span class="token operator">=</span> <span class="token string">&quot;100001&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">StateHandler</span> stateHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StateHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Result</span> result <span class="token operator">=</span> stateHandler<span class="token punctuation">.</span><span class="token keyword">open</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Editing</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ(ç¼–è¾‘ä¸­Toå¼€å¯æ´»åŠ¨)ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ´»åŠ¨ä¿¡æ¯ï¼š{} çŠ¶æ€ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">queryActivityInfo</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">queryActivityInfo</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">36.904</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æµ‹è¯•ç»“æœ<span class="token punctuation">(</span>ç¼–è¾‘ä¸­<span class="token class-name">To</span>å¼€å¯æ´»åŠ¨<span class="token punctuation">)</span>ï¼š<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span><span class="token operator">:</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;info&quot;</span><span class="token operator">:</span><span class="token string">&quot;éå…³é—­æ´»åŠ¨ä¸å¯å¼€å¯&quot;</span><span class="token punctuation">}</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">36.914</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æ´»åŠ¨ä¿¡æ¯ï¼š<span class="token punctuation">{</span><span class="token string">&quot;activityId&quot;</span><span class="token operator">:</span><span class="token string">&quot;100001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;activityName&quot;</span><span class="token operator">:</span><span class="token string">&quot;æ—©èµ·å­¦ä¹ æ‰“å¡é¢†å¥–æ´»åŠ¨&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;beginTime&quot;</span><span class="token operator">:</span><span class="token number">1593694776907</span><span class="token punctuation">,</span><span class="token string">&quot;endTime&quot;</span><span class="token operator">:</span><span class="token number">1593694776907</span><span class="token punctuation">,</span><span class="token string">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;Editing&quot;</span><span class="token punctuation">}</span> çŠ¶æ€ï¼š<span class="token string">&quot;Editing&quot;</span>

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æµ‹è¯•ç¼–è¾‘ä¸­Toå¼€å¯æ´»åŠ¨ï¼Œçš„çŠ¶æ€æµè½¬ã€‚</li></ul><h4 id="_3-3-ç¼–å†™æµ‹è¯•ç±»-refuse2doing" tabindex="-1"><a class="header-anchor" href="#_3-3-ç¼–å†™æµ‹è¯•ç±»-refuse2doing" aria-hidden="true">#</a> 3.3 ç¼–å†™æµ‹è¯•ç±»(Refuse2Doing)</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_Refuse2Doing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> activityId <span class="token operator">=</span> <span class="token string">&quot;100001&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Refuse</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">StateHandler</span> stateHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StateHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Result</span> result <span class="token operator">=</span> stateHandler<span class="token punctuation">.</span><span class="token function">doing</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Refuse</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ(æ‹’ç»Toæ´»åŠ¨ä¸­)ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ´»åŠ¨ä¿¡æ¯ï¼š{} çŠ¶æ€ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">queryActivityInfo</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">queryActivityInfo</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">46.339</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æµ‹è¯•ç»“æœ<span class="token punctuation">(</span>æ‹’ç»<span class="token class-name">To</span>æ´»åŠ¨ä¸­<span class="token punctuation">)</span>ï¼š<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span><span class="token operator">:</span><span class="token string">&quot;0001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;info&quot;</span><span class="token operator">:</span><span class="token string">&quot;å®¡æ ¸æ‹’ç»ä¸å¯æ‰§è¡Œæ´»åŠ¨ä¸ºè¿›è¡Œä¸­&quot;</span><span class="token punctuation">}</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">46.352</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æ´»åŠ¨ä¿¡æ¯ï¼š<span class="token punctuation">{</span><span class="token string">&quot;activityId&quot;</span><span class="token operator">:</span><span class="token string">&quot;100001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;activityName&quot;</span><span class="token operator">:</span><span class="token string">&quot;æ—©èµ·å­¦ä¹ æ‰“å¡é¢†å¥–æ´»åŠ¨&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;beginTime&quot;</span><span class="token operator">:</span><span class="token number">1593694786342</span><span class="token punctuation">,</span><span class="token string">&quot;endTime&quot;</span><span class="token operator">:</span><span class="token number">1593694786342</span><span class="token punctuation">,</span><span class="token string">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;Refuse&quot;</span><span class="token punctuation">}</span> çŠ¶æ€ï¼š<span class="token string">&quot;Refuse&quot;</span>

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æµ‹è¯•æ‹’ç»Toæ´»åŠ¨ä¸­ï¼Œçš„çŠ¶æ€æµè½¬ã€‚</li></ul><h4 id="_3-4-ç¼–å†™æµ‹è¯•ç±»-refuse2revoke" tabindex="-1"><a class="header-anchor" href="#_3-4-ç¼–å†™æµ‹è¯•ç±»-refuse2revoke" aria-hidden="true">#</a> 3.4 ç¼–å†™æµ‹è¯•ç±»(Refuse2Revoke)</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_Refuse2Revoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> activityId <span class="token operator">=</span> <span class="token string">&quot;100001&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Refuse</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">StateHandler</span> stateHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StateHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Result</span> result <span class="token operator">=</span> stateHandler<span class="token punctuation">.</span><span class="token function">checkRevoke</span><span class="token punctuation">(</span>activityId<span class="token punctuation">,</span> <span class="token class-name">Status<span class="token punctuation">.</span>Refuse</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ(æ‹’ç»Toæ’¤å®¡)ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ´»åŠ¨ä¿¡æ¯ï¼š{} çŠ¶æ€ï¼š{}&quot;</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">queryActivityInfo</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span><span class="token class-name">ActivityService</span><span class="token punctuation">.</span><span class="token function">queryActivityInfo</span><span class="token punctuation">(</span>activityId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">50.197</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æµ‹è¯•ç»“æœ<span class="token punctuation">(</span>æ‹’ç»<span class="token class-name">To</span>æ’¤å®¡<span class="token punctuation">)</span>ï¼š<span class="token punctuation">{</span><span class="token string">&quot;code&quot;</span><span class="token operator">:</span><span class="token string">&quot;0000&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;info&quot;</span><span class="token operator">:</span><span class="token string">&quot;æ’¤é”€å®¡æ ¸å®Œæˆ&quot;</span><span class="token punctuation">}</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">50.208</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>design<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> æ´»åŠ¨ä¿¡æ¯ï¼š<span class="token punctuation">{</span><span class="token string">&quot;activityId&quot;</span><span class="token operator">:</span><span class="token string">&quot;100001&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;activityName&quot;</span><span class="token operator">:</span><span class="token string">&quot;æ—©èµ·å­¦ä¹ æ‰“å¡é¢†å¥–æ´»åŠ¨&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;beginTime&quot;</span><span class="token operator">:</span><span class="token number">1593694810201</span><span class="token punctuation">,</span><span class="token string">&quot;endTime&quot;</span><span class="token operator">:</span><span class="token number">1593694810201</span><span class="token punctuation">,</span><span class="token string">&quot;status&quot;</span><span class="token operator">:</span><span class="token string">&quot;Editing&quot;</span><span class="token punctuation">}</span> çŠ¶æ€ï¼š<span class="token string">&quot;Editing&quot;</span>

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>æµ‹è¯•æµ‹è¯•ç»“æœ(æ‹’ç»Toæ’¤å®¡)ï¼Œçš„çŠ¶æ€æµè½¬ã€‚</p></li><li><p><strong>ç»¼ä¸Š</strong>ä»¥ä¸Šå››ä¸ªæµ‹è¯•ç±»åˆ†åˆ«æ¨¡æ‹Ÿäº†ä¸åŒçŠ¶æ€ä¹‹é—´çš„<code>æœ‰æ•ˆæµè½¬</code>å’Œ<code>æ‹’ç»æµè½¬</code>ï¼Œä¸åŒçš„çŠ¶æ€æœåŠ¡å¤„ç†ä¸åŒçš„æœåŠ¡å†…å®¹ã€‚</p></li></ul><h2 id="ä¸ƒã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€æ€»ç»“" aria-hidden="true">#</a> ä¸ƒã€æ€»ç»“</h2><ul><li>ä»ä»¥ä¸Šçš„ä¸¤ç§æ–¹å¼å¯¹ä¸€ä¸ªéœ€æ±‚çš„å®ç°ä¸­å¯ä»¥çœ‹åˆ°ï¼Œåœ¨ç¬¬äºŒç§ä½¿ç”¨è®¾è®¡æ¨¡å¼å¤„ç†åå·²ç»æ²¡æœ‰äº†<code>ifelse</code>ï¼Œä»£ç çš„ç»“æ„ä¹Ÿæ›´åŠ æ¸…æ™°æ˜“äºæ‰©å±•ã€‚è¿™å°±æ˜¯è®¾è®¡æ¨¡å¼çš„å¥½å¤„ï¼Œå¯ä»¥éå¸¸å¼ºå¤§çš„æ”¹å˜åŸæœ‰ä»£ç çš„ç»“æ„ï¼Œè®©ä»¥åçš„æ‰©å±•å’Œç»´æŠ¤éƒ½å˜å¾—å®¹æ˜“äº›ã€‚</li><li>åœ¨å®ç°ç»“æ„çš„ç¼–ç æ–¹å¼ä¸Šå¯ä»¥çœ‹åˆ°è¿™ä¸å†æ˜¯é¢å‘è¿‡ç¨‹çš„ç¼–ç¨‹ï¼Œè€Œæ˜¯é¢å‘å¯¹è±¡çš„ç»“æ„ã€‚å¹¶ä¸”è¿™æ ·çš„è®¾è®¡æ¨¡å¼æ»¡è¶³äº†<code>å•ä¸€èŒè´£</code>å’Œ<code>å¼€é—­åŸåˆ™</code>ï¼Œå½“ä½ åªæœ‰æ»¡è¶³è¿™æ ·çš„ç»“æ„ä¸‹æ‰ä¼šå‘ç°ä»£ç çš„æ‰©å±•æ˜¯å®¹æ˜“çš„ï¼Œä¹Ÿå°±æ˜¯å¢åŠ å’Œä¿®æ”¹åŠŸèƒ½ä¸ä¼šå½±å“æ•´ä½“çš„å˜åŒ–ã€‚</li><li>ä½†å¦‚æœçŠ¶æ€å’Œå„é¡¹æµè½¬è¾ƒå¤šåƒæœ¬æ–‡çš„æ¡ˆä¾‹ä¸­ï¼Œå°±ä¼šäº§ç”Ÿè¾ƒå¤šçš„å®ç°ç±»ã€‚å› æ­¤å¯èƒ½ä¹Ÿä¼šè®©ä»£ç çš„å®ç°ä¸Šå¸¦æ¥äº†æ—¶é—´æˆæœ¬ï¼Œå› ä¸ºå¦‚æœé‡åˆ°è¿™æ ·çš„åœºæ™¯å¯ä»¥æŒ‰éœ€è¯„ä¼°æŠ•å…¥å›æŠ¥ç‡ã€‚ä¸»è¦ç‚¹åœ¨äºçœ‹æ˜¯å¦ç»å¸¸ä¿®æ”¹ã€æ˜¯å¦å¯ä»¥åšæˆç»„ä»¶åŒ–ã€æŠ½ç¦»ä¸šåŠ¡ä¸éä¸šåŠ¡åŠŸèƒ½ã€‚</li></ul>`,82);function R(_,x){const a=c("ExternalLinkIcon");return o(),l("div",null,[i,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),k,s("åšå®¢ï¼š"),n("a",r,[s("https://bugstack.cn"),t(a)])]),d,v,m,n("ol",null,[b,g,n("li",null,[s("æ¶‰åŠå·¥ç¨‹ä¸‰ä¸ªï¼Œå¯ä»¥é€šè¿‡å…³æ³¨"),y,s("ï¼š"),n("a",S,[f,t(a)]),s("ï¼Œå›å¤"),q,s("è·å–(æ‰“å¼€è·å–çš„é“¾æ¥ï¼Œæ‰¾åˆ°åºå·18)")])]),w,n("ul",null,[n("li",null,[s("å›¾ç‰‡æ¥è‡ªï¼š"),n("a",h,[s("https://refactoringguru.cn/design-patterns/state"),t(a)])])]),I])}const E=e(u,[["render",R],["__file","2020-07-02-zhongxue Java shejimoshiã€Šshizhanzhuangtaimoshiã€‹.html.vue"]]);export{E as default};
