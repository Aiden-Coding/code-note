import{_ as e,r as o,o as c,c as l,a as n,b as s,d as t,e as p}from"./app-3RcBQnkC.js";const i={},u=n("h1",{id:"é¢ç»æ‰‹å†Œ-Â·-ç¬¬10ç¯‡ã€Šæ‰«ç›²java-util-collectionså·¥å…·åŒ…-å­¦ä¹ æ’åºã€äºŒåˆ†ã€æ´—ç‰Œã€æ—‹è½¬ç®—æ³•ã€‹",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#é¢ç»æ‰‹å†Œ-Â·-ç¬¬10ç¯‡ã€Šæ‰«ç›²java-util-collectionså·¥å…·åŒ…-å­¦ä¹ æ’åºã€äºŒåˆ†ã€æ´—ç‰Œã€æ—‹è½¬ç®—æ³•ã€‹","aria-hidden":"true"},"#"),s(" é¢ç»æ‰‹å†Œ Â· ç¬¬10ç¯‡ã€Šæ‰«ç›²java.util.Collectionså·¥å…·åŒ…ï¼Œå­¦ä¹ æ’åºã€äºŒåˆ†ã€æ´—ç‰Œã€æ—‹è½¬ç®—æ³•ã€‹")],-1),k=n("br",null,null,-1),r={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=p('<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>ç®—æ³•æ˜¯æ•°æ®ç»“æ„çš„çµé­‚ï¼</code></p><p>å¥½çš„ç®—æ³•æ­é…ä¸Šåˆé€‚çš„æ•°æ®ç»“æ„ï¼Œå¯ä»¥è®©ä»£ç åŠŸèƒ½å¤§å¤§çš„æå‡æ•ˆç‡ã€‚å½“ç„¶ï¼Œç®—æ³•å­¦ä¹ ä¸åªæ˜¯åˆ·é¢˜ï¼Œè¿˜éœ€è¦è½åœ°ä¸åº”ç”¨ï¼Œå¦åˆ™åˆ°äº†å†™ä»£ç çš„æ—¶å€™ï¼Œè¿˜æ˜¯ä¼š<code>forå¾ªç¯</code>+<code>ifelse</code>ã€‚</p><p>å½“å¼€å‘ä¸€ä¸ªç¨å¾®å¤æ‚ç‚¹çš„ä¸šåŠ¡æµç¨‹æ—¶ï¼Œå¾€å¾€è¦ç”¨åˆ°ä¸ä¹‹å¥‘åˆçš„æ•°æ®ç»“æ„å’Œç®—æ³•é€»è¾‘ï¼Œåœ¨ä¸è®¾è®¡æ¨¡å¼ç»“åˆï¼Œè¿™æ ·æ—¢èƒ½è®©ä½ çš„å†™å‡ºå…·æœ‰é«˜æ€§èƒ½çš„ä»£ç ï¼Œä¹Ÿèƒ½è®©è¿™äº›ä»£ç å…·å¤‡è‰¯å¥½çš„æ‰©å±•æ€§ã€‚</p>',5),v={href:"https://bugstack.cn/itstack/interview.html",target:"_blank",rel:"noopener noreferrer"},m=n("img",{src:"https://bugstack.cn/assets/images/2020/interview/interview-11-01.png",alt:""},null,-1),b=n("p",null,[n("strong",null,"é‚£ä¹ˆ"),s("ï¼Œæœ‰äº†è¿™äº›æ•°æ®ç»“æ„çš„åŸºç¡€ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†å­¦ä¹ ä¸€ä¸‹Javaä¸­æä¾›çš„ç®—æ³•å·¥å…·ç±»ï¼Œ"),n("code",null,"Collections"),s("ã€‚")],-1),g=n("h2",{id:"äºŒã€é¢è¯•é¢˜",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#äºŒã€é¢è¯•é¢˜","aria-hidden":"true"},"#"),s(" äºŒã€é¢è¯•é¢˜")],-1),h=n("p",null,[n("code",null,"è°¢é£æœº"),s("ï¼Œä»Šå¤©æ€ä¹ˆæ— ç²¾æ‰“é‡‡çš„å‘¢ï¼Œè¿˜æœ‰é»‘çœ¼åœˆï¼Ÿ")],-1),f=n("strong",null,"ç­”",-1),y={href:"https://bugstack.cn/itstack/interview.html",target:"_blank",rel:"noopener noreferrer"},w=p(`<p><strong>é—®</strong>ï¼šé‚£æ•°æ®ç»“æ„çœ‹çš„å·®ä¸å¤šäº†å§ï¼Œä½ æœ‰è€ƒè™‘ğŸ¤”è¿‡ï¼Œæ•°æ®ç»“æ„é‡Œæ¶‰åŠçš„æ’åºã€äºŒåˆ†æŸ¥æ‰¾å—ï¼Ÿ</p><p><strong>ç­”</strong>ï¼šäºŒåˆ†æŸ¥æ‰¾ä¼šä¸€äº›ï¼Œå·´æ‹‰å·´æ‹‰ã€‚</p><p><strong>é—®</strong>ï¼šè¿˜ä¸é”™ï¼Œé‚£ä½ çŸ¥é“è¿™ä¸ªæ–¹æ³•åœ¨Javaä¸­æœ‰æä¾›å¯¹åº”çš„å·¥å…·ç±»å—ï¼Ÿæ˜¯å“ªä¸ªï¼</p><p><strong>ç­”</strong>ï¼šè¿™ï¼ï¼Ÿå¥½åƒæ²¡æ³¨æ„è¿‡ï¼Œæ²¡ç”¨è¿‡ï¼</p><p><strong>é—®</strong>ï¼šå»å§ï¼Œå›å®¶åœ¨çœ‹çœ‹ä¹¦ï¼Œè¿™ä¸¤å¤©ä¹Ÿä¼‘æ¯ä¸‹ã€‚</p><p>é£æœºæ‚„ç„¶çš„å‡ºé—¨äº†ï¼Œä½†è¿™æ¬¡é¢è¯•é¢˜æ•´ä½“å›ç­”çš„è¿˜æ˜¯ä¸é”™çš„ï¼Œé¢è¯•å®˜å†³å®šä¸‹æ¬¡å†ç»™ä»–ä¸€ä¸ªæœºä¼šã€‚</p><h2 id="ä¸‰ã€collections-å·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€collections-å·¥å…·ç±»" aria-hidden="true">#</a> ä¸‰ã€Collections å·¥å…·ç±»</h2><p><code>java.util.Collections</code>ï¼Œæ˜¯javaé›†åˆæ¡†æ¶çš„ä¸€ä¸ªå·¥å…·ç±»ï¼Œä¸»è¦ç”¨äº<code>Collection</code>æä¾›çš„é€šç”¨ç®—æ³•ï¼›æ’åºã€äºŒåˆ†æŸ¥æ‰¾ã€æ´—ç‰Œç­‰ç®—æ³•æ“ä½œã€‚</p><p><strong>ä»æ•°æ®ç»“æ„åˆ°å…·ä½“å®ç°ï¼Œå†åˆ°ç®—æ³•ï¼Œæ•´ä½“çš„ç»“æ„å¦‚ä¸‹å›¾ï¼›</strong></p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-11-02.png" alt=""></p><h3 id="_1-collections-sort-æ’åº" tabindex="-1"><a class="header-anchor" href="#_1-collections-sort-æ’åº" aria-hidden="true">#</a> 1. Collections.sort æ’åº</h3><h4 id="_1-1-åˆå§‹åŒ–é›†åˆ" tabindex="-1"><a class="header-anchor" href="#_1-1-åˆå§‹åŒ–é›†åˆ" aria-hidden="true">#</a> 1.1 åˆå§‹åŒ–é›†åˆ</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-é»˜è®¤æ’åˆ—-æ­£åº" tabindex="-1"><a class="header-anchor" href="#_1-2-é»˜è®¤æ’åˆ—-æ­£åº" aria-hidden="true">#</a> 1.2 é»˜è®¤æ’åˆ—[æ­£åº]</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æµ‹è¯•ç»“æœï¼š[3, 4, 7, 8, 9]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-comparatoræ’åº" tabindex="-1"><a class="header-anchor" href="#_1-3-comparatoræ’åº" aria-hidden="true">#</a> 1.3 Comparatoræ’åº</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">String</span> o1<span class="token punctuation">,</span> <span class="token class-name">String</span> o2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> o2<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æˆ‘ä»¬ä½¿ç”¨ <code>o2</code> ä¸ <code>o1</code> åšå¯¹æ¯”ï¼Œè¿™æ ·ä¼šå‡ºæ¥ä¸€ä¸ªå€’å™æ’åºã€‚</li><li>åŒæ—¶ï¼Œ<code>Comparator</code>è¿˜å¯ä»¥å¯¹å¯¹è±¡ç±»æŒ‰ç…§æŸä¸ªå­—æ®µè¿›è¡Œæ’åºã€‚</li><li>æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼›</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_1-4-reverseorderå€’æ’" tabindex="-1"><a class="header-anchor" href="#_1-4-reverseorderå€’æ’" aria-hidden="true">#</a> 1.4 reverseOrderå€’æ’</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token function">reverseOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æµ‹è¯•ç»“æœï¼š[9, 8, 7, 4, 3]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Collections.&lt;String&gt;reverseOrder()</code>çš„æºç éƒ¨åˆ†å°±å’Œæˆ‘ä»¬ä¸Šé¢æŠŠä¸¤ä¸ªå¯¹æ¯”çš„ç±»è°ƒæ¢è¿‡æ¥ä¸€æ ·ã€‚<code>c2.compareTo(c1);</code></li></ul><h4 id="_1-5-æºç ç®€è¿°" tabindex="-1"><a class="header-anchor" href="#_1-5-æºç ç®€è¿°" aria-hidden="true">#</a> 1.5 æºç ç®€è¿°</h4><p>å…³äºæ’åºæ–¹é¢çš„çŸ¥è¯†ç‚¹å¹¶ä¸å°‘ï¼Œè€Œä¸”æœ‰ç‚¹å¤æ‚ã€‚æœ¬æ–‡ä¸»è¦ä»‹ç» <code>Collections</code> é›†åˆå·¥å…·ç±»ï¼Œåç»­å†æ·±å…¥æ¯ä¸€ä¸ªæ’åºç®—æ³•è¿›è¡Œè®²è§£ã€‚</p><p><strong>Collections.sort</strong></p><p>é›†åˆæ’åºï¼Œæœ€ç»ˆä½¿ç”¨çš„æ–¹æ³•ï¼š<em>Arrays.sort((E[]) elementData, 0, size, c);</em></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> fromIndex<span class="token punctuation">,</span> <span class="token keyword">int</span> toIndex<span class="token punctuation">,</span>
                            <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>c <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> fromIndex<span class="token punctuation">,</span> toIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">rangeCheck</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>length<span class="token punctuation">,</span> fromIndex<span class="token punctuation">,</span> toIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">LegacyMergeSort</span><span class="token punctuation">.</span>userRequested<span class="token punctuation">)</span>
            <span class="token function">legacyMergeSort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> fromIndex<span class="token punctuation">,</span> toIndex<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token class-name">TimSort</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> fromIndex<span class="token punctuation">,</span> toIndex<span class="token punctuation">,</span> c<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™ä¸€éƒ¨åˆ†æ’åºé€»è¾‘åŒ…æ‹¬äº†ï¼Œæ—§ç‰ˆçš„å½’å¹¶æ’åº <code>legacyMergeSort</code> å’Œ <code>TimSort</code> æ’åºã€‚</li><li>ä½†å› ä¸ºå¼€å…³çš„ä½œç”¨ï¼Œ<code>LegacyMergeSort.userRequested = false</code>ï¼ŒåŸºæœ¬éƒ½æ˜¯èµ°åˆ° <code>TimSort</code> æ’åº ã€‚</li><li>åŒæ—¶åœ¨æ’åºçš„è¿‡ç¨‹ä¸­è¿˜ä¼šå› ä¸ºå…ƒç´ çš„ä¸ªæ•°æ˜¯å¦å¤§äº<code>32</code>ï¼Œè€Œé€‰æ‹©<code>åˆ†æ®µæ’åº</code>å’Œ<code>äºŒåˆ†æ’å…¥æ’åº</code>ã€‚<em>è¿™ä¸€éƒ¨åˆ†å†…å®¹æˆ‘ä»¬åç»­ä¸“é—¨åœ¨æ’åºå†…å®¹è®²è§£</em></li></ul><h3 id="_2-collections-binarysearch-äºŒåˆ†æŸ¥æ‰¾" tabindex="-1"><a class="header-anchor" href="#_2-collections-binarysearch-äºŒåˆ†æŸ¥æ‰¾" aria-hidden="true">#</a> 2. Collections.binarySearch äºŒåˆ†æŸ¥æ‰¾</h3><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-11-03.png" alt="å°å‚…å“¥ &amp; Collections.binarySearch"></p><ul><li>çœ‹åˆ°è¿™å¼ å›¾ç†Ÿæ‚‰å—ï¼Œè¿™å°±æ˜¯é›†åˆå…ƒç´ ä¸­é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å®šä½æŒ‡å®šå…ƒç´ 5ã€‚</li><li>äºŒåˆ†æŸ¥æ‰¾çš„å‰ææ˜¯é›†åˆæœ‰åºï¼Œå¦åˆ™ä¸èƒ½æ»¡è¶³äºŒåˆ†ç®—æ³•çš„æŸ¥æ‰¾è¿‡ç¨‹ã€‚</li><li>æŸ¥æ‰¾é›†åˆå…ƒç´ 5ï¼Œåœ¨è¿™ä¸ªé›†åˆä¸­åˆ†äº†ä¸‰éƒ¨ï¼› <ul><li>ç¬¬ä¸€æ­¥ï¼Œ<code>(0 + 7) &gt;&gt;&gt; 1 = 3</code>ï¼Œå®šä½ <code>list.get(3) = 4</code>ï¼Œåˆ™ç»§ç»­å‘å³ä¾§äºŒåˆ†æŸ¥æ‰¾ã€‚</li><li>ç¬¬äºŒæ­¥ï¼Œ<code>(4 + 7) &gt;&gt;&gt; 1 = 5</code>ï¼Œå®šä½ <code>list.get(5) = 6</code>ï¼Œåˆ™ç»§ç»­å‘å·¦ä¾§äºŒåˆ†æŸ¥æ‰¾ã€‚</li><li>ç¬¬ä¸‰æ­¥ï¼Œ<code>(4 + 4) &gt;&gt;&gt; 1 = 4</code>ï¼Œå®šä½ <code>list.get(4) = 5</code>ï¼Œæ‰¾åˆ°å…ƒç´ ï¼Œè¿”å›ç»“æœã€‚</li></ul></li></ul><h4 id="_2-1-åŠŸèƒ½ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_2-1-åŠŸèƒ½ä½¿ç”¨" aria-hidden="true">#</a> 2.1 åŠŸèƒ½ä½¿ç”¨</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_binarySearch</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">int</span> idx <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;äºŒåˆ†æŸ¥æ‰¾ï¼š&quot;</span> <span class="token operator">+</span> idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ­¤åŠŸèƒ½å°±æ˜¯ä¸Šå›¾ä¸­çš„å…·ä½“å®ç°æ•ˆæœï¼Œé€šè¿‡ <code>Collections.binarySearch</code> å®šä½å…ƒç´ ã€‚</li><li>æµ‹è¯•ç»“æœï¼š<code>äºŒåˆ†æŸ¥æ‰¾ï¼š4</code></li></ul><h4 id="_2-2-æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_2-2-æºç åˆ†æ" aria-hidden="true">#</a> 2.2 æºç åˆ†æ</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Collections</span><span class="token punctuation">.</span>binarySearch

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">T</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token keyword">instanceof</span> <span class="token class-name">RandomAccess</span> <span class="token operator">||</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token constant">BINARYSEARCH_THRESHOLD</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">indexedBinarySearch</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token keyword">return</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">iteratorBinarySearch</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ®µäºŒåˆ†æŸ¥æ‰¾çš„ä»£ç è¿˜æ˜¯è›®æœ‰æ„æ€çš„ï¼Œ<code>list instanceof RandomAccess</code> è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º ArrayList æœ‰å®ç° RandomAccessï¼Œä½†æ˜¯ LinkedList å¹¶æ²¡æœ‰å®ç°è¿™ä¸ªæ¥å£ã€‚åŒæ—¶è¿˜æœ‰å…ƒç´ æ•°é‡é˜ˆå€¼çš„æ ¡éªŒ <code>BINARYSEARCH_THRESHOLD = 5000</code>ï¼Œå°äºè¿™ä¸ªèŒƒå›´çš„éƒ½é‡‡ç”¨ <code>indexedBinarySearch</code> è¿›è¡ŒæŸ¥æ‰¾ã€‚é‚£ä¹ˆè¿™é‡Œå…¶å®ä½¿ç”¨ LinkedList å­˜å‚¨æ•°æ®ï¼Œåœ¨å…ƒç´ å®šä½çš„æ—¶å€™ï¼Œéœ€è¦getå¾ªç¯è·å–å…ƒç´ ï¼Œå°±ä¼šæ¯” ArrayList æ›´è€—æ—¶ã€‚</p><p><strong>Collections.indexedBinarySearch(list, key)</strong>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">int</span> <span class="token function">indexedBinarySearch</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">T</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
     <span class="token keyword">int</span> high <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
     <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
         <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> midVal <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">int</span> cmp <span class="token operator">=</span> midVal<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
             low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
         <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
             high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
         <span class="token keyword">else</span>
             <span class="token keyword">return</span> mid<span class="token punctuation">;</span> <span class="token comment">// key found</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">return</span> <span class="token operator">-</span><span class="token punctuation">(</span>low <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// key not found</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,39),_=n("code",null,"list.get(mid)",-1),q={href:"https://bugstack.cn/interview/2020/08/30/%E9%9D%A2%E7%BB%8F%E6%89%8B%E5%86%8C-%E7%AC%AC8%E7%AF%87-LinkedList%E6%8F%92%E5%85%A5%E9%80%9F%E5%BA%A6%E6%AF%94ArrayList%E5%BF%AB-%E4%BD%A0%E7%A1%AE%E5%AE%9A%E5%90%97.html",target:"_blank",rel:"noopener noreferrer"},x=p(`<p><strong>Collections.iteratorBinarySearch(list, key)</strong>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">int</span> <span class="token function">iteratorBinarySearch</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token class-name">T</span> key<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> high <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Comparable</span><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> i <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>low <span class="token operator">+</span> high<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">super</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> midVal <span class="token operator">=</span> <span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> cmp <span class="token operator">=</span> midVal<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>cmp <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> mid<span class="token punctuation">;</span> <span class="token comment">// key found</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token punctuation">(</span>low <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// key not found</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™æ®µä»£ç æ˜¯å…ƒç´ æ•°é‡å¤§äº5000ä¸ªï¼ŒåŒæ—¶æ˜¯ LinkedList æ—¶ä¼šä½¿ç”¨è¿­ä»£å™¨ <code>list.listIterator</code> çš„æ–¹å¼è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ“ä½œã€‚ä¹Ÿç®—æ˜¯ä¸€ä¸ªä¼˜åŒ–ï¼Œä½†æ˜¯å¯¹äºé“¾è¡¨çš„æ•°æ®ç»“æ„ï¼Œä»ç„¶æ²¡æœ‰æ•°ç»„æ•°æ®ç»“æ„ï¼ŒäºŒåˆ†å¤„ç†çš„é€Ÿåº¦å¿«ï¼Œä¸»è¦åœ¨è·å–å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸ŠO(1) å’Œ O(n)ã€‚</p><h3 id="_3-collections-shuffle-æ´—ç‰Œç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_3-collections-shuffle-æ´—ç‰Œç®—æ³•" aria-hidden="true">#</a> 3. Collections.shuffle æ´—ç‰Œç®—æ³•</h3><p><strong>æ´—ç‰Œç®—æ³•</strong>ï¼Œå…¶å®å°±æ˜¯å°† List é›†åˆä¸­çš„å…ƒç´ è¿›è¡Œæ‰“ä¹±ï¼Œä¸€èˆ¬å¯ä»¥ç”¨åœ¨æŠ½å¥–ã€æ‘‡å·ã€æ´—ç‰Œç­‰å„ä¸ªåœºæ™¯ä¸­ã€‚</p><h4 id="_3-1-åŠŸèƒ½ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_3-1-åŠŸèƒ½ä½¿ç”¨" aria-hidden="true">#</a> 3.1 åŠŸèƒ½ä½¿ç”¨</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒçš„ä½¿ç”¨æ–¹å¼éå¸¸ç®€å•ï¼Œä¸»è¦æœ‰è¿™ä¹ˆä¸¤ç§æ–¹å¼ï¼Œä¸€ç§ç›´æ¥ä¼ å…¥é›†åˆã€å¦å¤–ä¸€ç§è¿˜å¯ä»¥ä¼ å…¥å›ºå®šçš„éšæœºç§å­<em>è¿™ç§æ–¹å¼å¯ä»¥æ§åˆ¶æ´—ç‰ŒèŒƒå›´èŒƒå›´</em></p><h4 id="_3-2-æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_3-2-æºç åˆ†æ" aria-hidden="true">#</a> 3.2 æºç åˆ†æ</h4><p>æŒ‰ç…§æ´—ç‰Œçš„é€»è¾‘ï¼Œæˆ‘ä»¬æ¥å®ç°ä¸‹å…·ä½“çš„æ ¸å¿ƒé€»è¾‘ä»£ç ï¼Œå¦‚ä¸‹ï¼›</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_shuffle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;5&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;6&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> ri <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// éšæœºä½ç½®</span>
        <span class="token keyword">int</span> ji <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>              <span class="token comment">// é¡ºå»¶</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;riï¼š&quot;</span> <span class="token operator">+</span> ri <span class="token operator">+</span> <span class="token string">&quot; jiï¼š&quot;</span> <span class="token operator">+</span> ji<span class="token punctuation">)</span><span class="token punctuation">;</span>
        list<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>ji<span class="token punctuation">,</span> list<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>ri<span class="token punctuation">,</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ji<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å…ƒç´ ç½®æ¢</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¿è¡Œç»“æœï¼š</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>riï¼š<span class="token number">6</span> jiï¼š<span class="token number">7</span>
riï¼š<span class="token number">4</span> jiï¼š<span class="token number">6</span>
riï¼š<span class="token number">1</span> jiï¼š<span class="token number">5</span>
riï¼š<span class="token number">2</span> jiï¼š<span class="token number">4</span>
riï¼š<span class="token number">0</span> jiï¼š<span class="token number">3</span>
riï¼š<span class="token number">0</span> jiï¼š<span class="token number">2</span>
riï¼š<span class="token number">1</span> jiï¼š<span class="token number">1</span>
<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™éƒ¨åˆ†ä»£ç é€»è¾‘ä¸»è¦æ˜¯é€šè¿‡éšæœºæ•°ä»é€æ­¥ç¼©å°èŒƒå›´çš„é›†åˆä¸­æ‰¾åˆ°å¯¹åº”çš„å…ƒç´ ï¼Œä¸é€’å‡çš„ä¸‹æ ‡ä½ç½®è¿›è¡Œå…ƒç´ æ›¿æ¢ï¼Œæ•´ä½“çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼›</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-11-04.png" alt="å°å‚…å“¥ &amp; æ´—ç‰Œç®—æ³•è¿‡ç¨‹"></p><h3 id="_4-collections-rotate-æ—‹è½¬ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#_4-collections-rotate-æ—‹è½¬ç®—æ³•" aria-hidden="true">#</a> 4. Collections.rotate æ—‹è½¬ç®—æ³•</h3><p><strong>æ—‹è½¬ç®—æ³•</strong>ï¼Œå¯ä»¥æŠŠArrayListæˆ–è€…Linkedlistï¼Œä»æŒ‡å®šçš„æŸä¸ªä½ç½®å¼€å§‹ï¼Œè¿›è¡Œæ­£æ—‹æˆ–è€…é€†æ—‹æ“ä½œã€‚æœ‰ç‚¹åƒæŠŠé›†åˆç†è§£æˆåœ†ç›˜ï¼ŒæŠŠè¦çš„å…ƒç´ è½¬åˆ°è‡ªå·±è¿™ï¼Œå…¶ä»–çš„å…ƒç´ é¡ºåºè·Ÿéšã€‚</p><h4 id="_4-1-åŠŸèƒ½åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_4-1-åŠŸèƒ½åº”ç”¨" aria-hidden="true">#</a> 4.1 åŠŸèƒ½åº”ç”¨</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œæˆ‘ä»¬å°†é›†åˆé¡ºåºï¼›<code>7ã€4ã€8ã€3ã€9</code>ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬2ä½ï¼Œæµ‹è¯•ç»“æœå¦‚ä¸‹ï¼›<em>é€†æ—¶é’ˆæ—‹è½¬ä¸ºè´Ÿæ•°</em></p><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>é€šè¿‡æµ‹è¯•ç»“æœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä»å…ƒç´ <code>7</code>å¼€å§‹ï¼Œæ­£å‘æ—‹è½¬äº†ä¸¤ä½ï¼Œæ‰§è¡Œæ•ˆæœå¦‚ä¸‹å›¾ï¼›</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-11-05.png" alt=""></p><h4 id="_4-2-æºç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_4-2-æºç åˆ†æ" aria-hidden="true">#</a> 4.2 æºç åˆ†æ</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>list <span class="token keyword">instanceof</span> <span class="token class-name">RandomAccess</span> <span class="token operator">||</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token constant">ROTATE_THRESHOLD</span><span class="token punctuation">)</span>
        <span class="token function">rotate1</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> distance<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span>
        <span class="token function">rotate2</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> distance<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…³äºæ—‹è½¬ç®—æ³•çš„å®ç°ç±»åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼›</p><ol><li>Arraylist æˆ–è€…å…ƒç´ æ•°é‡ä¸å¤šæ—¶ï¼Œ<code>ROTATE_THRESHOLD = 100</code>ï¼Œåˆ™é€šè¿‡ç®—æ³•<code>rotate1</code>å®ç°ã€‚</li><li>å¦‚æœæ˜¯ LinkedList å…ƒç´ æ•°é‡åˆè¶…è¿‡äº† ROTATE_THRESHOLDï¼Œåˆ™éœ€è¦ä½¿ç”¨ç®—æ³•<code>rotate2</code>å®ç°ã€‚</li></ol><p><strong>é‚£ä¹ˆ</strong>ï¼Œè¿™ä¸¤ä¸ªç®—æ³•æœ‰ä»€ä¹ˆä¸åŒå‘¢ï¼Ÿ</p><h5 id="_4-2-1-æ—‹è½¬ç®—æ³•-rotate1" tabindex="-1"><a class="header-anchor" href="#_4-2-1-æ—‹è½¬ç®—æ³•-rotate1" aria-hidden="true">#</a> 4.2.1 æ—‹è½¬ç®—æ³•ï¼Œrotate1</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span> <span class="token function">rotate1</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    distance <span class="token operator">=</span> distance <span class="token operator">%</span> size<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>distance <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        distance <span class="token operator">+=</span> size<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>distance <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> cycleStart <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> nMoved <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> nMoved <span class="token operator">!=</span> size<span class="token punctuation">;</span> cycleStart<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">T</span> displaced <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>cycleStart<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> cycleStart<span class="token punctuation">;</span>
        <span class="token keyword">do</span> <span class="token punctuation">{</span>
            i <span class="token operator">+=</span> distance<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&gt;=</span> size<span class="token punctuation">)</span>
                i <span class="token operator">-=</span> size<span class="token punctuation">;</span>
            displaced <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> displaced<span class="token punctuation">)</span><span class="token punctuation">;</span>
            nMoved <span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> cycleStart<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™éƒ¨åˆ†ä»£ç çœ‹ç€ç¨å¾®å¤šä¸€ç‚¹ï¼Œä½†æ˜¯æ•°ç»„ç»“æ„çš„æ“ä½œèµ·æ¥å¹¶ä¸å¤æ‚ï¼ŒåŸºæœ¬å¦‚ä¸Šé¢åœ†åœˆå›¾æ“ä½œï¼Œä¸»è¦åŒ…æ‹¬ä»¥ä¸‹æ­¥éª¤ï¼›</p><ol><li><code>distance = distance % size;</code>ï¼Œè·å–æ—‹è½¬çš„ä½ç½®ã€‚</li><li>forå¾ªç¯å’Œdowhileï¼Œé…åˆæ¯æ¬¡çš„æ—‹è½¬æ“ä½œï¼Œæ¯”å¦‚è¿™é‡Œç¬¬ä¸€æ¬¡ä¼šæŠŠ0ä½ç½®å…ƒç´ æ›¿æ¢åˆ°2ä½ç½®ï¼Œæ¥ç€åœ¨dowhileä¸­ä¼šåˆ¤æ–­<code>i != cycleStart</code>ï¼Œæ»¡è¶³æ¡ä»¶ç»§ç»­æŠŠæ›¿æ¢äº†2ä½ç½®çš„å…ƒç´ ç»§ç»­å¾€ä¸‹æ›¿æ¢ã€‚ç›´åˆ°ä¸€è½®å¾ªç¯æŠŠæ‰€æœ‰å…ƒç´ éƒ½æ”¾ç½®åˆ°æ­£ç¡®ä½ç½®ã€‚</li><li>æœ€ç»ˆlistå…ƒç´ è¢«å¾ªç¯æ›¿æ¢å®Œæˆï¼Œä¹Ÿå°±ç›¸å½“ä»æŸä¸ªä½ç½®å¼€å§‹ï¼Œæ­£åºæ—‹è½¬2ä¸ªä½ç½®çš„æ“ä½œã€‚</li></ol><h5 id="_4-2-2-æ—‹è½¬ç®—æ³•-rotate2" tabindex="-1"><a class="header-anchor" href="#_4-2-2-æ—‹è½¬ç®—æ³•-rotate2" aria-hidden="true">#</a> 4.2.2 æ—‹è½¬ç®—æ³•ï¼Œrotate2</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">rotate2</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">,</span> <span class="token keyword">int</span> distance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>size <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> mid <span class="token operator">=</span>  <span class="token operator">-</span>distance <span class="token operator">%</span> size<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        mid <span class="token operator">+=</span> size<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token function">reverse</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> mid<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">reverse</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span>mid<span class="token punctuation">,</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">reverse</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¥ä¸‹æ¥è¿™éƒ¨åˆ†æºç ä¸»è¦æ˜¯é’ˆå¯¹å¤§äº<code>100</code>ä¸ªå…ƒç´ çš„LinkedListè¿›è¡Œæ“ä½œï¼Œæ‰€ä»¥æ•´ä¸ªç®—æ³•ä¹Ÿæ›´åŠ æœ‰æ„æ€ï¼Œå®ƒçš„ä¸»è¦æ“ä½œåŒ…æ‹¬ï¼›</p><ol><li>å®šä½æ‹†é“¾ä½ç½®ï¼Œ-distance % size + sizeï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¦æ—‹è½¬åæ‰¾åˆ°çš„å…ƒç´ ä½ç½®</li><li>ç¬¬ä¸€æ¬¡ç¿»è½¬ï¼ŒæŠŠä»ä½ç½®0åˆ°æ‹†é“¾ä½ç½®</li><li>ç¬¬äºŒæ¬¡ç¿»è½¬ï¼ŒæŠŠæ‹†é“¾ä½ç½®åˆ°ç»“å°¾</li><li>ç¬¬ä¸‰æ¬¡ç¿»è½¬ï¼Œç¿»è½¬æ•´ä¸ªé“¾è¡¨</li></ol><p>æ•´ä½“æ‰§è¡Œè¿‡ç¨‹ï¼Œå¯ä»¥å‚è€ƒä¸‹å›¾ï¼Œæ›´æ–¹ä¾¿ç†è§£ï¼›</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-11-06.png" alt="å°å‚…å“¥ &amp; æ—‹è½¬ç®—æ³•"></p><h3 id="_5-å…¶ä»–apiä»‹ç»" tabindex="-1"><a class="header-anchor" href="#_5-å…¶ä»–apiä»‹ç»" aria-hidden="true">#</a> 5. å…¶ä»–APIä»‹ç»</h3><p>è¿™éƒ¨åˆ†APIå†…å®¹ï¼Œä½¿ç”¨å’Œè®¾è®¡ä¸Šç›¸å¯¹æ¯”è¾ƒç®€å•ï¼Œå¹³æ—¶å¯èƒ½ç”¨çš„æ—¶å€™ä¸å¤šï¼Œä½†æœ‰çš„å°ä¼™ä¼´è¿˜æ²¡ç”¨è¿‡ï¼Œå°±å½“ä¸ºä½ æ‰«ç›²äº†ã€‚</p><h4 id="_5-1-æœ€å¤§æœ€å°å€¼" tabindex="-1"><a class="header-anchor" href="#_5-1-æœ€å¤§æœ€å°å€¼" aria-hidden="true">#</a> 5.1 æœ€å¤§æœ€å°å€¼</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> min <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> max <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Collections</code> å·¥å…·åŒ…å¯ä»¥è¿›è¡Œæœ€å€¼çš„è·å–ã€‚</li></ul><h4 id="_5-2-å…ƒç´ æ›¿æ¢" tabindex="-1"><a class="header-anchor" href="#_5-2-å…ƒç´ æ›¿æ¢" aria-hidden="true">#</a> 5.2 å…ƒç´ æ›¿æ¢</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// æµ‹è¯•ç»“æœï¼š [7, 4, 9, 9]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯ä»¥æŠŠé›†åˆä¸­æŸä¸ªå…ƒç´ å…¨éƒ¨æ›¿æ¢æˆæ–°çš„å…ƒç´ ã€‚</li></ul><h4 id="_5-3-è¿ç»­é›†åˆä½ç½®åˆ¤æ–­" tabindex="-1"><a class="header-anchor" href="#_5-3-è¿ç»­é›†åˆä½ç½®åˆ¤æ–­" aria-hidden="true">#</a> 5.3 è¿ç»­é›†åˆä½ç½®åˆ¤æ–­</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_indexOfSubList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;7&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;4&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;9&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> idx <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">indexOfSubList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;8&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// æµ‹è¯•ç»“æœï¼š2</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä½¿ç”¨Stringæ“ä½œä¸­ï¼Œæˆ‘ä»¬çŸ¥é“<code>&quot;74839&quot;.indexOf(&quot;8&quot;);</code>ï¼Œå¯ä»¥è·å–æŸä¸ªå…ƒç´ åœ¨ä»€ä¹ˆä½ç½®ã€‚è€Œåœ¨<code>ArrayList</code>é›†åˆæ“ä½œä¸­ï¼Œå¯ä»¥è·å–è¿ç»­çš„å…ƒç´ ï¼Œåœ¨é›†åˆä¸­çš„ä½ç½®ã€‚</p><h4 id="_5-4-synchronized" tabindex="-1"><a class="header-anchor" href="#_5-4-synchronized" aria-hidden="true">#</a> 5.4 synchronized</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">synchronizedList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">synchronizedMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™ä¸ªå¾ˆç†Ÿæ‚‰å§ï¼Œç”šè‡³ç»å¸¸ä½¿ç”¨ï¼Œä½†å¯èƒ½ä¼šå¿½ç•¥è¿™äº›çº¿ç¨‹å®‰å…¨çš„æ–¹æ³•æ¥è‡ªäº <code>Collections</code> é›†åˆå·¥å…·åŒ…ã€‚</li></ul><h2 id="å››ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å››ã€æ€»ç»“" aria-hidden="true">#</a> å››ã€æ€»ç»“</h2><ul><li>æœ¬ç« èŠ‚åŸºæœ¬å°†<code>java.util.Collections</code>å·¥å…·åŒ…ä¸­çš„å¸¸ç”¨æ–¹æ³•ä»‹ç»å®Œäº†ï¼Œä»¥åŠä¸€äº›ç®—æ³•çš„è®²è§£ã€‚è¿™æ ·åœ¨åç»­éœ€è¦ä½¿ç”¨åˆ°è¿™äº›ç®—æ³•é€»è¾‘æ—¶ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨å¹¶ä¸éœ€è¦é‡å¤é€ è½®å­ã€‚</li><li>å­¦ä¹ æ•°æ®ç»“æ„ã€ç®—æ³•ã€è®¾è®¡æ¨¡å¼ï¼Œè¿™ä¸‰æ–¹é¢çš„çŸ¥è¯†ï¼Œé‡ç‚¹è¿˜æ˜¯èƒ½è½åœ°åˆ°æ—¥å¸¸çš„ä¸šåŠ¡å¼€å‘ä¸­ï¼Œå¦åˆ™ç©ºã€å‡ã€è™šï¼Œåªèƒ½é€‚åˆå¹å¹ç‰›ï¼Œå¹¶ä¸ä¼šç»™é¡¹ç›®ç ”å‘å¸¦æ¥å®é™…çš„ä»·å€¼ã€‚</li><li>æ‡‚äº†å°±æ˜¯çœŸçš„æ‡‚ï¼Œåˆ«è®©è‡ªå·±å¤ªéš¾å—ã€‚æ­»è®°ç¡¬èƒŒè°ä¹Ÿå—ä¸äº†ï¼Œè€—è´¹äº†å¤§é‡çš„æ—¶é—´ï¼ŒçŸ¥è¯†ä¹Ÿæ²¡æœ‰å¸æ”¶ï¼Œå­¦ä¹ ä¸€ä¸ªçŸ¥è¯†ç‚¹æœ€å¥½å°±ä»æ ¹æœ¬å­¦ä¹ ï¼Œä¸è¦å¿ƒæµ®æ°”èºã€‚</li></ul>`,55);function j(S,L){const a=o("ExternalLinkIcon");return c(),l("div",null,[u,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),k,s("åšå®¢ï¼š"),n("a",r,[s("https://bugstack.cn"),t(a)])]),d,n("p",null,[s("åœ¨ä»¥å¾€çš„ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬æŠŠJavaå¸¸ç”¨çš„æ•°æ®ç»“æ„åŸºæœ¬ä»‹ç»å®Œäº†ï¼Œéƒ½å·²æ”¶å½•åˆ°ï¼š"),n("a",v,[s("è·³è½¬ -> ã€Šé¢ç»æ‰‹å†Œã€‹"),t(a)]),s("ï¼Œç« èŠ‚å†…å®¹ä¸‹å›¾ï¼› "),m]),b,g,h,n("p",null,[f,s("ï¼šå¥½å¤šçŸ¥è¯†ç›²åŒºå‘€ï¼Œæœ€è¿‘ä¸€ç›´åœ¨åŠªåŠ›è¡¥çŸ­æ¿ï¼Œè¿˜æœ‰"),n("a",y,[s("é¢ç»æ‰‹å†Œ"),t(a)]),s("é‡Œçš„æ•°æ®ç»“æ„ã€‚")]),w,n("p",null,[s("ä»¥ä¸Šè¿™æ®µä»£ç å°±æ˜¯é€šè¿‡æ¯æ¬¡æŠ˜åŠäºŒåˆ†å®šä½å…ƒç´ ï¼Œè€Œä¸Šé¢æ‰€è¯´çš„è€—æ—¶ç‚¹å°±æ˜¯"),_,s("ï¼Œè¿™åœ¨æˆ‘ä»¬åˆ†ææ•°æ®ç»“æ„æ—¶å·²ç»è®²è¿‡ã€‚"),n("a",q,[s("ã€ŠLinkedListæ’å…¥é€Ÿåº¦æ¯”ArrayListå¿«ï¼Ÿä½ ç¡®å®šå—ï¼Ÿã€‹"),t(a)])]),x])}const A=e(i,[["render",j],["__file","2020-09-10-mianjingshouce Â· di10pianã€Šsaomangjava.util.Collectionsgongjubaoï¼Œxuexipaixuã€erfenã€xipaiã€xuanzhuansuanfaã€‹.html.vue"]]);export{A as default};
