import{_ as e,r as o,o as c,c as l,a as n,b as s,d as t,e as p}from"./app-3RcBQnkC.js";const i={},u=n("h1",{id:"ã€å°åœºæ™¯è®­ç»ƒè¥ã€‘å•†å“ä¸‹å•æ”¯ä»˜åœºæ™¯-dddè®¾è®¡å®ç°ã€Œæ”¯ä»˜å®æ²™ç®±ã€",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ã€å°åœºæ™¯è®­ç»ƒè¥ã€‘å•†å“ä¸‹å•æ”¯ä»˜åœºæ™¯-dddè®¾è®¡å®ç°ã€Œæ”¯ä»˜å®æ²™ç®±ã€","aria-hidden":"true"},"#"),s(" ã€å°åœºæ™¯è®­ç»ƒè¥ã€‘å•†å“ä¸‹å•æ”¯ä»˜åœºæ™¯ï¼ŒDDDè®¾è®¡å®ç°ã€Œæ”¯ä»˜å®æ²™ç®±ã€")],-1),r=n("br",null,null,-1),k={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=n("blockquote",null,[n("p",null,"æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„")],-1),m=n("iframe",{id:"B-Video",src:"//player.bilibili.com/player.html?aid=922461679&bvid=BV1ku4y1M7E1&cid=1372506705&p=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",width:"100%",height:"480"}," ",-1),v=p('<p>å“ˆå–½ï¼Œå¤§å®¶ä¼™æˆ‘æ˜¯æŠ€æœ¯UPä¸»å°å‚…å“¥ã€‚</p><p>ç»å†äº†åŠå¹´å¤šğŸ’ï¼Œ<strong>ã€ŠDDD æŠ€æœ¯å°å†Œã€‹</strong> æ•´ä¸ªç³»åˆ—å·²å®Œæˆ<code>ç†è®ºçŸ¥è¯†</code>ä¸<code>æŠ€æœ¯å®è·µ</code>ä¸¤ä¸ªéƒ¨åˆ†ï¼Œæ¥ä¸‹æ¥å°å‚…å“¥å°†å¸¦ç€å°ä¼™ä¼´ä»¬å¼€å¯<code>DDD æŠ€æœ¯å°å†Œä¹‹åœºæ™¯æ–¹æ¡ˆ</code>çš„å­¦ä¹ æ—…ç¨‹ã€‚â€”â€” å­¦ç†è®ºã€ç»ƒæŠ€æœ¯ã€æ‰¾åœºæ™¯é”»ç‚¼ï¼Œç»¼åˆçš„å­¦ä¹ ä¼šå¿«é€Ÿçš„æé«˜ç¼–ç¨‹æŠ€æœ¯ã€‚</p><div align="center"><img src="https://bugstack.cn/images/system/zsxq/xingqiu-231018-01.png?raw=true" width="650px"></div><p>æŠ€æœ¯ï¼Œæ˜¯æ‰¿æ¥ä¸šåŠ¡éœ€æ±‚æä¾›è§£å†³æ–¹æ¡ˆçš„ç»¼åˆè¿ç”¨ï¼Œè€Œä»å®é™…éœ€æ±‚ä¸­æ‘˜å–å‡ºæ¥çš„å°åœºæ™¯å­¦ä¹ ï¼ŒåŒ…æ‹¬ï¼›æ”¯ä»˜ã€çŸ­ä¿¡ã€åœ°å›¾ã€äººè„¸ã€è§„åˆ™ã€çŸ­ä¿¡çŒ«ã€ä¸‰æ–¹ç™»å½•ç­‰ï¼Œéƒ½å¯ä»¥éå¸¸å¥½çš„é”»ç‚¼æ€ç»´ï¼Œæé«˜ç¼–ç èƒ½åŠ›ã€‚</p><p>é‚£ä¹ˆï¼Œæœ¬èŠ‚æˆ‘ä»¬å…ˆæ¥å®Œæˆä¸‹æ”¯ä»˜åœºæ™¯åœ¨ DDD é¢†åŸŸé©±åŠ¨ä¸‹çš„åœºæ™¯è®¾è®¡å’Œç¼–ç å®ç°ã€‚è¿™é‡Œé€‰ç”¨æ”¯ä»˜å®çš„æ²™ç®±æ”¯ä»˜ï¼Œå› ä¸ºè¿™ä¸ªæ”¯ä»˜å¯¹æ¥éå¸¸å¥½ç”³è¯·ï¼Œè¿™æ ·å¯ä»¥æ–¹ä¾¿å¤§å®¶ä¸€èµ·å‚ä¸å­¦ä¹ ã€‚</p>',5),b={href:"https://gaga.plus",target:"_blank",rel:"noopener noreferrer"},g=p('<h2 id="ä¸€ã€åœºæ™¯è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€åœºæ™¯è¯´æ˜" aria-hidden="true">#</a> ä¸€ã€åœºæ™¯è¯´æ˜</h2><p>åœ¨æœ¬èŠ‚å°å‚…å“¥ä¼šå¸¦ç€å¤§å®¶å…ˆä»¥æœ€ç®€å•çš„æ–¹å¼å®Œæˆå¯¹æ¥æ”¯ä»˜éªŒè¯ã€‚å†ä»¥å•†å“ä¸‹å•æ¨¡å‹ï¼Œé€šè¿‡ DDD çš„é¢†åŸŸé©±åŠ¨è®¾è®¡ï¼Œæœ€ç»ˆå®Œæˆå¯¹<code>æ”¯ä»˜å®æ²™ç®±</code>çš„å¯¹æ¥ä½¿ç”¨ã€‚ã€å¦‚å›¾ã€‘</p><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-02.png?raw=true" width="650px"></div><ul><li>åŒ…æ‹¬ï¼›å•†åŸã€å‡ºè¡Œã€å¤–å–ç­‰åœºæ™¯ï¼Œå‡¡æ˜¯å¯¹æ¥æ”¯ä»˜ï¼Œéƒ½ä¼šå…ˆåˆ›å»ºä¸€æ¡è®¢å•ã€‚åœ¨åŸºäºè®¢å•çš„å”¯ä¸€IDåˆ›å»ºæ”¯ä»˜å•ã€‚è¿™æ˜¯å› ä¸ºè°ƒç”¨çš„æ”¯ä»˜éƒ½æ˜¯å¤–éƒ¨çš„æ¥å£æä¾›ï¼Œæ²¡æ³•å’Œè‡ªå·±æµç¨‹åšä¸€ä¸ªç»Ÿä¸€çš„äº‹åŠ¡ã€‚é‚£ä¹ˆè¿™é‡Œå°±éœ€è¦è€ƒè™‘æœ€ç»ˆä¸€è‡´æ€§é—®é¢˜ï¼Œè¦å¹‚ç­‰å¯é‡è¯•ã€‚â€”â€” æ‰€ä»¥æœ‰è¿™æ ·çš„æµç¨‹ï¼Œè°ƒå•ä¹Ÿå¯ä»¥è¡¥å¿ã€‚</li><li>å•†å“æ”¯ä»˜å®Œæˆåï¼Œä¼šæ”¶åˆ°æ”¯ä»˜å®Œæˆçš„å›è°ƒã€‚å›è°ƒè°ƒç”¨ä½ æä¾›å¥½çš„ä¸€ä¸ªæ¥å£ï¼Œç”¨äºæ¥æ”¶æ”¯ä»˜å®Œæˆçš„é€šçŸ¥ã€‚è¿™ä¸ªé€šçŸ¥ç”¨äºå˜æ›´æ”¯ä»˜å•çš„çŠ¶æ€ï¼Œä»¥åŠè‡ªå·±ç³»ç»Ÿå†…å†å‘ä¸€ä¸ªå¼‚æ­¥çš„MQæ¶ˆæ¯ï¼Œç”¨äºå¤„ç†åç»­çš„æµç¨‹ã€‚</li><li>æ‰€æœ‰çš„è¿™äº›æµç¨‹èŠ‚ç‚¹ï¼Œæ”¯ä»˜æ‰å•ã€å›è°ƒå¤±è´¥ã€MQå‘é€å¤±è´¥ï¼Œåœ¨å„ä¸ªæµç¨‹èŠ‚ç‚¹éƒ½æœ‰å”¯ä¸€IDï¼Œæ‰€ä»¥éƒ½å¯ä»¥ç”¨å®šæ—¶ä»»åŠ¡è¡¥å¿ã€‚</li></ul><h2 id="äºŒã€æ”¯ä»˜ç”³è¯·-alipay-æ²™ç®±æ”¯ä»˜" tabindex="-1"><a class="header-anchor" href="#äºŒã€æ”¯ä»˜ç”³è¯·-alipay-æ²™ç®±æ”¯ä»˜" aria-hidden="true">#</a> äºŒã€æ”¯ä»˜ç”³è¯· - Alipay æ²™ç®±æ”¯ä»˜</h2><h3 id="_1-æ²™ç®±åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-æ²™ç®±åº”ç”¨" aria-hidden="true">#</a> 1. æ²™ç®±åº”ç”¨</h3>',6),h=n("strong",null,"æ”¯ä»˜å®|å¼€æ”¾å¹³å°",-1),y={href:"https://open.alipay.com/develop/manage",target:"_blank",rel:"noopener noreferrer"},f=n("code",null,"ä»»ä½•äººéƒ½å¯ä»¥ç”³è¯·ï¼Œä¸è¦ä¼ä¸šèµ„è´¨",-1),_=n("div",{align:"center"},[n("img",{src:"https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-03.png?raw=true",width:"750px"})],-1),q=n("div",{align:"center"},[n("img",{src:"https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-04.png?raw=true",width:"750px"})],-1),w=n("h3",{id:"_2-ç§˜é’¥å·¥å…·",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-ç§˜é’¥å·¥å…·","aria-hidden":"true"},"#"),s(" 2. ç§˜é’¥å·¥å…·")],-1),x=n("strong",null,"æ–‡æ¡£ä¸­å¿ƒ | å¼€æ”¾å¹³å°",-1),I={href:"https://opendocs.alipay.com/common/02kipk",target:"_blank",rel:"noopener noreferrer"},S=n("code",null,"ä¸‹è½½æ”¯ä»˜å®å¼€æ”¾å¹³å°ç§˜é’¥å·¥å…·",-1),O=p(`<div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-07.png?raw=true" width="750px"></div><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-05.png?raw=true" width="750px"></div><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-06.png?raw=true" width="750px"></div><h3 id="_3-ç§˜é’¥å¡«å†™" tabindex="-1"><a class="header-anchor" href="#_3-ç§˜é’¥å¡«å†™" aria-hidden="true">#</a> 3. ç§˜é’¥å¡«å†™</h3><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-08.png?raw=true" width="750px"></div><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-09.png?raw=true" width="750px"></div><ul><li>åœ¨ç§˜é’¥å·¥å…·ä¸­ç”Ÿæˆçš„<strong>åº”ç”¨å…¬é’¥</strong>ï¼Œå¤åˆ¶åˆ°å¦‚å›¾ä¸­å¡«å†™ä¿å­˜ã€‚å¡«å†™åå°±å¯ä»¥çœ‹åˆ°å¯¹åº”çš„æ”¯ä»˜å®å…¬é’¥äº†ã€‚</li></ul><h2 id="ä¸‰ã€ç®€å•æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€ç®€å•æ¡ˆä¾‹" aria-hidden="true">#</a> ä¸‰ã€ç®€å•æ¡ˆä¾‹</h2><p>æœ‰äº†å‰é¢è¿™äº›æ­¥éª¤çš„ç”³è¯·æ“ä½œï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥å…ˆåšä¸€ä¸ªå°æ”¯ä»˜æ¡ˆä¾‹äº†ã€‚è¿™ä¸ªæ”¯ä»˜æ¡ˆä¾‹åœ¨å·¥ç¨‹ä»£ç ä¸­ xfg-dev-tech-app ApiTest ä¸‹ã€‚</p><h3 id="_1-åç«¯ä»£ç " tabindex="-1"><a class="header-anchor" href="#_1-åç«¯ä»£ç " aria-hidden="true">#</a> 1. åç«¯ä»£ç </h3><p><strong>æºç </strong>ï¼š<code>cn.bugstack.xfg.dev.tech.test.ApiTest</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApiTest</span> <span class="token punctuation">{</span>

    <span class="token comment">// ã€Œæ²™ç®±ç¯å¢ƒã€åº”ç”¨ID - æ‚¨çš„APPIDï¼Œæ”¶æ¬¾è´¦å·æ—¢æ˜¯ä½ çš„APPIDå¯¹åº”æ”¯ä»˜å®è´¦å·ã€‚è·å–åœ°å€ï¼›https://open.alipay.com/develop/sandbox/app</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> app_id <span class="token operator">=</span> <span class="token string">&quot;9021000132689924&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// ã€Œæ²™ç®±ç¯å¢ƒã€å•†æˆ·ç§é’¥ï¼Œä½ çš„PKCS8æ ¼å¼RSA2ç§é’¥</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> merchant_private_key <span class="token operator">=</span> <span class="token string">&quot;ä¸Šæ–‡ä¸­ï¼Œã€ç§˜é’¥å·¥å…·ã€‘æ‰€åˆ›å»ºçš„å…¬æˆ·ç§é’¥&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// ã€Œæ²™ç®±ç¯å¢ƒã€æ”¯ä»˜å®å…¬é’¥</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> alipay_public_key <span class="token operator">=</span> <span class="token string">&quot;ä¸Šæ–‡ä¸­ï¼Œã€ç§˜é’¥å¡«å†™ã€‘åæä¾›ç»™ä½ çš„æ”¯ä»˜å®å…¬é’¥&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// ã€Œæ²™ç®±ç¯å¢ƒã€æœåŠ¡å™¨å¼‚æ­¥é€šçŸ¥é¡µé¢è·¯å¾„ã€‚è¿™é‡Œå°å‚…å“¥ç”¨äº† natapp.cn å†…ç½‘ç©¿é€å·¥å…·</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> notify_url <span class="token operator">=</span> <span class="token string">&quot;https://xfg.natapp.cn/api/v1/alipay/alipay_notify_url&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// ã€Œæ²™ç®±ç¯å¢ƒã€é¡µé¢è·³è½¬åŒæ­¥é€šçŸ¥é¡µé¢è·¯å¾„ éœ€http://æ ¼å¼çš„å®Œæ•´è·¯å¾„ï¼Œå¿…é¡»å¤–ç½‘å¯ä»¥æ­£å¸¸è®¿é—®ï¼Œæ‰ä¼šåŒæ­¥è·³è½¬</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> return_url <span class="token operator">=</span> <span class="token string">&quot;https://gaga.plus&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// ã€Œæ²™ç®±ç¯å¢ƒã€</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> gatewayUrl <span class="token operator">=</span> <span class="token string">&quot;https://openapi-sandbox.dl.alipaydev.com/gateway.do&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// ç­¾åæ–¹å¼</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> sign_type <span class="token operator">=</span> <span class="token string">&quot;RSA2&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// å­—ç¬¦ç¼–ç æ ¼å¼</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> charset <span class="token operator">=</span> <span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_AliPay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">AlipayApiException</span> <span class="token punctuation">{</span>
        <span class="token class-name">AlipayClient</span> alipayClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultAlipayClient</span><span class="token punctuation">(</span>gatewayUrl<span class="token punctuation">,</span>
                app_id<span class="token punctuation">,</span>
                merchant_private_key<span class="token punctuation">,</span>
                <span class="token string">&quot;json&quot;</span><span class="token punctuation">,</span>
                charset<span class="token punctuation">,</span>
                alipay_public_key<span class="token punctuation">,</span>
                sign_type<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">AlipayTradePagePayRequest</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AlipayTradePagePayRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å‘é€è¯·æ±‚çš„ Requestç±»</span>
        request<span class="token punctuation">.</span><span class="token function">setNotifyUrl</span><span class="token punctuation">(</span>notify_url<span class="token punctuation">)</span><span class="token punctuation">;</span>
        request<span class="token punctuation">.</span><span class="token function">setReturnUrl</span><span class="token punctuation">(</span>return_url<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">JSONObject</span> bizContent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JSONObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bizContent<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;out_trade_no&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;daniel82AAAA000032333361X02&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// æˆ‘ä»¬è‡ªå·±ç”Ÿæˆçš„è®¢å•ç¼–å·</span>
        bizContent<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;total_amount&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;0.01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¢å•çš„æ€»é‡‘é¢</span>
        bizContent<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;subject&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æµ‹è¯•å•†å“&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// æ”¯ä»˜çš„åç§°</span>
        bizContent<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;product_code&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;FAST_INSTANT_TRADE_PAY&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å›ºå®šé…ç½®</span>
        request<span class="token punctuation">.</span><span class="token function">setBizContent</span><span class="token punctuation">(</span>bizContent<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> form <span class="token operator">=</span> alipayClient<span class="token punctuation">.</span><span class="token function">pageExecute</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœï¼š{}&quot;</span><span class="token punctuation">,</span> form<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ”¯ä»˜é…ç½®</strong>ï¼š</p>`,13),A={href:"https://open.alipay.com/develop/sandbox/app",target:"_blank",rel:"noopener noreferrer"},E=n("li",null,"merchant_private_keyï¼šå•†æˆ·ç§é’¥ï¼Œã€é€šè¿‡æ”¯ä»˜å®å¼€æ”¾å¹³å°ç§˜é’¥å·¥å…·ã€‘åˆ›å»ºå‡ºæ¥çš„ç§é’¥ã€‚å…¬é’¥å¡«å†™åˆ°ç½‘é¡µä¸Šï¼Œç§é’¥ç¨‹åºé‡Œä½¿ç”¨ã€‚",-1),P=n("li",null,"alipay_public_keyï¼šæ”¯ä»˜å®å…¬é’¥ï¼Œåœ¨ç½‘é¡µä¸Šå¡«å†™å…¬é’¥åï¼Œä¼šç»™ä½ ä¸€ä¸ªæ”¯ä»˜å®çš„å…¬é’¥ã€‚",-1),C=n("li",null,"notify_urlï¼šæœåŠ¡å™¨å¼‚æ­¥é€šçŸ¥å›è°ƒåœ°å€ï¼Œä¹Ÿå°±æ˜¯ä½ æ”¯ä»˜å®Œæˆåï¼Œæ”¯ä»˜å®è°ƒç”¨ä½ çš„åœ°å€ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯åœ¨æœ¬åœ°åšæµ‹è¯•ï¼Œå¤–ç½‘æ˜¯è®¿é—®ä¸åˆ°çš„ã€‚æ‰€ä»¥ä¸ºäº†èƒ½åšè¿™æ ·çš„æµ‹è¯•ï¼Œå¯ä»¥å›è°ƒåˆ°æˆ‘ä»¬ã€‚é‚£ä¹ˆè¿™é‡Œéœ€è¦ä½¿ç”¨ natapp.cn åšä¸€ä¸ªå†…ç½‘ç©¿é€ã€‚",-1),j=n("li",null,"return_urlï¼šæ”¯ä»˜å®Œæˆåè·³è½¬çš„åœ°å€",-1),F=n("li",null,"gatewayUrlï¼šæ”¯ä»˜å®æ²™ç®±ç¯å¢ƒçš„åœ°å€ï¼Œå›ºå®šçš„ã€‚",-1),D=n("li",null,"sign_typeï¼šç­¾åæ–¹å¼å›ºå®šçš„",-1),N=n("li",null,"charsetï¼šå­—ç¬¦ç¼–ç å›ºå®šçš„",-1),R=p(`<p><strong>è°ƒç”¨é…ç½®</strong></p><ul><li>out_trade_noï¼šä½ çš„å•å·ï¼Œç”¨ä½ çš„å•å·ç±»ç”Ÿæˆæ”¯ä»˜å•ä¿¡æ¯ã€‚</li><li>total_amountï¼šæ”¯ä»˜é‡‘é¢</li><li>subjectï¼šå•†å“åç§°</li><li>product_codeï¼šå›ºå®šå€¼ï¼›FAST_INSTANT_TRADE_PAY</li></ul><p><strong>æµ‹è¯•ç»“æœ</strong></p><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-10.png?raw=true" width="750px"></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">&lt;</span>form name<span class="token operator">=</span><span class="token string">&quot;punchout_form&quot;</span> method<span class="token operator">=</span><span class="token string">&quot;post&quot;</span> action<span class="token operator">=</span><span class="token string">&quot;https://openapi-sandbox.dl.alipaydev.com/gateway.do?charset=utf-8&amp;method=alipay.trade.page.pay&amp;sign=J1BBEkS9SIRKTL9sdyFhJ4rUCkJL0HaSOnQ%2BIr5Iy9TdYUigoNfplYfSTFlfjHP8Fq5Me33k7LWNJUH0HzubXxL1vg7P1QOcgzG5K%2Bu5HzWDCkbG4TYhJ%2FOHjYw0nTeRdu%2BkEw%2FMfWr3y4YYpO5oUPEtFMjmvB1UrKmx2%2Buwx0zJk1qrpQWAOfmuS27hf2qda1SVUMs4vdNrKIEKZy1Fysaoo2J6Bqzw2CAFS1QtwN5wm2%2F%2F4uQpxA3TlV1%2BaDvh3Ve5NNTFhiREqW7QPNalFHI0AvGQq6MYKnamaEiNPTFMXUDVsOPFcVqsLZKSvovNlK1CPFp67ZfCTMZP%2BZK3Rw%3D%3D&amp;return_url=https%3A%2F%2Fgaga.plus&amp;notify_url=https%3A%2F%2Fxfg.natapp.cn%2Fapi%2Fv1%2Falipay%2Falipay_notify_url&amp;version=1.0&amp;app_id=9021000132689924&amp;sign_type=RSA2&amp;timestamp=2023-12-17+11%3A55%3A51&amp;alipay_sdk=alipay-sdk-java-4.38.157.ALL&amp;format=json&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;hidden&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;biz_content&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;{&amp;quot;out_trade_no&amp;quot;:&amp;quot;daniel82AAAA000032333361X03&amp;quot;,&amp;quot;total_amount&amp;quot;:&amp;quot;0.01&amp;quot;,&amp;quot;subject&amp;quot;:&amp;quot;æµ‹è¯•å•†å“&amp;quot;,&amp;quot;product_code&amp;quot;:&amp;quot;FAST_INSTANT_TRADE_PAY&amp;quot;}&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;ç«‹å³æ”¯ä»˜&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;display:none&quot;</span> <span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>script<span class="token punctuation">&gt;</span></span>document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿è¡Œåä½ ä¼šå¾—åˆ°ä¸€ä»½ HTML è„šæœ¬ï¼Œè¿™ä»½è„šæœ¬å°±å¯ä»¥åœ¨æµè§ˆå™¨æ‰“å¼€ã€‚</li><li>å¦‚æœä½ æƒ³å°‘é‡çš„å­˜å‚¨ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æŠŠå¿…è¦çš„æ•°æ®å­˜åˆ°æ•°æ®åº“ï¼Œä¸ç”¨å…¨å­˜å‚¨ã€‚</li></ul><h3 id="_2-å‰ç«¯ä»£ç " tabindex="-1"><a class="header-anchor" href="#_2-å‰ç«¯ä»£ç " aria-hidden="true">#</a> 2. å‰ç«¯ä»£ç </h3><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-11.png?raw=true" width="750px"></div><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-12.png?raw=true" width="750px"></div>`,9),T=n("li",null,"æŠŠåç«¯è¿è¡Œç”Ÿæˆçš„ä»£ç ï¼Œç²˜è´´åˆ° form.html æ–‡ä»¶ä¸­ï¼Œä¹‹åç‚¹æµè§ˆå™¨æŒ‰é’®è¿è¡Œæ‰“å¼€ã€‚",-1),U={href:"https://open.alipay.com/develop/sandbox/account",target:"_blank",rel:"noopener noreferrer"},M=p('<blockquote><p>åˆ°è¿™æ”¯ä»˜å®çš„æ²™ç®±ç”³è¯·å’Œç®€å•æ¡ˆä¾‹å·²ç»åšå®Œäº†ï¼Œä¹‹åæˆ‘ä»¬è¿›å…¥åœºæ™¯åº”ç”¨çš„è®­ç»ƒã€‚</p></blockquote><h2 id="å››ã€åœºæ™¯ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#å››ã€åœºæ™¯ä»‹ç»" aria-hidden="true">#</a> å››ã€åœºæ™¯ä»‹ç»</h2><p>æ”¯ä»˜ï¼Œå¯ä»¥è¯´æ˜¯ä¸€ä¸ªå¯¹æ¥çš„æ¸ é“ï¼Œé‚£ä¹ˆç»“åˆåˆ°æˆ‘ä»¬çš„å®é™…åœºæ™¯ä¸­åº”è¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿæ¯”å¦‚æµç¨‹çš„æ‰§è¡Œã€è®¢å•çš„åˆ›å»ºã€æ•°æ®çš„ä¿å­˜ã€å›è°ƒçš„å¤„ç†ç­‰ï¼Œè¿™äº›éƒ½æ˜¯å®é™…ä¸šåŠ¡ä¸­è¦åšçš„ä¸œè¥¿ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±åšä¸‹è¿™ä¸ªåœºæ™¯å­¦ä¹ ã€‚</p><h3 id="_1-æ”¯ä»˜ç•Œé¢" tabindex="-1"><a class="header-anchor" href="#_1-æ”¯ä»˜ç•Œé¢" aria-hidden="true">#</a> 1. æ”¯ä»˜ç•Œé¢</h3><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-14.png?raw=true" width="550px"></div><h3 id="_2-ä¸šåŠ¡æµç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-ä¸šåŠ¡æµç¨‹" aria-hidden="true">#</a> 2. ä¸šåŠ¡æµç¨‹</h3><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-13.png?raw=true" width="750px"></div><h3 id="_3-åº“è¡¨è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#_3-åº“è¡¨è®¾è®¡" aria-hidden="true">#</a> 3. åº“è¡¨è®¾è®¡</h3><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-15.png?raw=true" width="750px"></div><h2 id="äº”ã€å·¥ç¨‹å®ç°" tabindex="-1"><a class="header-anchor" href="#äº”ã€å·¥ç¨‹å®ç°" aria-hidden="true">#</a> äº”ã€å·¥ç¨‹å®ç°</h2><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-24.png?raw=true" width="750px"></div>',11),B={href:"https://gitcode.net/KnowledgePlanet/ddd-scene-solution",target:"_blank",rel:"noopener noreferrer"},L=n("code",null,"æ˜Ÿçƒå†…è¿˜åŒ…æ‹¬äº†å¤§é‡çš„å®æˆ˜é¡¹ç›®ï¼›å¤§è¥é”€å¹³å°ã€OpenAIé¡¹ç›®ã€APIç½‘å…³ã€LotteryæŠ½å¥–ã€IMé€šä¿¡ã€SpringBoot Starter ç»„ä»¶å¼€å‘ã€IDEA Plugin æ’ä»¶å¼€å‘ç­‰",-1),Q=p(`<h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-16.png?raw=true" width="550px"></div><p>åˆ†å±‚ä»‹ç»ï¼š</p><ul><li>docsï¼šè¿™é‡Œæä¾›äº†å·¥ç¨‹æ‰€éœ€çš„èµ„æºï¼Œdocker å®‰è£… msyqlã€natapp å†…ç½‘ç©¿é€ã€éœ€è¦è‡ªå·±ç”³è¯·ä¸€ä¸ªåœ°å€ã€‘ã€front å‰ç«¯é¡µé¢ã€‚</li><li>appï¼šåº”ç”¨çš„å¯åŠ¨å±‚ï¼Œå¤„ç† config é…ç½®å’Œ resources èµ„æºåŠ è½½ã€‚ä»¥åŠ test æ¨¡å—çš„æµ‹è¯•ã€‚</li><li>domainï¼šé¢†åŸŸå±‚ï¼Œå¤„ç†æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ã€‚</li><li>infrastructureï¼šåŸºç¡€è®¾æ–½å±‚ï¼Œå¦‚ç®¡ç†æŒä¹…åŒ–æ•°æ®ã€‚</li><li>triggerï¼šè§¦å‘å™¨å±‚ï¼Œç»Ÿä¸€ç®¡ç† httpã€mqã€listenerã€job ç­‰å…¥å£è°ƒç”¨ã€‚</li></ul><h3 id="_2-ç¯å¢ƒå®‰è£…" tabindex="-1"><a class="header-anchor" href="#_2-ç¯å¢ƒå®‰è£…" aria-hidden="true">#</a> 2. ç¯å¢ƒå®‰è£…</h3><h4 id="_2-1-mysql" tabindex="-1"><a class="header-anchor" href="#_2-1-mysql" aria-hidden="true">#</a> 2.1 MySQL</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code># å‘½ä»¤æ‰§è¡Œ docker<span class="token operator">-</span>compose up <span class="token operator">-</span>d
version<span class="token operator">:</span> <span class="token char">&#39;3.9&#39;</span>
services<span class="token operator">:</span>
  mysql<span class="token operator">:</span>
    image<span class="token operator">:</span> mysql<span class="token operator">:</span><span class="token number">8.0</span><span class="token number">.32</span>
    container_name<span class="token operator">:</span> mysql
    command<span class="token operator">:</span> <span class="token operator">--</span><span class="token keyword">default</span><span class="token operator">-</span>authentication<span class="token operator">-</span>plugin<span class="token operator">=</span>mysql_native_password
    restart<span class="token operator">:</span> always
    environment<span class="token operator">:</span>
      <span class="token constant">TZ</span><span class="token operator">:</span> <span class="token class-name">Asia</span><span class="token operator">/</span><span class="token class-name">Shanghai</span>
      <span class="token constant">MYSQL_ROOT_PASSWORD</span><span class="token operator">:</span> <span class="token number">123456</span>
      <span class="token constant">MYSQL_USER</span><span class="token operator">:</span> xfg
      <span class="token constant">MYSQL_PASSWORD</span><span class="token operator">:</span> <span class="token number">123456</span>
    depends_on<span class="token operator">:</span>
      <span class="token operator">-</span> mysql<span class="token operator">-</span>job<span class="token operator">-</span>dbdata
    ports<span class="token operator">:</span>
      <span class="token operator">-</span> <span class="token string">&quot;13306:3306&quot;</span>
    volumes<span class="token operator">:</span>
      <span class="token operator">-</span> <span class="token punctuation">.</span>/sql<span class="token operator">:</span><span class="token operator">/</span>docker<span class="token operator">-</span>entrypoint<span class="token operator">-</span>initdb<span class="token punctuation">.</span>d
    volumes_from<span class="token operator">:</span>
      <span class="token operator">-</span> mysql<span class="token operator">-</span>job<span class="token operator">-</span>dbdata
    healthcheck<span class="token operator">:</span>
      test<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token string">&quot;CMD&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;mysqladmin&quot;</span> <span class="token punctuation">,</span><span class="token string">&quot;ping&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-h&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;localhost&quot;</span> <span class="token punctuation">]</span>
      interval<span class="token operator">:</span> <span class="token number">5</span>s
      timeout<span class="token operator">:</span> <span class="token number">10</span>s
      retries<span class="token operator">:</span> <span class="token number">10</span>
      start_period<span class="token operator">:</span> <span class="token number">15</span>s
    networks<span class="token operator">:</span>
      <span class="token operator">-</span> my<span class="token operator">-</span>network

  # phpmyadmin https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>hub<span class="token punctuation">.</span>docker<span class="token punctuation">.</span>com<span class="token operator">/</span>_<span class="token operator">/</span>phpmyadmin
  phpmyadmin<span class="token operator">:</span>
    image<span class="token operator">:</span> phpmyadmin<span class="token operator">:</span><span class="token number">5.2</span><span class="token number">.1</span>
    container_name<span class="token operator">:</span> phpmyadmin
    hostname<span class="token operator">:</span> phpmyadmin
    ports<span class="token operator">:</span>
      <span class="token operator">-</span> <span class="token number">8899</span><span class="token operator">:</span><span class="token number">80</span>
    environment<span class="token operator">:</span>
      <span class="token operator">-</span> <span class="token constant">PMA_HOST</span><span class="token operator">=</span>mysql
      <span class="token operator">-</span> <span class="token constant">PMA_PORT</span><span class="token operator">=</span><span class="token number">3306</span>
      <span class="token operator">-</span> <span class="token constant">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123</span>qwe<span class="token operator">!</span>@#<span class="token constant">QWE</span>
    depends_on<span class="token operator">:</span>
      mysql<span class="token operator">:</span>
        condition<span class="token operator">:</span> service_healthy
    networks<span class="token operator">:</span>
      <span class="token operator">-</span> my<span class="token operator">-</span>network

  # è‡ªåŠ¨åŠ è½½æ•°æ®
  mysql<span class="token operator">-</span>job<span class="token operator">-</span>dbdata<span class="token operator">:</span>
    image<span class="token operator">:</span> alpine<span class="token operator">:</span><span class="token number">3.18</span><span class="token number">.2</span>
    container_name<span class="token operator">:</span> mysql<span class="token operator">-</span>job<span class="token operator">-</span>dbdata
    volumes<span class="token operator">:</span>
      <span class="token operator">-</span> <span class="token operator">/</span><span class="token keyword">var</span><span class="token operator">/</span>lib<span class="token operator">/</span>mysql

networks<span class="token operator">:</span>
  my<span class="token operator">-</span>network<span class="token operator">:</span>
    driver<span class="token operator">:</span> bridge
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç›´æ¥åœ¨ docker ä¸‹å®‰è£…ç¯å¢ƒï¼Œå®‰è£…æ—¶ä¼šè‡ªåŠ¨çš„å¸®ä½ æŠŠ dev-ops/mysql/sql ä¸‹çš„è„šæœ¬åˆ›å»ºåˆ°æ•°æ®åº“ä¸­ã€‚</li><li>å¹¶ä¸”è¿™é‡Œæä¾›äº† phpmyadmin å¯ä»¥è®©ä½ ç›´æ¥åœ¨çº¿ä¸Šå°±èƒ½ç®¡ç†æ•°æ®åº“ã€‚</li><li>å¦‚æœä½ æœ¬åœ°æœ‰ msyql 8.x é‚£ä¹ˆå¯ä»¥ç›´æ¥å¯¼å…¥æ•°æ®åº“è„šæœ¬ã€‚<code>dev-ops/mysql/sql/xfg-dev-tech-alipay-sandbox.sql</code></li></ul><h4 id="_2-2-å†…ç½‘ç©¿é€" tabindex="-1"><a class="header-anchor" href="#_2-2-å†…ç½‘ç©¿é€" aria-hidden="true">#</a> 2.2 å†…ç½‘ç©¿é€</h4>`,9),z={href:"https://natapp.cn/",target:"_blank",rel:"noopener noreferrer"},V=n("code",null,"å†…ç½‘ç©¿é€çš„ä¸»è¦ä½œç”¨å°±æ˜¯è®©ä½ çš„æœ¬åœ°åº”ç”¨åœ°å€ï¼Œå¯ä»¥è¢«æ”¯ä»˜å®å›è°ƒè°ƒç”¨åˆ°",-1),Y=n("li",null,"å¼€é€šè‡ªå·±çš„å…è´¹/ä»˜è´¹æ¸ é“ï¼Œç”¨äºå†…ç½‘ç©¿é€ã€‚æœ¬åœ°å†…ç½‘ç©¿é€çš„åœ°å€ï¼Œå°±å¯ä»¥è¢«å…¬ç½‘è®¿é—®ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥è¢«æ”¯ä»˜å›è°ƒã€‚",-1),J={href:"https://natapp.cn/#download",target:"_blank",rel:"noopener noreferrer"},K=p(`<h3 id="_3-å·¥ç¨‹é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-å·¥ç¨‹é…ç½®" aria-hidden="true">#</a> 3. å·¥ç¨‹é…ç½®</h3><p><strong>æºç </strong>ï¼š<code>cn.bugstack.xfg.dev.tech.config.AliPayConfig</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableConfigurationProperties</span><span class="token punctuation">(</span><span class="token class-name">AliPayConfigProperties</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AliPayConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;alipayClient&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ConditionalOnProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;alipay.enabled&quot;</span><span class="token punctuation">,</span> havingValue <span class="token operator">=</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">,</span> matchIfMissing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">AlipayClient</span> <span class="token function">alipayClient</span><span class="token punctuation">(</span><span class="token class-name">AliPayConfigProperties</span> properties<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DefaultAlipayClient</span><span class="token punctuation">(</span>properties<span class="token punctuation">.</span><span class="token function">getGatewayUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                properties<span class="token punctuation">.</span><span class="token function">getApp_id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                properties<span class="token punctuation">.</span><span class="token function">getMerchant_private_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                properties<span class="token punctuation">.</span><span class="token function">getFormat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                properties<span class="token punctuation">.</span><span class="token function">getCharset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                properties<span class="token punctuation">.</span><span class="token function">getAlipay_public_key</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                properties<span class="token punctuation">.</span><span class="token function">getSign_type</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># application-dev.yml</span>
<span class="token comment"># æ”¯ä»˜å®æ”¯ä»˜ - æ²™ç®± https://opendocs.alipay.com/common/02kkv7</span>
<span class="token key atrule">alipay</span><span class="token punctuation">:</span>
  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">app_id</span><span class="token punctuation">:</span> <span class="token number">9021000132689924</span>
  <span class="token key atrule">merchant_private_key</span><span class="token punctuation">:</span>
  <span class="token key atrule">alipay_public_key</span><span class="token punctuation">:</span> 
  <span class="token key atrule">notify_url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//xfg<span class="token punctuation">-</span>studio.natapp1.cc/api/v1/alipay/pay_notify
  <span class="token key atrule">return_url</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//gaga.plus
  <span class="token key atrule">gatewayUrl</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//openapi<span class="token punctuation">-</span>sandbox.dl.alipaydev.com/gateway.do
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä½ å¯ä»¥å‚ç…§ã€ç®€å•æ¡ˆä¾‹ã€‘é…ç½®ä»¥ä¸Šå†…å®¹ï¼ŒåŒ…æ‹¬ï¼›app_idã€merchant_private_keyã€alipay_public_keyã€notify_url è¿™äº›å‚æ•°ã€‚</li></ul><h3 id="_4-ä»£ç å®ç°" tabindex="-1"><a class="header-anchor" href="#_4-ä»£ç å®ç°" aria-hidden="true">#</a> 4. ä»£ç å®ç°</h3><h4 id="_4-1-è®¢å•æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_4-1-è®¢å•æœåŠ¡" aria-hidden="true">#</a> 4.1 è®¢å•æœåŠ¡</h4><p><strong>æºç </strong>ï¼š<code>cn.bugstack.xfg.dev.tech.domain.service.IOrderService</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IOrderService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * é€šè¿‡è´­ç‰©è½¦å®ä½“å¯¹è±¡ï¼Œåˆ›å»ºæ”¯ä»˜å•å®ä½“ï¼ˆç”¨äºæ”¯ä»˜ï¼‰â€”â€” æ‰€æœ‰çš„è®¢å•ä¸‹å•éƒ½ä»è´­ç‰©è½¦å¼€å§‹è§¦å‘
     *
     * <span class="token keyword">@param</span> <span class="token parameter">shopCartEntity</span> è´­ç‰©è½¦å®ä½“
     * <span class="token keyword">@return</span> æ”¯ä»˜å•å®ä½“
     */</span>
    <span class="token class-name">PayOrderEntity</span> <span class="token function">createOrder</span><span class="token punctuation">(</span><span class="token class-name">ShopCartEntity</span> shopCartEntity<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * æ›´æ–°è®¢å•çŠ¶æ€
     * <span class="token keyword">@param</span> <span class="token parameter">orderId</span> è®¢å•ID
     */</span>
    <span class="token keyword">void</span> <span class="token function">changeOrderPaySuccess</span><span class="token punctuation">(</span><span class="token class-name">String</span> orderId<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-æ¨¡æ¿æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_4-2-æ¨¡æ¿æ¨¡å¼" aria-hidden="true">#</a> 4.2 æ¨¡æ¿æ¨¡å¼</h4><p><strong>æºç </strong>ï¼š<code>cn.bugstack.xfg.dev.tech.domain.service.AbstractOrderService</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token class-name">PayOrderEntity</span> <span class="token function">createOrder</span><span class="token punctuation">(</span><span class="token class-name">ShopCartEntity</span> shopCartEntity<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">{</span>
    <span class="token comment">// 1. æŸ¥è¯¢å½“å‰ç”¨æˆ·æ˜¯å¦å­˜åœ¨æ‰å•å’Œæœªæ”¯ä»˜è®¢å•</span>
    <span class="token class-name">OrderEntity</span> unpaidOrderEntity <span class="token operator">=</span> repository<span class="token punctuation">.</span><span class="token function">queryUnPayOrder</span><span class="token punctuation">(</span>shopCartEntity<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> unpaidOrderEntity <span class="token operator">&amp;&amp;</span> <span class="token class-name">OrderStatusVO</span><span class="token punctuation">.</span><span class="token constant">PAY_WAIT</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unpaidOrderEntity<span class="token punctuation">.</span><span class="token function">getOrderStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ›å»ºè®¢å•-å­˜åœ¨ï¼Œå·²å­˜åœ¨æœªæ”¯ä»˜è®¢å•ã€‚userId:{} productId:{} orderId:{}&quot;</span><span class="token punctuation">,</span> shopCartEntity<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> shopCartEntity<span class="token punctuation">.</span><span class="token function">getProductId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unpaidOrderEntity<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">PayOrderEntity</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orderId</span><span class="token punctuation">(</span>unpaidOrderEntity<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">payUrl</span><span class="token punctuation">(</span>unpaidOrderEntity<span class="token punctuation">.</span><span class="token function">getPayUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> unpaidOrderEntity <span class="token operator">&amp;&amp;</span> <span class="token class-name">OrderStatusVO</span><span class="token punctuation">.</span><span class="token constant">CREATE</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>unpaidOrderEntity<span class="token punctuation">.</span><span class="token function">getOrderStatus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ›å»ºè®¢å•-å­˜åœ¨ï¼Œå­˜åœ¨æœªåˆ›å»ºæ”¯ä»˜å•è®¢å•ï¼Œåˆ›å»ºæ”¯ä»˜å•å¼€å§‹ userId:{} productId:{} orderId:{}&quot;</span><span class="token punctuation">,</span> shopCartEntity<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> shopCartEntity<span class="token punctuation">.</span><span class="token function">getProductId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unpaidOrderEntity<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PayOrderEntity</span> payOrderEntity <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPrepayOrder</span><span class="token punctuation">(</span>shopCartEntity<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> shopCartEntity<span class="token punctuation">.</span><span class="token function">getProductId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unpaidOrderEntity<span class="token punctuation">.</span><span class="token function">getProductName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unpaidOrderEntity<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> unpaidOrderEntity<span class="token punctuation">.</span><span class="token function">getTotalAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">PayOrderEntity</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orderId</span><span class="token punctuation">(</span>payOrderEntity<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">payUrl</span><span class="token punctuation">(</span>payOrderEntity<span class="token punctuation">.</span><span class="token function">getPayUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  
    <span class="token comment">// 2. æŸ¥è¯¢å•†å“ &amp; èšåˆè®¢å•</span>
    <span class="token class-name">ProductEntity</span> productEntity <span class="token operator">=</span> repository<span class="token punctuation">.</span><span class="token function">queryProductByProductId</span><span class="token punctuation">(</span>shopCartEntity<span class="token punctuation">.</span><span class="token function">getProductId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">OrderEntity</span> orderEntity <span class="token operator">=</span> <span class="token class-name">OrderEntity</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">productId</span><span class="token punctuation">(</span>productEntity<span class="token punctuation">.</span><span class="token function">getProductId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">productName</span><span class="token punctuation">(</span>productEntity<span class="token punctuation">.</span><span class="token function">getProductName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">orderId</span><span class="token punctuation">(</span><span class="token class-name">RandomStringUtils</span><span class="token punctuation">.</span><span class="token function">randomNumeric</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">orderTime</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">orderStatus</span><span class="token punctuation">(</span><span class="token class-name">OrderStatusVO</span><span class="token punctuation">.</span><span class="token constant">CREATE</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">CreateOrderAggregate</span> orderAggregate <span class="token operator">=</span> <span class="token class-name">CreateOrderAggregate</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span>shopCartEntity<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">productEntity</span><span class="token punctuation">(</span>productEntity<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">orderEntity</span><span class="token punctuation">(</span>orderEntity<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token comment">// 3. ä¿å­˜è®¢å• - ä¿å­˜ä¸€ä»½è®¢å•ï¼Œå†ç”¨è®¢å•ç”ŸæˆIDç”Ÿæˆæ”¯ä»˜å•ä¿¡æ¯</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doSaveOrder</span><span class="token punctuation">(</span>orderAggregate<span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token comment">// 4. åˆ›å»ºæ”¯ä»˜å•</span>
    <span class="token class-name">PayOrderEntity</span> payOrderEntity <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doPrepayOrder</span><span class="token punctuation">(</span>shopCartEntity<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> productEntity<span class="token punctuation">.</span><span class="token function">getProductId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> productEntity<span class="token punctuation">.</span><span class="token function">getProductName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> orderEntity<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> productEntity<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ›å»ºè®¢å•-å®Œæˆï¼Œç”Ÿæˆæ”¯ä»˜å•ã€‚userId: {} orderId: {} payUrl: {}&quot;</span><span class="token punctuation">,</span> shopCartEntity<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> orderEntity<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> payOrderEntity<span class="token punctuation">.</span><span class="token function">getPayUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
    <span class="token keyword">return</span> <span class="token class-name">PayOrderEntity</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">orderId</span><span class="token punctuation">(</span>payOrderEntity<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">payUrl</span><span class="token punctuation">(</span>payOrderEntity<span class="token punctuation">.</span><span class="token function">getPayUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡æ¨¡æ¿æ¨¡å¼ï¼Œå®šä¹‰å‡ºæ•´ä¸ªä¸‹å•è¿‡ç¨‹çš„æ ‡å‡†æµç¨‹å’ŒæŠ½è±¡æ–¹æ³•ã€‚</li></ul><h4 id="_4-3-æ”¯ä»˜æ¥å£" tabindex="-1"><a class="header-anchor" href="#_4-3-æ”¯ä»˜æ¥å£" aria-hidden="true">#</a> 4.3 æ”¯ä»˜æ¥å£</h4><p><strong>æºç </strong>ï¼š<code>cn.bugstack.xfg.dev.tech.trigger.http.AliPayController#createParOrder</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;create_pay_order&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Response</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">createParOrder</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token annotation punctuation">@RequestParam</span> <span class="token class-name">String</span> productId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;å•†å“ä¸‹å•ï¼Œæ ¹æ®å•†å“IDåˆ›å»ºæ”¯ä»˜å•å¼€å§‹ userId:{} productId:{}&quot;</span><span class="token punctuation">,</span> userId<span class="token punctuation">,</span> productId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ShopCartEntity</span> shopCartEntity <span class="token operator">=</span> <span class="token class-name">ShopCartEntity</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">userId</span><span class="token punctuation">(</span>userId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">productId</span><span class="token punctuation">(</span>productId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PayOrderEntity</span> payOrderEntity <span class="token operator">=</span> orderService<span class="token punctuation">.</span><span class="token function">createOrder</span><span class="token punctuation">(</span>shopCartEntity<span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;å•†å“ä¸‹å•ï¼Œæ ¹æ®å•†å“IDåˆ›å»ºæ”¯ä»˜å•å®Œæˆ userId:{} productId:{} orderId:{}&quot;</span><span class="token punctuation">,</span> userId<span class="token punctuation">,</span> productId<span class="token punctuation">,</span> payOrderEntity<span class="token punctuation">.</span><span class="token function">getOrderId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Response</span><span class="token punctuation">.</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">code</span><span class="token punctuation">(</span><span class="token class-name">ResponseCode</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token class-name">ResponseCode</span><span class="token punctuation">.</span><span class="token constant">SUCCESS</span><span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span>payOrderEntity<span class="token punctuation">.</span><span class="token function">getPayUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;å•†å“ä¸‹å•ï¼Œæ ¹æ®å•†å“IDåˆ›å»ºæ”¯ä»˜å•å¤±è´¥ userId:{} productId:{}&quot;</span><span class="token punctuation">,</span> userId<span class="token punctuation">,</span> productId<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">Response</span><span class="token punctuation">.</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">code</span><span class="token punctuation">(</span><span class="token class-name">ResponseCode</span><span class="token punctuation">.</span><span class="token constant">UN_ERROR</span><span class="token punctuation">.</span><span class="token function">getCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token class-name">ResponseCode</span><span class="token punctuation">.</span><span class="token constant">UN_ERROR</span><span class="token punctuation">.</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16),Z={href:"http://localhost:8091/api/v1/alipay/create_pay_order?userId=1001&productId=100001",target:"_blank",rel:"noopener noreferrer"},H=n("li",null,"è¯´æ˜ï¼šè¿™é‡Œæ¨¡æ‹Ÿäº†ä¸€ä¸ªè°ƒç”¨æ¥å£è¿›è¡Œåˆ›å»ºæ”¯ä»˜å•çš„å®ç°ã€‚",-1),W=p(`<h4 id="_4-4-å›è°ƒæ¥å£" tabindex="-1"><a class="header-anchor" href="#_4-4-å›è°ƒæ¥å£" aria-hidden="true">#</a> 4.4 å›è°ƒæ¥å£</h4><p><strong>æºç </strong>ï¼š<code>cn.bugstack.xfg.dev.tech.trigger.http.AliPayController#payNotify</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;pay_notify&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payNotify</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œæ¶ˆæ¯æ¥æ”¶ {}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;trade_status&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;trade_status&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;TRADE_SUCCESS&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> params <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Map</span><span class="token operator">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> requestParams <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameterMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> name <span class="token operator">:</span> requestParams<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                params<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token class-name">String</span> tradeNo <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;out_trade_no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> gmtPayment <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;gmt_payment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> alipayTradeNo <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;trade_no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> sign <span class="token operator">=</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;sign&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token class-name">AlipaySignature</span><span class="token punctuation">.</span><span class="token function">getSignCheckContentV1</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">boolean</span> checkSignature <span class="token operator">=</span> <span class="token class-name">AlipaySignature</span><span class="token punctuation">.</span><span class="token function">rsa256CheckContent</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> sign<span class="token punctuation">,</span> alipayPublicKey<span class="token punctuation">,</span> <span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// éªŒè¯ç­¾å</span>
            <span class="token comment">// æ”¯ä»˜å®éªŒç­¾</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>checkSignature<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// éªŒç­¾é€šè¿‡</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œäº¤æ˜“åç§°: {}&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;subject&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œäº¤æ˜“çŠ¶æ€: {}&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;trade_status&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œæ”¯ä»˜å®äº¤æ˜“å‡­è¯å·: {}&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;trade_no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œå•†æˆ·è®¢å•å·: {}&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;out_trade_no&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œäº¤æ˜“é‡‘é¢: {}&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;total_amount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œä¹°å®¶åœ¨æ”¯ä»˜å®å”¯ä¸€id: {}&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;buyer_id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œä¹°å®¶ä»˜æ¬¾æ—¶é—´: {}&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;gmt_payment&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œä¹°å®¶ä»˜æ¬¾é‡‘é¢: {}&quot;</span><span class="token punctuation">,</span> params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;buyer_pay_amount&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œæ”¯ä»˜å›è°ƒï¼Œæ›´æ–°è®¢å• {}&quot;</span><span class="token punctuation">,</span> tradeNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// æ›´æ–°è®¢å•æœªå·²æ”¯ä»˜</span>
                orderService<span class="token punctuation">.</span><span class="token function">changeOrderPaySuccess</span><span class="token punctuation">(</span>tradeNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// æ¨é€æ¶ˆæ¯ã€è‡ªå·±çš„ä¸šåŠ¡åœºæ™¯ä¸­å¯ä»¥ä½¿ç”¨MQæ¶ˆæ¯ã€‘</span>
                eventBus<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>tradeNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¯ä»˜å›è°ƒï¼Œå¤„ç†å¤±è´¥&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,3),G={href:"http://xfg-studio.natapp1.cc/api/v1/alipay/pay_notify",target:"_blank",rel:"noopener noreferrer"},X=n("li",null,"è¯´æ˜ ï¼šå›è°ƒæ˜¯æ”¯ä»˜å®è°ƒç”¨æˆ‘ä»¬çš„æ¥å£ã€‚é»˜è®¤æ˜¯ https://localhost:8091 å› ä¸ºä½¿ç”¨äº† natapp å°±å¯ä»¥æŠŠæœ¬åœ°çš„åœ°å€+ç«¯å£ï¼Œæ˜ å°„åˆ°ä¸€ä¸ª natapp å†…ç½‘ç©¿é€åœ°å€ã€‚æ‰€ä»¥åœ°å€ä¸ºï¼šhttp://xfg-studio.natapp1.cc/api/v1/alipay/pay_notify",-1),$=p(`<h2 id="å…­ã€åŠŸèƒ½éªŒè¯" tabindex="-1"><a class="header-anchor" href="#å…­ã€åŠŸèƒ½éªŒè¯" aria-hidden="true">#</a> å…­ã€åŠŸèƒ½éªŒè¯</h2><h3 id="_1-å‰ç½®" tabindex="-1"><a class="header-anchor" href="#_1-å‰ç½®" aria-hidden="true">#</a> 1. å‰ç½®</h3><ol><li>å®‰è£… MySQL 8.0 æ•°æ®åº“ + åˆå§‹åŒ–åº“è¡¨ã€‚å¦‚æœä½ æ˜¯ä½ç‰ˆæœ¬çš„æ•°æ®åº“ï¼Œéœ€è¦è‡ªå·±åˆ›å»ºä¸‹åº“è¡¨ã€‚</li><li>æ‰“å¼€ natapp.cn é…ç½®ä¸€ä¸ªè‡ªå·±çš„å†…ç½‘ç©¿é€æ¸ é“ï¼Œæ¸ é“å†…é…ç½®å·¥ç¨‹æ˜ å°„åœ°å€ 8091 å¦‚æœä½ æ˜¯å…¶ä»–ç«¯å£åˆ™é…ç½®ä¸ºå…¶ä»–çš„åœ°å€å³å¯ã€‚ä¹‹åæœ¬åœ°å¯åŠ¨ natapp</li><li>å¯åŠ¨ xfg-dev-tech-alipay-sandbox åº”ç”¨ã€‚</li></ol><h3 id="_2-æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_2-æµ‹è¯•" aria-hidden="true">#</a> 2. æµ‹è¯•</h3><h4 id="_2-1-å¯åŠ¨-natapp" tabindex="-1"><a class="header-anchor" href="#_2-1-å¯åŠ¨-natapp" aria-hidden="true">#</a> 2.1 å¯åŠ¨ natapp</h4><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-17.png?raw=true" width="650px"></div><h4 id="_2-2-å¯åŠ¨å·¥ç¨‹" tabindex="-1"><a class="header-anchor" href="#_2-2-å¯åŠ¨å·¥ç¨‹" aria-hidden="true">#</a> 2.2 å¯åŠ¨å·¥ç¨‹</h4><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-18.png?raw=true" width="650px"></div><h4 id="_2-3-ä¸‹å•é¡µé¢" tabindex="-1"><a class="header-anchor" href="#_2-3-ä¸‹å•é¡µé¢" aria-hidden="true">#</a> 2.3 ä¸‹å•é¡µé¢</h4><p>è¿›å…¥åˆ°å·¥ç¨‹ docs/dev-ops/front ä¸‹ï¼Œæ‰“å¼€ index.html æ–‡ä»¶ã€‚ç‚¹å‡»ä¸‹å•ï¼Œè¿™ä¸ªæ—¶å€™ä½ ä¼šè¿›å…¥åˆ°æ”¯ä»˜é¡µé¢ã€‚</p><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-19.png?raw=true" width="650px"></div><h4 id="_2-4-å•†å“æ”¯ä»˜" tabindex="-1"><a class="header-anchor" href="#_2-4-å•†å“æ”¯ä»˜" aria-hidden="true">#</a> 2.4 å•†å“æ”¯ä»˜</h4><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-20.png?raw=true" width="650px"></div><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-21.png?raw=true" width="650px"></div><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-22.png?raw=true" width="650px"></div><h4 id="_2-5-åº“è¡¨æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_2-5-åº“è¡¨æ•°æ®" aria-hidden="true">#</a> 2.5 åº“è¡¨æ•°æ®</h4><div align="center"><img src="https://bugstack.cn/images/article/project/ddd-scene-solution/alipay-sandbox-23.png?raw=true" width="650px"></div><h3 id="_3-æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#_3-æ—¥å¿—" aria-hidden="true">#</a> 3. æ—¥å¿—</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">11</span><span class="token operator">:</span><span class="token number">55.692</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> å•†å“ä¸‹å•ï¼Œæ ¹æ®å•†å“<span class="token constant">ID</span>åˆ›å»ºæ”¯ä»˜å•å¼€å§‹ userId<span class="token operator">:</span>xiaofuge productId<span class="token operator">:</span><span class="token number">100010090091</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">11</span><span class="token operator">:</span><span class="token number">55.908</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AbstractOrderService</span>   <span class="token operator">-</span> åˆ›å»ºè®¢å•<span class="token operator">-</span>å®Œæˆï¼Œç”Ÿæˆæ”¯ä»˜å•ã€‚userId<span class="token operator">:</span> xiaofuge orderId<span class="token operator">:</span> <span class="token number">1620564694789743</span> payUrl<span class="token operator">:</span> <span class="token operator">&lt;</span>form name<span class="token operator">=</span><span class="token string">&quot;punchout_form&quot;</span> method<span class="token operator">=</span><span class="token string">&quot;post&quot;</span> action<span class="token operator">=</span><span class="token string">&quot;https://openapi-sandbox.dl.alipaydev.com/gateway.do?charset=utf-8&amp;method=alipay.trade.page.pay&amp;sign=dh959MC1wu4JD%2B5%2Fxs5HMLaapqFB2zpH5ceDI5B9tIDsNxq22lRawhQcBL%2BNt8zKpb%2BB9fua5VJnm6PGnq0GRqpE2CIwb99stQuTbwyZDRtRq327Dm%2FvQTXw5vil%2FrIkRC9j8SRH9sCk5ZdiedQqoCXZfacNK2dO87T%2BrOACJDT1RkGxJNl4aZ%2FJCrZlGuEcXccc%2BrZVVRY9spBLXOLJwwNcDZkqJtFkxbZUJbZ86hfkW4ihIDf2Q7nMwTyobyINnNgkbfk2z2dxeK8YAccp16Z5P9uMGvhlIqF6u5itcsFFsxoR43n8%2Fj77aKsFbfLUftJ%2BGpEUEY4smAfSV0eyxw%3D%3D&amp;return_url=https%3A%2F%2Fgaga.plus&amp;notify_url=http%3A%2F%2Fxfg-studio.natapp1.cc%2Fapi%2Fv1%2Falipay%2Fpay_notify&amp;version=1.0&amp;app_id=9021000132689924&amp;sign_type=RSA2&amp;timestamp=2023-12-17+15%3A11%3A55&amp;alipay_sdk=alipay-sdk-java-4.38.157.ALL&amp;format=json&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;hidden&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;biz_content&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;{&amp;quot;out_trade_no&amp;quot;:&amp;quot;1620564694789743&amp;quot;,&amp;quot;total_amount&amp;quot;:&amp;quot;1.68&amp;quot;,&amp;quot;subject&amp;quot;:&amp;quot;æµ‹è¯•å•†å“&amp;quot;,&amp;quot;product_code&amp;quot;:&amp;quot;FAST_INSTANT_TRADE_PAY&amp;quot;}&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;ç«‹å³æ”¯ä»˜&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;display:none&quot;</span> <span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token generics"><span class="token punctuation">&lt;</span>script<span class="token punctuation">&gt;</span></span>document<span class="token punctuation">.</span>forms<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">11</span><span class="token operator">:</span><span class="token number">55.909</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> å•†å“ä¸‹å•ï¼Œæ ¹æ®å•†å“<span class="token constant">ID</span>åˆ›å»ºæ”¯ä»˜å•å®Œæˆ userId<span class="token operator">:</span>xiaofuge productId<span class="token operator">:</span><span class="token number">100010090091</span> orderId<span class="token operator">:</span><span class="token number">1620564694789743</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.553</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œæ¶ˆæ¯æ¥æ”¶ <span class="token constant">TRADE_SUCCESS</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.558</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œäº¤æ˜“åç§°<span class="token operator">:</span> æµ‹è¯•å•†å“
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.558</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œäº¤æ˜“çŠ¶æ€<span class="token operator">:</span> <span class="token constant">TRADE_SUCCESS</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.558</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œæ”¯ä»˜å®äº¤æ˜“å‡­è¯å·<span class="token operator">:</span> <span class="token number">2023121722001413370501437659</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.558</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œå•†æˆ·è®¢å•å·<span class="token operator">:</span> <span class="token number">1620564694789743</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.558</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œäº¤æ˜“é‡‘é¢<span class="token operator">:</span> <span class="token number">1.68</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.562</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œä¹°å®¶åœ¨æ”¯ä»˜å®å”¯ä¸€id<span class="token operator">:</span> <span class="token number">2088722024513370</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.562</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œä¹°å®¶ä»˜æ¬¾æ—¶é—´<span class="token operator">:</span> <span class="token number">2023</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">35</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.562</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œä¹°å®¶ä»˜æ¬¾é‡‘é¢<span class="token operator">:</span> <span class="token number">1.68</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.562</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">AliPayController</span>       <span class="token operator">-</span> æ”¯ä»˜å›è°ƒï¼Œæ”¯ä»˜å›è°ƒï¼Œæ›´æ–°è®¢å• <span class="token number">1620564694789743</span>
<span class="token number">23</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17.15</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">37.584</span> <span class="token punctuation">[</span>http<span class="token operator">-</span>nio<span class="token operator">-</span><span class="token number">8091</span><span class="token operator">-</span>exec<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name">OrderPaySuccessListener</span> <span class="token operator">-</span> æ”¶åˆ°æ”¯ä»˜æˆåŠŸæ¶ˆæ¯ï¼Œå¯ä»¥åšæ¥ä¸‹æ¥çš„äº‹æƒ…äº†ã€å‘è´§ã€å……å€¼ã€å¼€ä¼šå‘˜ã€‘orderIdï¼š<span class="token number">1620564694789743</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä»¥ä¸Šä¸ºæ•´ä¸ªé¡¹ç›®è¿è¡Œè¿‡ç¨‹æ‰€äº§ç”Ÿçš„æ—¥å¿—æ•°æ®ã€‚é€šè¿‡æ—¥å¿—å¯æ¸…æ¥šçŸ¥é“æ¯ä¸€æ­¥çš„æ“ä½œè¿‡ç¨‹ã€‚</li></ul><h2 id="ä¸ƒã€åŠ å…¥å­¦ä¹ " tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€åŠ å…¥å­¦ä¹ " aria-hidden="true">#</a> ä¸ƒã€åŠ å…¥å­¦ä¹ </h2><p><strong>æ³¨æ„</strong>ğŸ“¢ï¼Œæœ¬é¡¹ç›®ä¹Ÿåªæ˜¯ã€æ˜Ÿçƒï¼šç å†œä¼šé”ã€‘ä¼—å¤šé¡¹ç›®ä¸­çš„1ä¸ªï¼Œå…¶ä»–çš„é¡¹ç›®è¿˜åŒ…æ‹¬ï¼šå¤§è¥é”€å¹³å°ç³»ç»Ÿã€OpenAI å¤§æ¨¡å‹åº”ç”¨ã€APIç½‘å…³ã€LotteryæŠ½å¥–ã€IMé€šä¿¡ã€SpringBoot Starter ç»„ä»¶å¼€å‘ã€IDEA Plugin æ’ä»¶å¼€å‘ç­‰ï¼Œå¹¶è¿˜æœ‰å¼€æºé¡¹ç›®å­¦ä¹ ã€‚</p><p>å¦‚æœå¤§å®¶å¸Œæœ›é€šè¿‡åšæœ‰ä»·å€¼çš„ç¼–ç¨‹é¡¹ç›®ï¼Œæé«˜è‡ªå·±çš„ç¼–ç¨‹æ€ç»´å’Œç¼–ç èƒ½åŠ›ï¼Œå¯ä»¥åŠ å…¥å°å‚…å“¥çš„ã€æ˜Ÿçƒï¼šç å†œä¼šé”ã€‘ã€‚åŠ å…¥åè§£é”ğŸ”“æ‰€æœ‰å¾€æœŸé¡¹ç›®ï¼Œè¿˜å¯ä»¥å­¦ä¹ åç»­æ–°å¼€å‘çš„é¡¹ç›®ã€‚</p><blockquote><p>è¿™æ ·ä¸€å¥—é¡¹ç›®ï¼Œæ”¾åœ¨ä¸€äº›å¹³å°å”®å–ï¼Œè‡³å°‘ä¸Šåƒå…ƒã€‚ä½†å°å‚…å“¥çš„æ˜Ÿçƒï¼Œåªéœ€è¦100å¤šï¼Œå°±å¯ä»¥è·å¾—å…¨éƒ¨å­¦ä¹ é¡¹ç›®ï¼</p></blockquote><div align="center"><img src="https://bugstack.cn/images/article/zsxq/zsxq-youhuiquan.png?raw=true" width="350px"></div>`,25),nn={href:"https://gaga.plus",target:"_blank",rel:"noopener noreferrer"};function sn(an,tn){const a=o("ExternalLinkIcon");return c(),l("div",null,[u,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),r,s("åšå®¢ï¼š"),n("a",k,[s("https://bugstack.cn"),t(a)])]),d,m,v,n("blockquote",null,[n("p",null,[s("æ–‡æœ«æä¾›äº†ã€Œæ˜Ÿçƒï¼šç å†œä¼šé”ã€ä¼˜æƒ åŠ å…¥å­¦ä¹ æ–¹å¼ï¼Œä¸ä»…å¯ä»¥å­¦ä¹ ç¢ç‰‡åŒ–çš„å³ä½¿çŸ¥è¯†ï¼Œè¿˜å¯ä»¥ç»¼åˆé”»ç‚¼å®æˆ˜é¡¹ç›®ã€‚é¡¹ç›®æ¼”ç¤ºåœ°å€ï¼š"),n("a",b,[s("https://gaga.plus"),t(a)])])]),g,n("p",null,[h,s(" åœ°å€ï¼š"),n("a",y,[s("https://open.alipay.com/develop/manage"),t(a)]),s(" - "),f]),_,q,s(" - å¼€å¯æ²™ç®±åº”ç”¨ä»¥åï¼Œè¿˜éœ€è¦ä¸‹è½½æ”¯ä»˜å®ç§˜é’¥å·¥å…·ã€‚ç§˜é’¥å·¥å…·åˆ›å»ºçš„ç§˜é’¥ï¼Œéœ€è¦å¡«å†™åˆ°æŸ¥çœ‹ä¸­ã€‚ - ğŸ“¢ ã€æ²™ç®±è´¦å·ã€‘ï¼Œé‡Œé¢æä¾›äº†åç»­åœ¨ç½‘é¡µä¸Šæ”¯ä»˜æ—¶ï¼Œè¾“å…¥çš„è´¦å·ã€å¯†ç å’Œæ”¯ä»˜å¯†ç ã€‚ - ğŸ“¢ ã€æ²™ç®±å·¥å…·ã€‘ï¼Œé‡Œé¢æä¾›äº†å®‰å“ç‰ˆæµ‹è¯•è½¯ä»¶ï¼Œå¯ä»¥åœ¨æ‰‹æœºæ‰«ç æ”¯ä»˜ã€‚ "),w,n("p",null,[x,s(" åœ°å€ï¼š"),n("a",I,[s("https://opendocs.alipay.com/common/02kipk"),t(a)]),s(" - "),S,s(" åœ¨æ–‡æ¡£çš„ä»‹ç»ä¸­ï¼Œä¹Ÿæœ‰å¾ˆè¯¦ç»†çš„è¯´æ˜ã€‚")]),O,n("ul",null,[n("li",null,[s("app_idï¼šåº”ç”¨ID - æ‚¨çš„APPIDï¼Œæ”¶æ¬¾è´¦å·æ—¢æ˜¯ä½ çš„APPIDå¯¹åº”æ”¯ä»˜å®è´¦å·ã€‚è·å–åœ°å€ï¼›"),n("a",A,[s("https://open.alipay.com/develop/sandbox/app"),t(a)])]),E,P,C,j,F,D,N]),R,n("ul",null,[T,n("li",null,[s("æ‰“å¼€åï¼Œä¼šè·³è½¬åˆ°æ”¯ä»˜å®æ”¯ä»˜é¡µé¢ï¼Œä¹‹åä½ å¯ä»¥ä»ã€æ”¯ä»˜å® | å¼€æ”¾å¹³å°ã€‘æ²™ç®±è´¦å·ä¸­è·å–ä½ çš„è´¦å·ä¿¡æ¯ã€‚åœ°å€ï¼š"),n("a",U,[s("https://open.alipay.com/develop/sandbox/account"),t(a)])])]),M,n("p",null,[s("æ­¤é¡¹ç›®ä¸ºã€Œæ˜Ÿçƒï¼šç å†œä¼šé”ã€å°åœºæ™¯è®­ç»ƒè¥çš„ä¸€éƒ¨åˆ† â€”â€” åœ°å€ï¼š"),n("a",B,[s("https://gitcode.net/KnowledgePlanet/ddd-scene-solution"),t(a)]),s(" - "),L]),Q,n("p",null,[s("ç™»å½•ï¼š"),n("a",z,[s("https://natapp.cn/"),t(a)]),s(" - "),V]),n("ol",null,[Y,n("li",null,[s("å¼€é€šåï¼Œç™»å½•åå¤åˆ¶è‡ªå·±çš„æ¸ é“ token ç²˜è´´åˆ° config.ini æ–‡ä»¶ authtoken ä¸‹ã€‚å¦‚æœæ˜¯Windowsç”µè„‘ï¼Œå¯ä»¥è‡ªå·±åœ¨å®˜ç½‘ä¸‹è½½ã€‚åœ°å€ï¼š"),n("a",J,[s("https://natapp.cn/#download"),t(a)])])]),K,n("ul",null,[n("li",null,[s("åœ°å€ï¼š"),n("a",Z,[s("http://localhost:8091/api/v1/alipay/create_pay_order?userId=1001&productId=100001"),t(a)])]),H]),W,n("ul",null,[n("li",null,[s("åœ°å€ï¼š"),n("a",G,[s("http://xfg-studio.natapp1.cc/api/v1/alipay/pay_notify"),t(a)])]),X]),$,n("p",null,[s("åŠ å…¥åå³å¯è§£é”å…¨éƒ¨å­¦ä¹ èµ„æºï¼Œé¡¹ç›®æ¼”ç¤ºåœ°å€ï¼š"),n("a",nn,[s("https://gaga.plus"),t(a)])])])}const en=e(i,[["render",sn],["__file","alipay-sandbox.html.vue"]]);export{en as default};
