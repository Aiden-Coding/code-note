import{_ as p,r as o,o as c,c as i,a as n,b as s,d as e,e as t}from"./app-3RcBQnkC.js";const l={},u=n("h1",{id:"ã€Šspring-æ‰‹æ’¸ä¸“æ ã€‹ç¬¬-7-ç« -æ‰€å‘æŠ«é¡-å®ç°åº”ç”¨ä¸Šä¸‹æ–‡-è‡ªåŠ¨è¯†åˆ«ã€èµ„æºåŠ è½½ã€æ‰©å±•æœºåˆ¶",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ã€Šspring-æ‰‹æ’¸ä¸“æ ã€‹ç¬¬-7-ç« -æ‰€å‘æŠ«é¡-å®ç°åº”ç”¨ä¸Šä¸‹æ–‡-è‡ªåŠ¨è¯†åˆ«ã€èµ„æºåŠ è½½ã€æ‰©å±•æœºåˆ¶","aria-hidden":"true"},"#"),s(" ã€ŠSpring æ‰‹æ’¸ä¸“æ ã€‹ç¬¬ 7 ç« ï¼šæ‰€å‘æŠ«é¡ï¼Œå®ç°åº”ç”¨ä¸Šä¸‹æ–‡ï¼Œè‡ªåŠ¨è¯†åˆ«ã€èµ„æºåŠ è½½ã€æ‰©å±•æœºåˆ¶")],-1),r=n("br",null,null,-1),k={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=n("br",null,null,-1),v={href:"https://mp.weixin.qq.com/s/sv0H1NAuO3s90HC6QpjP5g",target:"_blank",rel:"noopener noreferrer"},m=t('<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>ä½ è¿™ä»£ç ï¼Œå¯ä¸èƒ½å†™æ­»äº†å‘€ï¼</code></p><p>ä¾ç…§é¡¹ç›®è½åœ°ç»éªŒæ¥çœ‹ï¼Œæˆ‘ä»¬åœ¨æ‰¿æ¥ç´§æ€¥çš„äº§å“éœ€æ±‚æ—¶å€™ï¼Œé€šå¸¸ä¼šé€‰æ‹©åœ¨åŸæœ‰åŒç±»é¡¹ç›®ä¸­è¿›è¡Œæ‰©å±•ï¼Œå¦‚æœæ²¡æœ‰ç›¸å…³ç±»å‹é¡¹ç›®çš„å‚¨å¤‡ï¼Œä¹Ÿå¯èƒ½ä¼šé€‰æ‹©ä¸´æ—¶æ­å»ºå‡ºä¸€ä¸ªå·¥ç¨‹æ¥å®ç°äº§å“çš„éœ€æ±‚ã€‚ä½†è¿™ä¸ªæ—¶å€™å°±ä¼šé‡åˆ°éå¸¸ç°å®çš„é—®é¢˜ï¼Œé€‰æ‹©å®Œæ•´çš„è®¾è®¡å’Œå¼€å‘å°±å¯èƒ½æ»¡è¶³ä¸äº†ä¸Šçº¿æ—¶é—´ï¼Œä¸´æ—¶æ‹¼å‡‘å¼çš„å®Œæˆéœ€æ±‚åˆå¯èƒ½ä¸å…·å¤‡ä¸Šçº¿åå“åº”äº§å“çš„ä¸´æ—¶è°ƒæ•´ã€‚</p><p>ä¸Šçº¿åçš„è°ƒæ•´æœ‰å“ªäº›å‘¢ï¼Ÿé¡¹ç›®åˆšä¸€ä¸Šçº¿ï¼Œè¿è¥äº†è¿˜ä¸åˆ°åŠå¤©ï¼Œè€æ¿å‘ç°è‡ªå·±çš„é…ç½®çš„æ´»åŠ¨å¥½åƒé‡‘é¢é…ç½®çš„å¤ªå°äº†ï¼Œç”¨æˆ·éƒ½ä¸æ¥ï¼Œå‰²ä¸åˆ°éŸ­èœå‘€ã€‚<code>èµ¶ç´§åŠå¤œè”ç³»äº§å“ï¼Œæ¥æ¥æ¥ï¼Œä½ ç»™æˆ‘è¿™æ”¹æ”¹ï¼Œé‚£ä¿®ä¿®ï¼ŒæŠŠäººå‡ä¼˜æƒ 1ä¸‡å…ƒæ”¾å¤§å¤§çš„ï¼ŒæŠŠå¯èƒ½ä¸¤å­—ç¼©å°æ”¾åœ¨åé¢ã€‚å†æŠŠä¼˜æƒ çš„å¥–é‡‘æ± é…ç½®ä»10å…ƒè°ƒæ•´11å…ƒï¼Œå¿«å¿«å¿«ï¼Œèµ¶ç´§ä¿®æ”¹ï¼Œä½ ä¿®æ”¹äº†å’±ä»¬èƒ½èµš1ä¸ªäº¿ï¼ï¼ï¼</code></p><p>å¥½å®¶ä¼™ï¼Œé¡¹ç›®æ˜¯ä¸´æ—¶å¼€å‘å †å‡ºæ¥çš„ï¼Œæ²¡æœ‰åå°ç³»ç»Ÿã€æ²¡æœ‰é…ç½®ä¸­å¿ƒã€æ²¡æœ‰æ¨¡å—æ‹†åˆ†ï¼Œè€æ¿ä¸€å¥å¥æ”¹æ”¹æ”¹ï¼Œäº§å“æ¥ä¼ è¾¾å‚¬ä¿ƒï¼Œæœ€åèƒŒé”…çš„å¯å°±æ˜¯ç ”å‘äº†ã€‚<em>ä½ è¿™ä¸èƒ½å†™æ­»ï¼Œè¿™ä¼˜æƒ é…ç½®å¾—æŠ½å‡ºæ¥ï¼Œè¿™æ–‡æ¡ˆä¹Ÿåå°ä¸‹å‘å§ï¼Œè¿™æ¥å£å…¥å‚ä¹Ÿå†™æ­»äº†ï¼Œå†å†™ä¸€ä¸ªæ–°æ¥å£å§ï¼</em> ä¸€é¡¿æ“ä½œçŒ›å¦‚è™ï¼Œç ”å‘æ¬ç –ä¿®æ¥å£ï¼Œè¿è¥æŠ˜è…¾å¥½å‡ å®¿ï¼Œæœ€åPV150ï¼</p><p>æ— è®ºä¸šåŠ¡ã€äº§å“ã€è¿è¥å¦‚ä½•ï¼Œä½†å°±ç ”å‘è‡ªèº«æ¥è®²ï¼Œå°½å¯èƒ½çš„è¦ä¸é¿å…ä¸´æ—¶å †å‡ºä¸€ä¸ªæœåŠ¡æ¥ï¼Œå°¤å…¶æ˜¯åœ¨å›¢é˜Ÿå»ºè®¾åˆæœŸæˆ–è€…è¿è¥æ€è·¯ç»å¸¸è°ƒæ•´çš„æƒ…å†µä¸‹ï¼Œæ›´è¦æ³¨é‡è®¾è®¡ç»†èŠ‚å’Œå®ç°æ–¹æ¡ˆã€‚å“ªæ€•å»æŠ¥é£é™©å»¶æœŸï¼Œä¹Ÿä¸è¦è®©è‡ªå·±èƒŒä¸Šä¸€ä¸ªæ˜çŸ¥æ˜¯çƒ‚å‘è¿˜è¦æ¥çš„æ´»ã€‚</p><p>è€Œæœ¬ç« èŠ‚è¯´åˆ°<code>ä¸æŠŠä»£ç å†™æ­»</code>ï¼Œå°±æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦ç»§ç»­åœ¨æ‰‹å†™ Spring æ¡†æ¶ä¸­ç»§ç»­æ‰©å±•æ–°çš„åŠŸèƒ½ï¼Œå¦‚ä¸€ä¸ªBeançš„å®šä¹‰å’Œå®ä¾‹åŒ–çš„è¿‡ç¨‹å‰åï¼Œæ˜¯å¦å¯ä»¥æ»¡è¶³æˆ‘ä»¬è¿›è¡Œè‡ªå®šä¹‰æ‰©å±•ï¼Œå¯¹Beanå¯¹è±¡æ‰§è¡Œä¸€äº›ä¿®æ”¹ã€å¢å¼ºã€è®°å½•ç­‰æ“ä½œå‘¢ï¼Ÿ <em>è¿™ä¸ªè¿‡ç¨‹åŸºæœ¬å°±æ˜¯ä½ åœ¨ä½¿ç”¨ Spring å®¹å™¨æ¡†æ¶æ—¶å€™åšçš„ä¸€äº›ä¸­é—´ä»¶æ‰©å±•å¼€å‘ã€‚</em></p><h2 id="äºŒã€ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#äºŒã€ç›®æ ‡" aria-hidden="true">#</a> äºŒã€ç›®æ ‡</h2>',9),b={href:"https://juejin.cn/book/6940996508632219689",target:"_blank",rel:"noopener noreferrer"},g=t(`<p>åœ¨å¯¹å®¹å™¨ä¸­ Bean çš„å®ä¾‹åŒ–è¿‡ç¨‹æ·»åŠ æ‰©å±•æœºåˆ¶çš„åŒæ—¶ï¼Œè¿˜éœ€è¦æŠŠç›®å‰å…³äº Spring.xml åˆå§‹åŒ–å’ŒåŠ è½½ç­–ç•¥è¿›è¡Œä¼˜åŒ–ï¼Œå› ä¸ºæˆ‘ä»¬ä¸å¤ªå¯èƒ½è®©é¢å‘ Spring æœ¬èº«å¼€å‘çš„ <code>DefaultListableBeanFactory</code> æœåŠ¡ï¼Œç›´æ¥ç»™äºˆç”¨æˆ·ä½¿ç”¨ã€‚ä¿®æ”¹ç‚¹å¦‚ä¸‹ï¼š</p><p><img src="https://bugstack.cn/assets/images/spring/spring-7-01.png" alt=""></p><ul><li>DefaultListableBeanFactoryã€XmlBeanDefinitionReaderï¼Œæ˜¯æˆ‘ä»¬åœ¨ç›®å‰ Spring æ¡†æ¶ä¸­å¯¹äºæœåŠ¡åŠŸèƒ½æµ‹è¯•çš„ä½¿ç”¨æ–¹å¼ï¼Œå®ƒèƒ½å¾ˆå¥½çš„ä½“ç°å‡º Spring æ˜¯å¦‚ä½•å¯¹ xml åŠ è½½ä»¥åŠæ³¨å†ŒBeanå¯¹è±¡çš„æ“ä½œè¿‡ç¨‹ï¼Œä½†è¿™ç§æ–¹å¼æ˜¯é¢å‘ Spring æœ¬èº«çš„ï¼Œè¿˜ä¸å…·å¤‡ä¸€å®šçš„æ‰©å±•æ€§ã€‚</li><li>å°±åƒæˆ‘ä»¬ç°åœ¨éœ€è¦æä¾›å‡ºä¸€ä¸ªå¯ä»¥åœ¨ Bean åˆå§‹åŒ–è¿‡ç¨‹ä¸­ï¼Œå®Œæˆå¯¹ Bean å¯¹è±¡çš„æ‰©å±•æ—¶ï¼Œå°±å¾ˆéš¾åšåˆ°è‡ªåŠ¨åŒ–å¤„ç†ã€‚æ‰€ä»¥æˆ‘ä»¬è¦æŠŠ Bean å¯¹è±¡æ‰©å±•æœºåˆ¶åŠŸèƒ½å’Œå¯¹ Spring æ¡†æ¶ä¸Šä¸‹æ–‡çš„åŒ…è£…èåˆèµ·æ¥ï¼Œå¯¹å¤–æä¾›å®Œæ•´çš„æœåŠ¡ã€‚</li></ul><h2 id="ä¸‰ã€è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€è®¾è®¡" aria-hidden="true">#</a> ä¸‰ã€è®¾è®¡</h2><p>ä¸ºäº†èƒ½æ»¡è¶³äºåœ¨ Bean å¯¹è±¡ä»æ³¨å†Œåˆ°å®ä¾‹åŒ–çš„è¿‡ç¨‹ä¸­æ‰§è¡Œç”¨æˆ·çš„è‡ªå®šä¹‰æ“ä½œï¼Œå°±éœ€è¦åœ¨ Bean çš„å®šä¹‰å’Œåˆå§‹åŒ–è¿‡ç¨‹ä¸­æ’å…¥æ¥å£ç±»ï¼Œè¿™ä¸ªæ¥å£å†æœ‰å¤–éƒ¨å»å®ç°è‡ªå·±éœ€è¦çš„æœåŠ¡ã€‚é‚£ä¹ˆåœ¨ç»“åˆå¯¹ Spring æ¡†æ¶ä¸Šä¸‹æ–‡çš„å¤„ç†èƒ½åŠ›ï¼Œå°±å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„ç›®æ ‡éœ€æ±‚äº†ã€‚æ•´ä½“è®¾è®¡ç»“æ„å¦‚ä¸‹å›¾ï¼š</p><p><img src="https://bugstack.cn/assets/images/spring/spring-7-02.png" alt=""></p><ul><li>æ»¡è¶³äºå¯¹ Bean å¯¹è±¡æ‰©å±•çš„ä¸¤ä¸ªæ¥å£ï¼Œå…¶å®ä¹Ÿæ˜¯ Spring æ¡†æ¶ä¸­éå¸¸å…·æœ‰é‡é‡çº§çš„ä¸¤ä¸ªæ¥å£ï¼š<code>BeanFactoryPostProcessor</code> å’Œ <code>BeanPostProcessor</code>ï¼Œä¹Ÿå‡ ä¹æ˜¯å¤§å®¶åœ¨ä½¿ç”¨ Spring æ¡†æ¶é¢å¤–æ–°å¢å¼€å‘è‡ªå·±ç»„å»ºéœ€æ±‚çš„ä¸¤ä¸ªå¿…å¤‡æ¥å£ã€‚</li><li>BeanFactoryPostProcessorï¼Œæ˜¯ç”± Spring æ¡†æ¶ç»„å»ºæä¾›çš„å®¹å™¨æ‰©å±•æœºåˆ¶ï¼Œå…è®¸åœ¨ Bean å¯¹è±¡æ³¨å†Œåä½†æœªå®ä¾‹åŒ–ä¹‹å‰ï¼Œå¯¹ Bean çš„å®šä¹‰ä¿¡æ¯ <code>BeanDefinition</code> æ‰§è¡Œä¿®æ”¹æ“ä½œã€‚</li><li>BeanPostProcessorï¼Œä¹Ÿæ˜¯ Spring æä¾›çš„æ‰©å±•æœºåˆ¶ï¼Œä¸è¿‡ BeanPostProcessor æ˜¯åœ¨ Bean å¯¹è±¡å®ä¾‹åŒ–ä¹‹åä¿®æ”¹ Bean å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢ Bean å¯¹è±¡ã€‚è¿™éƒ¨åˆ†ä¸åé¢è¦å®ç°çš„ AOP æœ‰ç€å¯†åˆ‡çš„å…³ç³»ã€‚</li><li>åŒæ—¶å¦‚æœåªæ˜¯æ·»åŠ è¿™ä¸¤ä¸ªæ¥å£ï¼Œä¸åšä»»ä½•åŒ…è£…ï¼Œé‚£ä¹ˆå¯¹äºä½¿ç”¨è€…æ¥è¯´è¿˜æ˜¯éå¸¸éº»çƒ¦çš„ã€‚æˆ‘ä»¬å¸Œæœ›äºå¼€å‘ Spring çš„ä¸Šä¸‹æ–‡æ“ä½œç±»ï¼ŒæŠŠç›¸åº”çš„ XML åŠ è½½ ã€æ³¨å†Œã€å®ä¾‹åŒ–ä»¥åŠæ–°å¢çš„ä¿®æ”¹å’Œæ‰©å±•éƒ½èåˆè¿›å»ï¼Œè®© Spring å¯ä»¥è‡ªåŠ¨æ‰«æåˆ°æˆ‘ä»¬çš„æ–°å¢æœåŠ¡ï¼Œä¾¿äºç”¨æˆ·ä½¿ç”¨ã€‚</li></ul><h2 id="å››ã€å®ç°" tabindex="-1"><a class="header-anchor" href="#å››ã€å®ç°" aria-hidden="true">#</a> å››ã€å®ç°</h2><h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>small<span class="token operator">-</span>spring<span class="token operator">-</span>step<span class="token operator">-</span><span class="token number">06</span>
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â””â”€â”€ java
    â”‚       â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>springframework
    â”‚           â”œâ”€â”€ beans
    â”‚           â”‚   â”œâ”€â”€ factory
    â”‚           â”‚   â”‚   â”œâ”€â”€ config
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">AutowireCapableBeanFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">BeanDefinition</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">BeanFactoryPostProcessor</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">BeanPostProcessor</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">BeanReference</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">ConfigurableBeanFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â””â”€â”€ <span class="token class-name">SingletonBeanRegistry</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”œâ”€â”€ support
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">AbstractAutowireCapableBeanFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">AbstractBeanDefinitionReader</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">AbstractBeanFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">BeanDefinitionReader</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">BeanDefinitionRegistry</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">CglibSubclassingInstantiationStrategy</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">DefaultListableBeanFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">DefaultSingletonBeanRegistry</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">InstantiationStrategy</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”‚   â””â”€â”€ <span class="token class-name">SimpleInstantiationStrategy</span><span class="token punctuation">.</span>java  
    â”‚           â”‚   â”‚   â”œâ”€â”€ support
    â”‚           â”‚   â”‚   â”‚   â””â”€â”€ <span class="token class-name">XmlBeanDefinitionReader</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">BeanFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">ConfigurableListableBeanFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">HierarchicalBeanFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”‚   â””â”€â”€ <span class="token class-name">ListableBeanFactory</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">BeansException</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">PropertyValue</span><span class="token punctuation">.</span>java
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">PropertyValues</span><span class="token punctuation">.</span>java 
    â”‚           â”œâ”€â”€ context
    â”‚           â”‚   â”œâ”€â”€ support
    â”‚           â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">AbstractApplicationContext</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">AbstractRefreshableApplicationContext</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">AbstractXmlApplicationContext</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â”‚   â””â”€â”€ <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">ApplicationContext</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">ConfigurableApplicationContext</span><span class="token punctuation">.</span>java
    â”‚           â”œâ”€â”€ core<span class="token punctuation">.</span>io
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">ClassPathResource</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">DefaultResourceLoader</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">FileSystemResource</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">Resource</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â”œâ”€â”€ <span class="token class-name">ResourceLoader</span><span class="token punctuation">.</span>java 
    â”‚           â”‚   â””â”€â”€ <span class="token class-name">UrlResource</span><span class="token punctuation">.</span>java
    â”‚           â””â”€â”€ utils
    â”‚               â””â”€â”€ <span class="token class-name">ClassUtils</span><span class="token punctuation">.</span>java
    â””â”€â”€ test
        â””â”€â”€ java
            â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test
                â”œâ”€â”€ bean
                â”‚   â”œâ”€â”€ <span class="token class-name">UserDao</span><span class="token punctuation">.</span>java
                â”‚   â””â”€â”€ <span class="token class-name">UserService</span><span class="token punctuation">.</span>java  
                â”œâ”€â”€ common
                â”‚   â”œâ”€â”€ <span class="token class-name">MyBeanFactoryPostProcessor</span><span class="token punctuation">.</span>java
                â”‚   â””â”€â”€ <span class="token class-name">MyBeanPostProcessor</span><span class="token punctuation">.</span>java
                â””â”€â”€ <span class="token class-name">ApiTest</span><span class="token punctuation">.</span>java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å·¥ç¨‹æºç </strong>ï¼š<code>å…¬ä¼—å·ã€Œbugstackè™«æ´æ ˆã€ï¼Œå›å¤ï¼šSpring ä¸“æ ï¼Œè·å–å®Œæ•´æºç </code></p><p>Spring åº”ç”¨ä¸Šä¸‹æ–‡å’Œå¯¹Beanå¯¹è±¡æ‰©å±•æœºåˆ¶çš„ç±»å…³ç³»ï¼Œå¦‚å›¾ 7-3</p><p><img src="https://bugstack.cn/assets/images/spring/spring-7-03.png" alt="å›¾ 7-3"></p><ul><li>åœ¨æ•´ä¸ªç±»å›¾ä¸­ä¸»è¦ä½“ç°å‡ºæ¥çš„æ˜¯å…³äº Spring åº”ç”¨ä¸Šä¸‹æ–‡ä»¥åŠå¯¹ Bean å¯¹è±¡æ‰©å±•æœºåˆ¶çš„å®ç°ã€‚</li><li>ä»¥ç»§æ‰¿äº† ListableBeanFactory æ¥å£çš„ ApplicationContext æ¥å£å¼€å§‹ï¼Œæ‰©å±•å‡ºä¸€ç³»åˆ—åº”ç”¨ä¸Šä¸‹æ–‡çš„æŠ½è±¡å®ç°ç±»ï¼Œå¹¶æœ€ç»ˆå®Œæˆ <code>ClassPathXmlApplicationContext</code> ç±»çš„å®ç°ã€‚è€Œè¿™ä¸ªç±»å°±æ˜¯æœ€åäº¤ç»™ç”¨æˆ·ä½¿ç”¨çš„ç±»ã€‚</li><li>åŒæ—¶åœ¨å®ç°åº”ç”¨ä¸Šä¸‹æ–‡çš„è¿‡ç¨‹ä¸­ï¼Œé€šè¿‡å®šä¹‰æ¥å£ï¼š<code>BeanFactoryPostProcessor</code>ã€<code>BeanPostProcessor</code> ä¸¤ä¸ªæ¥å£ï¼ŒæŠŠå…³äºå¯¹ Bean çš„æ‰©å±•æœºåˆ¶ä¸²è”è¿›å»äº†ã€‚</li></ul><h3 id="_2-å®šä¹‰-beanfactorypostprocessor" tabindex="-1"><a class="header-anchor" href="#_2-å®šä¹‰-beanfactorypostprocessor" aria-hidden="true">#</a> 2. å®šä¹‰ BeanFactoryPostProcessor</h3><p><strong>cn.bugstack.springframework.beans.factory.config.BeanFactoryPostProcessor</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BeanFactoryPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * åœ¨æ‰€æœ‰çš„ BeanDefinition åŠ è½½å®Œæˆåï¼Œå®ä¾‹åŒ– Bean å¯¹è±¡ä¹‹å‰ï¼Œæä¾›ä¿®æ”¹ BeanDefinition å±æ€§çš„æœºåˆ¶
     *
     * <span class="token keyword">@param</span> <span class="token parameter">beanFactory</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">BeansException</span></span>
     */</span>
    <span class="token keyword">void</span> <span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ Spring æºç ä¸­æœ‰è¿™æ ·ä¸€æ®µæè¿° <code>Allows for custom modification of an application context&#39;s bean definitions,adapting the bean property values of the context&#39;s underlying bean factory.</code> å…¶å®ä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªæ¥å£æ˜¯æ»¡è¶³äºåœ¨æ‰€æœ‰çš„ BeanDefinition åŠ è½½å®Œæˆåï¼Œå®ä¾‹åŒ– Bean å¯¹è±¡ä¹‹å‰ï¼Œæä¾›ä¿®æ”¹ BeanDefinition å±æ€§çš„æœºåˆ¶ã€‚</li></ul><h3 id="_3-å®šä¹‰-beanpostprocessor" tabindex="-1"><a class="header-anchor" href="#_3-å®šä¹‰-beanpostprocessor" aria-hidden="true">#</a> 3. å®šä¹‰ BeanPostProcessor</h3><p><strong>cn.bugstack.springframework.beans.factory.config.BeanPostProcessor</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * åœ¨ Bean å¯¹è±¡æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•ä¹‹å‰ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•
     *
     * <span class="token keyword">@param</span> <span class="token parameter">bean</span>
     * <span class="token keyword">@param</span> <span class="token parameter">beanName</span>
     * <span class="token keyword">@return</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">BeansException</span></span>
     */</span>
    <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * åœ¨ Bean å¯¹è±¡æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•ä¹‹åï¼Œæ‰§è¡Œæ­¤æ–¹æ³•
     *
     * <span class="token keyword">@param</span> <span class="token parameter">bean</span>
     * <span class="token keyword">@param</span> <span class="token parameter">beanName</span>
     * <span class="token keyword">@return</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">BeansException</span></span>
     */</span>
    <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ Spring æºç ä¸­æœ‰è¿™æ ·ä¸€æ®µæè¿° <code>Factory hook that allows for custom modification of new bean instances,e.g. checking for marker interfaces or wrapping them with proxies.</code>ä¹Ÿå°±æ˜¯æä¾›äº†ä¿®æ”¹æ–°å®ä¾‹åŒ– Bean å¯¹è±¡çš„æ‰©å±•ç‚¹ã€‚</li><li>å¦å¤–æ­¤æ¥å£æä¾›äº†ä¸¤ä¸ªæ–¹æ³•ï¼š<code>postProcessBeforeInitialization</code> ç”¨äºåœ¨ Bean å¯¹è±¡æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•ä¹‹å‰ï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€<code>postProcessAfterInitialization</code>ç”¨äºåœ¨ Bean å¯¹è±¡æ‰§è¡Œåˆå§‹åŒ–æ–¹æ³•ä¹‹åï¼Œæ‰§è¡Œæ­¤æ–¹æ³•ã€‚</li></ul><h3 id="_4-å®šä¹‰ä¸Šä¸‹æ–‡æ¥å£" tabindex="-1"><a class="header-anchor" href="#_4-å®šä¹‰ä¸Šä¸‹æ–‡æ¥å£" aria-hidden="true">#</a> 4. å®šä¹‰ä¸Šä¸‹æ–‡æ¥å£</h3><p><strong>cn.bugstack.springframework.context.ApplicationContext</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ApplicationContext</span> <span class="token keyword">extends</span> <span class="token class-name">ListableBeanFactory</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>context æ˜¯æœ¬æ¬¡å®ç°åº”ç”¨ä¸Šä¸‹æ–‡åŠŸèƒ½æ–°å¢çš„æœåŠ¡åŒ…</li><li>ApplicationContextï¼Œç»§æ‰¿äº ListableBeanFactoryï¼Œä¹Ÿå°±ç»§æ‰¿äº†å…³äº BeanFactory æ–¹æ³•ï¼Œæ¯”å¦‚ä¸€äº› getBean çš„æ–¹æ³•ã€‚å¦å¤– ApplicationContext æœ¬èº«æ˜¯ Central æ¥å£ï¼Œä½†ç›®å‰è¿˜ä¸éœ€è¦æ·»åŠ ä¸€äº›è·å–IDå’Œçˆ¶ç±»ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥æš‚æ—¶æ²¡æœ‰æ¥å£æ–¹æ³•çš„å®šä¹‰ã€‚</li></ul><p><strong>cn.bugstack.springframework.context.ConfigurableApplicationContext</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ConfigurableApplicationContext</span> <span class="token keyword">extends</span> <span class="token class-name">ApplicationContext</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * åˆ·æ–°å®¹å™¨
     *
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">BeansException</span></span>
     */</span>
    <span class="token keyword">void</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ConfigurableApplicationContext ç»§æ‰¿è‡ª ApplicationContextï¼Œå¹¶æä¾›äº† refresh è¿™ä¸ªæ ¸å¿ƒæ–¹æ³•ã€‚<em>å¦‚æœä½ æœ‰çœ‹è¿‡ä¸€äº› Spring æºç ï¼Œé‚£ä¹ˆä¸€å®šä¼šçœ‹åˆ°è¿™ä¸ªæ–¹æ³•ã€‚</em> æ¥ä¸‹æ¥ä¹Ÿæ˜¯éœ€è¦åœ¨ä¸Šä¸‹æ–‡çš„å®ç°ä¸­å®Œæˆåˆ·æ–°å®¹å™¨çš„æ“ä½œè¿‡ç¨‹ã€‚</li></ul><h3 id="_5-åº”ç”¨ä¸Šä¸‹æ–‡æŠ½è±¡ç±»å®ç°" tabindex="-1"><a class="header-anchor" href="#_5-åº”ç”¨ä¸Šä¸‹æ–‡æŠ½è±¡ç±»å®ç°" aria-hidden="true">#</a> 5. åº”ç”¨ä¸Šä¸‹æ–‡æŠ½è±¡ç±»å®ç°</h3><p><strong>cn.bugstack.springframework.context.support.AbstractApplicationContext</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractApplicationContext</span> <span class="token keyword">extends</span> <span class="token class-name">DefaultResourceLoader</span> <span class="token keyword">implements</span> <span class="token class-name">ConfigurableApplicationContext</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. åˆ›å»º BeanFactoryï¼Œå¹¶åŠ è½½ BeanDefinition</span>
        <span class="token function">refreshBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. è·å– BeanFactory</span>
        <span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token function">getBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 3. åœ¨ Bean å®ä¾‹åŒ–ä¹‹å‰ï¼Œæ‰§è¡Œ BeanFactoryPostProcessor (Invoke factory processors registered as beans in the context.)</span>
        <span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4. BeanPostProcessor éœ€è¦æå‰äºå…¶ä»– Bean å¯¹è±¡å®ä¾‹åŒ–ä¹‹å‰æ‰§è¡Œæ³¨å†Œæ“ä½œ</span>
        <span class="token function">registerBeanPostProcessors</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5. æå‰å®ä¾‹åŒ–å•ä¾‹Beanå¯¹è±¡</span>
        beanFactory<span class="token punctuation">.</span><span class="token function">preInstantiateSingletons</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">refreshBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token class-name">ConfigurableListableBeanFactory</span> <span class="token function">getBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">invokeBeanFactoryPostProcessors</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">BeanFactoryPostProcessor</span><span class="token punctuation">&gt;</span></span> beanFactoryPostProcessorMap <span class="token operator">=</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBeansOfType</span><span class="token punctuation">(</span><span class="token class-name">BeanFactoryPostProcessor</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">BeanFactoryPostProcessor</span> beanFactoryPostProcessor <span class="token operator">:</span> beanFactoryPostProcessorMap<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            beanFactoryPostProcessor<span class="token punctuation">.</span><span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">registerBeanPostProcessors</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">BeanPostProcessor</span><span class="token punctuation">&gt;</span></span> beanPostProcessorMap <span class="token operator">=</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBeansOfType</span><span class="token punctuation">(</span><span class="token class-name">BeanPostProcessor</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">BeanPostProcessor</span> beanPostProcessor <span class="token operator">:</span> beanPostProcessorMap<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            beanFactory<span class="token punctuation">.</span><span class="token function">addBeanPostProcessor</span><span class="token punctuation">(</span>beanPostProcessor<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">//... getBeanã€getBeansOfTypeã€getBeanDefinitionNames æ–¹æ³•</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>AbstractApplicationContext ç»§æ‰¿ DefaultResourceLoader æ˜¯ä¸ºäº†å¤„ç† <code>spring.xml</code> é…ç½®èµ„æºçš„åŠ è½½ã€‚</li><li>ä¹‹åæ˜¯åœ¨ refresh() å®šä¹‰å®ç°è¿‡ç¨‹ï¼ŒåŒ…æ‹¬ï¼š <ul><li><ol><li>åˆ›å»º BeanFactoryï¼Œå¹¶åŠ è½½ BeanDefinition</li></ol></li><li><ol start="2"><li>è·å– BeanFactory</li></ol></li><li><ol start="3"><li>åœ¨ Bean å®ä¾‹åŒ–ä¹‹å‰ï¼Œæ‰§è¡Œ BeanFactoryPostProcessor (Invoke factory processors registered as beans in the context.)</li></ol></li><li><ol start="4"><li>BeanPostProcessor éœ€è¦æå‰äºå…¶ä»– Bean å¯¹è±¡å®ä¾‹åŒ–ä¹‹å‰æ‰§è¡Œæ³¨å†Œæ“ä½œ</li></ol></li><li><ol start="5"><li>æå‰å®ä¾‹åŒ–å•ä¾‹Beanå¯¹è±¡</li></ol></li></ul></li><li>å¦å¤–æŠŠå®šä¹‰å‡ºæ¥çš„æŠ½è±¡æ–¹æ³•ï¼ŒrefreshBeanFactory()ã€getBeanFactory() ç”±åé¢çš„ç»§æ‰¿æ­¤æŠ½è±¡ç±»çš„å…¶ä»–æŠ½è±¡ç±»å®ç°ã€‚</li></ul><h3 id="_6-è·å–beanå·¥å‚å’ŒåŠ è½½èµ„æº" tabindex="-1"><a class="header-anchor" href="#_6-è·å–beanå·¥å‚å’ŒåŠ è½½èµ„æº" aria-hidden="true">#</a> 6. è·å–Beanå·¥å‚å’ŒåŠ è½½èµ„æº</h3><p><strong>cn.bugstack.springframework.context.support.AbstractRefreshableApplicationContext</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractRefreshableApplicationContext</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractApplicationContext</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">DefaultListableBeanFactory</span> beanFactory<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">refreshBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">DefaultListableBeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token function">createBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">loadBeanDefinitions</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>beanFactory <span class="token operator">=</span> beanFactory<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">DefaultListableBeanFactory</span> <span class="token function">createBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DefaultListableBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token keyword">void</span> <span class="token function">loadBeanDefinitions</span><span class="token punctuation">(</span><span class="token class-name">DefaultListableBeanFactory</span> beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">ConfigurableListableBeanFactory</span> <span class="token function">getBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> beanFactory<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ refreshBeanFactory() ä¸­ä¸»è¦æ˜¯è·å–äº† <code>DefaultListableBeanFactory</code> çš„å®ä¾‹åŒ–ä»¥åŠå¯¹èµ„æºé…ç½®çš„åŠ è½½æ“ä½œ <code>loadBeanDefinitions(beanFactory)</code>ï¼Œåœ¨åŠ è½½å®Œæˆåå³å¯å®Œæˆå¯¹ spring.xml é…ç½®æ–‡ä»¶ä¸­ Bean å¯¹è±¡çš„å®šä¹‰å’Œæ³¨å†Œï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬å®ç°äº†æ¥å£ BeanFactoryPostProcessorã€BeanPostProcessor çš„é…ç½® Bean ä¿¡æ¯ã€‚</li><li>ä½†æ­¤æ—¶èµ„æºåŠ è½½è¿˜åªæ˜¯å®šä¹‰äº†ä¸€ä¸ªæŠ½è±¡ç±»æ–¹æ³• <code>loadBeanDefinitions(DefaultListableBeanFactory beanFactory)</code>ï¼Œç»§ç»­ç”±å…¶ä»–æŠ½è±¡ç±»ç»§æ‰¿å®ç°ã€‚</li></ul><h3 id="_7-ä¸Šä¸‹æ–‡ä¸­å¯¹é…ç½®ä¿¡æ¯çš„åŠ è½½" tabindex="-1"><a class="header-anchor" href="#_7-ä¸Šä¸‹æ–‡ä¸­å¯¹é…ç½®ä¿¡æ¯çš„åŠ è½½" aria-hidden="true">#</a> 7. ä¸Šä¸‹æ–‡ä¸­å¯¹é…ç½®ä¿¡æ¯çš„åŠ è½½</h3><p><strong>cn.bugstack.springframework.context.support.AbstractXmlApplicationContext</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractXmlApplicationContext</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractRefreshableApplicationContext</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">loadBeanDefinitions</span><span class="token punctuation">(</span><span class="token class-name">DefaultListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">XmlBeanDefinitionReader</span> beanDefinitionReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XmlBeanDefinitionReader</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> configLocations <span class="token operator">=</span> <span class="token function">getConfigLocations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> configLocations<span class="token punctuation">)</span><span class="token punctuation">{</span>
            beanDefinitionReader<span class="token punctuation">.</span><span class="token function">loadBeanDefinitions</span><span class="token punctuation">(</span>configLocations<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">abstract</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getConfigLocations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ AbstractXmlApplicationContext æŠ½è±¡ç±»çš„ loadBeanDefinitions æ–¹æ³•å®ç°ä¸­ï¼Œä½¿ç”¨ XmlBeanDefinitionReader ç±»ï¼Œå¤„ç†äº†å…³äº XML æ–‡ä»¶é…ç½®ä¿¡æ¯çš„æ“ä½œã€‚</li><li>åŒæ—¶è¿™é‡Œåˆç•™ä¸‹äº†ä¸€ä¸ªæŠ½è±¡ç±»æ–¹æ³•ï¼ŒgetConfigLocations()ï¼Œæ­¤æ–¹æ³•æ˜¯ä¸ºäº†ä»å…¥å£ä¸Šä¸‹æ–‡ç±»ï¼Œæ‹¿åˆ°é…ç½®ä¿¡æ¯çš„åœ°å€æè¿°ã€‚</li></ul><h3 id="_8-åº”ç”¨ä¸Šä¸‹æ–‡å®ç°ç±»-classpathxmlapplicationcontext" tabindex="-1"><a class="header-anchor" href="#_8-åº”ç”¨ä¸Šä¸‹æ–‡å®ç°ç±»-classpathxmlapplicationcontext" aria-hidden="true">#</a> 8. åº”ç”¨ä¸Šä¸‹æ–‡å®ç°ç±»(ClassPathXmlApplicationContext)</h3><p><strong>cn.bugstack.springframework.context.support.ClassPathXmlApplicationContext</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ClassPathXmlApplicationContext</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractXmlApplicationContext</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> configLocations<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * ä» XML ä¸­åŠ è½½ BeanDefinitionï¼Œå¹¶åˆ·æ–°ä¸Šä¸‹æ–‡
     *
     * <span class="token keyword">@param</span> <span class="token parameter">configLocations</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">BeansException</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">String</span> configLocations<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>configLocations<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * ä» XML ä¸­åŠ è½½ BeanDefinitionï¼Œå¹¶åˆ·æ–°ä¸Šä¸‹æ–‡
     * <span class="token keyword">@param</span> <span class="token parameter">configLocations</span>
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">BeansException</span></span>
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> configLocations<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>configLocations <span class="token operator">=</span> configLocations<span class="token punctuation">;</span>
        <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getConfigLocations</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> configLocations<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ClassPathXmlApplicationContextï¼Œæ˜¯å…·ä½“å¯¹å¤–ç»™ç”¨æˆ·æä¾›çš„åº”ç”¨ä¸Šä¸‹æ–‡æ–¹æ³•ã€‚</li><li>åœ¨ç»§æ‰¿äº† AbstractXmlApplicationContext ä»¥åŠå±‚å±‚æŠ½è±¡ç±»çš„åŠŸèƒ½åˆ†ç¦»å®ç°åï¼Œåœ¨æ­¤ç±» ClassPathXmlApplicationContext çš„å®ç°ä¸­å°±ç®€å•å¤šäº†ï¼Œä¸»è¦æ˜¯å¯¹ç»§æ‰¿æŠ½è±¡ç±»ä¸­æ–¹æ³•çš„è°ƒç”¨å’Œæä¾›äº†é…ç½®æ–‡ä»¶åœ°å€ä¿¡æ¯ã€‚</li></ul><h3 id="_9-åœ¨beanåˆ›å»ºæ—¶å®Œæˆå‰ç½®å’Œåç½®å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_9-åœ¨beanåˆ›å»ºæ—¶å®Œæˆå‰ç½®å’Œåç½®å¤„ç†" aria-hidden="true">#</a> 9. åœ¨Beanåˆ›å»ºæ—¶å®Œæˆå‰ç½®å’Œåç½®å¤„ç†</h3><p><strong>cn.bugstack.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">AbstractAutowireCapableBeanFactory</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractBeanFactory</span> <span class="token keyword">implements</span> <span class="token class-name">AutowireCapableBeanFactory</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">InstantiationStrategy</span> instantiationStrategy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CglibSubclassingInstantiationStrategy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">createBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> beanName<span class="token punctuation">,</span> <span class="token class-name">BeanDefinition</span> beanDefinition<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span> bean <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            bean <span class="token operator">=</span> <span class="token function">createBeanInstance</span><span class="token punctuation">(</span>beanDefinition<span class="token punctuation">,</span> beanName<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// ç»™ Bean å¡«å……å±æ€§</span>
            <span class="token function">applyPropertyValues</span><span class="token punctuation">(</span>beanName<span class="token punctuation">,</span> bean<span class="token punctuation">,</span> beanDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ‰§è¡Œ Bean çš„åˆå§‹åŒ–æ–¹æ³•å’Œ BeanPostProcessor çš„å‰ç½®å’Œåç½®å¤„ç†æ–¹æ³•</span>
            bean <span class="token operator">=</span> <span class="token function">initializeBean</span><span class="token punctuation">(</span>beanName<span class="token punctuation">,</span> bean<span class="token punctuation">,</span> beanDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">BeansException</span><span class="token punctuation">(</span><span class="token string">&quot;Instantiation of bean failed&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token function">addSingleton</span><span class="token punctuation">(</span>beanName<span class="token punctuation">,</span> bean<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">InstantiationStrategy</span> <span class="token function">getInstantiationStrategy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> instantiationStrategy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setInstantiationStrategy</span><span class="token punctuation">(</span><span class="token class-name">InstantiationStrategy</span> instantiationStrategy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>instantiationStrategy <span class="token operator">=</span> instantiationStrategy<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token class-name">Object</span> <span class="token function">initializeBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> beanName<span class="token punctuation">,</span> <span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">BeanDefinition</span> beanDefinition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. æ‰§è¡Œ BeanPostProcessor Before å¤„ç†</span>
        <span class="token class-name">Object</span> wrappedBean <span class="token operator">=</span> <span class="token function">applyBeanPostProcessorsBeforeInitialization</span><span class="token punctuation">(</span>bean<span class="token punctuation">,</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// å¾…å®Œæˆå†…å®¹ï¼šinvokeInitMethods(beanName, wrappedBean, beanDefinition);</span>
        <span class="token function">invokeInitMethods</span><span class="token punctuation">(</span>beanName<span class="token punctuation">,</span> wrappedBean<span class="token punctuation">,</span> beanDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. æ‰§è¡Œ BeanPostProcessor After å¤„ç†</span>
        wrappedBean <span class="token operator">=</span> <span class="token function">applyBeanPostProcessorsAfterInitialization</span><span class="token punctuation">(</span>bean<span class="token punctuation">,</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> wrappedBean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">invokeInitMethods</span><span class="token punctuation">(</span><span class="token class-name">String</span> beanName<span class="token punctuation">,</span> <span class="token class-name">Object</span> wrappedBean<span class="token punctuation">,</span> <span class="token class-name">BeanDefinition</span> beanDefinition<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">applyBeanPostProcessorsBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> existingBean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span> result <span class="token operator">=</span> existingBean<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">BeanPostProcessor</span> processor <span class="token operator">:</span> <span class="token function">getBeanPostProcessors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Object</span> current <span class="token operator">=</span> processor<span class="token punctuation">.</span><span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> current<span class="token punctuation">)</span> <span class="token keyword">return</span> result<span class="token punctuation">;</span>
            result <span class="token operator">=</span> current<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">applyBeanPostProcessorsAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> existingBean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span> result <span class="token operator">=</span> existingBean<span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">BeanPostProcessor</span> processor <span class="token operator">:</span> <span class="token function">getBeanPostProcessors</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Object</span> current <span class="token operator">=</span> processor<span class="token punctuation">.</span><span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> current<span class="token punctuation">)</span> <span class="token keyword">return</span> result<span class="token punctuation">;</span>
            result <span class="token operator">=</span> current<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®ç° BeanPostProcessor æ¥å£åï¼Œä¼šæ¶‰åŠåˆ°ä¸¤ä¸ªæ¥å£æ–¹æ³•ï¼Œ<code>postProcessBeforeInitialization</code>ã€<code>postProcessAfterInitialization</code>ï¼Œåˆ†åˆ«ä½œç”¨äº Bean å¯¹è±¡æ‰§è¡Œåˆå§‹åŒ–å‰åçš„é¢å¤–å¤„ç†ã€‚</li><li>ä¹Ÿå°±æ˜¯éœ€è¦åœ¨åˆ›å»º Bean å¯¹è±¡æ—¶ï¼Œåœ¨ createBean æ–¹æ³•ä¸­æ·»åŠ  <code>initializeBean(beanName, bean, beanDefinition);</code> æ“ä½œã€‚è€Œè¿™ä¸ªæ“ä½œä¸»è¦ä¸»è¦æ˜¯å¯¹äºæ–¹æ³• <code>applyBeanPostProcessorsBeforeInitialization</code>ã€<code>applyBeanPostProcessorsAfterInitialization</code> çš„ä½¿ç”¨ã€‚</li><li>å¦å¤–éœ€è¦æä¸€ä¸‹ï¼ŒapplyBeanPostProcessorsBeforeInitializationã€applyBeanPostProcessorsAfterInitialization ä¸¤ä¸ªæ–¹æ³•æ˜¯åœ¨æ¥å£ç±» <code>AutowireCapableBeanFactory</code> ä¸­æ–°å¢åŠ çš„ã€‚</li></ul><h2 id="äº”ã€æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#äº”ã€æµ‹è¯•" aria-hidden="true">#</a> äº”ã€æµ‹è¯•</h2><h3 id="_1-äº‹å…ˆå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#_1-äº‹å…ˆå‡†å¤‡" aria-hidden="true">#</a> 1. äº‹å…ˆå‡†å¤‡</h3><p><strong>cn.bugstack.springframework.test.bean.UserDao</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hashMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        hashMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;10001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å°å‚…å“¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hashMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;10002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å…«æ¯æ°´&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        hashMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;10003&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;é˜¿æ¯›&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">queryUserName</span><span class="token punctuation">(</span><span class="token class-name">String</span> uId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> hashMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>uId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>cn.bugstack.springframework.test.bean.UserService</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> uId<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> company<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> location<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">queryUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> userDao<span class="token punctuation">.</span><span class="token function">queryUserName</span><span class="token punctuation">(</span>uId<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;, å…¬å¸ï¼š&quot;</span><span class="token operator">+</span>company<span class="token operator">+</span><span class="token string">&quot;, åœ°ç‚¹&quot;</span><span class="token operator">+</span>location<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...get/set</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Daoã€Serviceï¼Œæ˜¯æˆ‘ä»¬å¹³å¸¸å¼€å‘ç»å¸¸ä½¿ç”¨çš„åœºæ™¯ã€‚åœ¨ UserService ä¸­æ³¨å…¥ UserDaoï¼Œè¿™æ ·å°±èƒ½ä½“ç°å‡ºBeanå±æ€§çš„ä¾èµ–äº†ã€‚</li><li>å¦å¤–è¿™é‡Œæ–°å¢åŠ äº† companyã€locationï¼Œä¸¤ä¸ªå±æ€§ä¿¡æ¯ï¼Œä¾¿äºæµ‹è¯• BeanPostProcessorã€BeanFactoryPostProcessor ä¸¤ä¸ªæ¥å£å¯¹ Bean å±æ€§ä¿¡æ¯æ‰©å±•çš„ä½œç”¨ã€‚</li></ul><h3 id="_2-å®ç°-beanpostprocessor-å’Œ-beanfactorypostprocessor" tabindex="-1"><a class="header-anchor" href="#_2-å®ç°-beanpostprocessor-å’Œ-beanfactorypostprocessor" aria-hidden="true">#</a> 2. å®ç° BeanPostProcessor å’Œ BeanFactoryPostProcessor</h3><p><strong>cn.bugstack.springframework.test.common.MyBeanFactoryPostProcessor</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanFactoryPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanFactoryPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">ConfigurableListableBeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>

        <span class="token class-name">BeanDefinition</span> beanDefinition <span class="token operator">=</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBeanDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PropertyValues</span> propertyValues <span class="token operator">=</span> beanDefinition<span class="token punctuation">.</span><span class="token function">getPropertyValues</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        propertyValues<span class="token punctuation">.</span><span class="token function">addPropertyValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PropertyValue</span><span class="token punctuation">(</span><span class="token string">&quot;company&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ”¹ä¸ºï¼šå­—èŠ‚è·³åŠ¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>cn.bugstack.springframework.test.common.MyBeanPostProcessor</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>beanName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> bean<span class="token punctuation">;</span>
            userService<span class="token punctuation">.</span><span class="token function">setLocation</span><span class="token punctuation">(</span><span class="token string">&quot;æ”¹ä¸ºï¼šåŒ—äº¬&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦‚æœä½ åœ¨ Spring ä¸­åšè¿‡ä¸€äº›ç»„ä»¶çš„å¼€å‘é‚£ä¹ˆä¸€å®šéå¸¸ç†Ÿæ‚‰è¿™ä¸¤ä¸ªç±»ï¼Œæœ¬æ–‡çš„æµ‹è¯•ä¹Ÿæ˜¯å®ç°äº†è¿™ä¸¤ä¸ªç±»ï¼Œå¯¹å®ä¾‹åŒ–è¿‡ç¨‹ä¸­çš„ Bean å¯¹è±¡åšä¸€äº›æ“ä½œã€‚</li></ul><h3 id="_3-é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_3-é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> 3. é…ç½®æ–‡ä»¶</h3><p><strong>åŸºç¡€é…ç½®ï¼Œæ— BeanFactoryPostProcessorã€BeanPostProcessorï¼Œå®ç°ç±»</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.springframework.test.bean.UserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.springframework.test.bean.UserService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10001<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è…¾è®¯<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>location<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ·±åœ³<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å¢å¼ºé…ç½®ï¼Œæœ‰BeanFactoryPostProcessorã€BeanPostProcessorï¼Œå®ç°ç±»</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.springframework.test.bean.UserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.springframework.test.bean.UserService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>uId<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10001<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>company<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è…¾è®¯<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>location<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>æ·±åœ³<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.springframework.test.common.MyBeanPostProcessor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.springframework.test.common.MyBeanFactoryPostProcessor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œæä¾›äº†ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯ä¸åŒ…å«BeanFactoryPostProcessorã€BeanPostProcessorï¼Œå¦å¤–ä¸€ä¸ªæ˜¯åŒ…å«çš„ã€‚ä¹‹æ‰€ä»¥è¿™æ ·é…ç½®ä¸»è¦å¯¹ç…§éªŒè¯ï¼Œåœ¨è¿ç”¨ Spring æ–°å¢åŠ çš„åº”ç”¨ä¸Šä¸‹æ–‡å’Œä¸ä½¿ç”¨çš„æ—¶å€™ï¼Œéƒ½æ˜¯æ€ä¹ˆæ“ä½œçš„ã€‚</li></ul><h3 id="_4-ä¸ç”¨åº”ç”¨ä¸Šä¸‹æ–‡" tabindex="-1"><a class="header-anchor" href="#_4-ä¸ç”¨åº”ç”¨ä¸Šä¸‹æ–‡" aria-hidden="true">#</a> 4. ä¸ç”¨åº”ç”¨ä¸Šä¸‹æ–‡</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_BeanFactoryPostProcessorAndBeanPostProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 1.åˆå§‹åŒ– BeanFactory</span>
    <span class="token class-name">DefaultListableBeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultListableBeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2. è¯»å–é…ç½®æ–‡ä»¶&amp;æ³¨å†ŒBean</span>
    <span class="token class-name">XmlBeanDefinitionReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XmlBeanDefinitionReader</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>
    reader<span class="token punctuation">.</span><span class="token function">loadBeanDefinitions</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:spring.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3. BeanDefinition åŠ è½½å®Œæˆ &amp; Beanå®ä¾‹åŒ–ä¹‹å‰ï¼Œä¿®æ”¹ BeanDefinition çš„å±æ€§å€¼</span>
    <span class="token class-name">MyBeanFactoryPostProcessor</span> beanFactoryPostProcessor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyBeanFactoryPostProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    beanFactoryPostProcessor<span class="token punctuation">.</span><span class="token function">postProcessBeanFactory</span><span class="token punctuation">(</span>beanFactory<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4. Beanå®ä¾‹åŒ–ä¹‹åï¼Œä¿®æ”¹ Bean å±æ€§ä¿¡æ¯</span>
    <span class="token class-name">MyBeanPostProcessor</span> beanPostProcessor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyBeanPostProcessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    beanFactory<span class="token punctuation">.</span><span class="token function">addBeanPostProcessor</span><span class="token punctuation">(</span>beanPostProcessor<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 5. è·å–Beanå¯¹è±¡è°ƒç”¨æ–¹æ³•</span>
    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">,</span> <span class="token class-name">UserService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">queryUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœï¼š&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>DefaultListableBeanFactory åˆ›å»º beanFactory å¹¶ä½¿ç”¨ XmlBeanDefinitionReader åŠ è½½é…ç½®æ–‡ä»¶çš„æ–¹å¼ï¼Œè¿˜æ˜¯æ¯”è¾ƒç†Ÿæ‚‰çš„ã€‚</li><li>æ¥ä¸‹æ¥å°±æ˜¯å¯¹ MyBeanFactoryPostProcessor å’Œ MyBeanPostProcessor çš„å¤„ç†ï¼Œä¸€ä¸ªæ˜¯åœ¨BeanDefinition åŠ è½½å®Œæˆ &amp; Beanå®ä¾‹åŒ–ä¹‹å‰ï¼Œä¿®æ”¹ BeanDefinition çš„å±æ€§å€¼ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯åœ¨Beanå®ä¾‹åŒ–ä¹‹åï¼Œä¿®æ”¹ Bean å±æ€§ä¿¡æ¯ã€‚</li></ul><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>æµ‹è¯•ç»“æœï¼šå°å‚…å“¥<span class="token punctuation">,</span>æ”¹ä¸ºï¼šå­—èŠ‚è·³åŠ¨<span class="token punctuation">,</span>æ”¹ä¸ºï¼šåŒ—äº¬

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡æµ‹è¯•ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é…ç½®çš„å±æ€§ä¿¡æ¯å·²ç»ä¸ spring.xml é…ç½®æ–‡ä»¶ä¸­ä¸ä¸€æ ·äº†ã€‚</li></ul><h3 id="_5-ä½¿ç”¨åº”ç”¨ä¸Šä¸‹æ–‡" tabindex="-1"><a class="header-anchor" href="#_5-ä½¿ç”¨åº”ç”¨ä¸Šä¸‹æ–‡" aria-hidden="true">#</a> 5. ä½¿ç”¨åº”ç”¨ä¸Šä¸‹æ–‡</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_xml</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1.åˆå§‹åŒ– BeanFactory</span>
    <span class="token class-name">ClassPathXmlApplicationContext</span> applicationContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:springPostProcessor.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2. è·å–Beanå¯¹è±¡è°ƒç”¨æ–¹æ³•</span>
    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">,</span> <span class="token class-name">UserService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> result <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">queryUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœï¼š&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¦å¤–ä½¿ç”¨æ–°å¢åŠ çš„ ClassPathXmlApplicationContext åº”ç”¨ä¸Šä¸‹æ–‡ç±»ï¼Œå†æ“ä½œèµ·æ¥å°±æ–¹ä¾¿å¤šäº†ï¼Œ<em>è¿™æ‰æ˜¯é¢å‘ç”¨æˆ·ä½¿ç”¨çš„ç±»</em>ï¼Œåœ¨è¿™é‡Œå¯ä»¥ä¸€æ­¥æŠŠé…ç½®æ–‡ä»¶äº¤ç»™ ClassPathXmlApplicationContextï¼Œä¹Ÿä¸éœ€è¦ç®¡ç†ä¸€äº›è‡ªå®šä¹‰å®ç°çš„ Spring æ¥å£çš„ç±»ã€‚</li></ul><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>æµ‹è¯•ç»“æœï¼šå°å‚…å“¥<span class="token punctuation">,</span>æ”¹ä¸ºï¼šå­—èŠ‚è·³åŠ¨<span class="token punctuation">,</span>æ”¹ä¸ºï¼šåŒ—äº¬

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™ä¸ä¸ç”¨åº”ç”¨ä¸Šä¸‹æ–‡çš„æµ‹è¯•ç»“æœæ˜¯ä¸€æ ·ï¼Œä¸è¿‡ç°åœ¨çš„æ–¹å¼æ›´åŠ æ–¹ä¾¿äº†ã€‚</li></ul><h2 id="å…­ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å…­ã€æ€»ç»“" aria-hidden="true">#</a> å…­ã€æ€»ç»“</h2><ul><li>æœ¬æ–‡ä¸»è¦æ–°å¢äº† Spring æ¡†æ¶ä¸­ä¸¤ä¸ªéå¸¸é‡è¦çš„æ¥å£ BeanFactoryPostProcessã€BeanPostProcessor åŒæ—¶è¿˜æ·»åŠ äº†å…³äºåº”ç”¨ä¸Šä¸‹æ–‡çš„å®ç°ï¼ŒApplicationContext æ¥å£çš„å®šä¹‰æ˜¯ç»§æ‰¿ BeanFactory å¤–æ–°å¢åŠ åŠŸèƒ½çš„æ¥å£ï¼Œå®ƒå¯ä»¥æ»¡è¶³äºè‡ªåŠ¨è¯†åˆ«ã€èµ„æºåŠ è½½ã€å®¹å™¨äº‹ä»¶ã€ç›‘å¬å™¨ç­‰åŠŸèƒ½ï¼ŒåŒæ—¶ä¾‹å¦‚ä¸€äº›å›½é™…åŒ–æ”¯æŒã€å•ä¾‹Beanè‡ªåŠ¨åˆå§‹åŒ–ç­‰ï¼Œä¹Ÿæ˜¯å¯ä»¥åœ¨è¿™ä¸ªç±»é‡Œå®ç°å’Œæ‰©å……çš„ã€‚</li><li>é€šè¿‡æœ¬æ–‡çš„å®ç°ä¸€å®šä¼šéå¸¸äº†è§£ BeanFactoryPostProcessã€BeanPostProcessorï¼Œä»¥åå†åšä¸€äº›å…³äº Spring ä¸­é—´ä»¶çš„å¼€å‘æ—¶ï¼Œå¦‚æœéœ€è¦ç”¨åˆ° Bean å¯¹è±¡çš„è·å–ä»¥åŠä¿®æ”¹ä¸€äº›å±æ€§ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨è¿™ä¸¤ä¸ªæ¥å£äº†ã€‚åŒæ—¶ BeanPostProcessor ä¹Ÿæ˜¯å®ç° AOP åˆ‡é¢æŠ€æœ¯çš„å…³é”®æ‰€åœ¨ã€‚</li><li>æœ‰äººé—®ï¼š<code>é¢è¯•é—®é‚£ä¹ˆå¤šï¼Œå¯æ˜¯å·¥ä½œåˆç”¨ä¸åˆ°ï¼Œæ˜¯å˜å“ˆä¹ˆå‘¢ï¼Ÿ</code>ï¼Œå˜å“ˆä¹ˆï¼Œé‚£ä½ è¯´ä½ å¼€è½¦ä¸Šæ¡¥çš„æ—¶å€™ï¼Œä¼šæ¯æ¬¡éƒ½æ’ä¸¤è¾¹çš„æŠ¤æ å—ï¼Œä¸æ’æ˜¯å§ï¼Œé‚£ä¸è¦ä¿®äº†å“‡ï¼Œç›´æ¥å°±é“ºä¸€ä¸ªå¹³æ¿ï¼Œè¿˜çœææ–™äº†ã€‚å…¶å®æ ¸å¿ƒæŠ€æœ¯çš„åŸç†å­¦ä¹ ï¼Œæ˜¯æ›´æœ‰åŠ©äºä½ å®Œæˆæ›´å¤æ‚çš„æ¶æ„è®¾è®¡ï¼Œå½“ä½ çš„çŸ¥è¯†èƒ½æ›´å…¨é¢è¦†ç›–æ‰€æ‰¿æ¥çš„éœ€æ±‚æ—¶ï¼Œä¹Ÿå°±èƒ½æ›´å¥½çš„åšå‡ºåˆç†çš„æ¶æ„å’Œè½åœ°ã€‚</li></ul><h2 id="ä¸ƒã€ä¼˜ç§€ä½œä¸š" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€ä¼˜ç§€ä½œä¸š" aria-hidden="true">#</a> ä¸ƒã€ä¼˜ç§€ä½œä¸š</h2>`,83),y={href:"https://t.zsxq.com/0537UNFuj",target:"_blank",rel:"noopener noreferrer"},f={href:"https://t.zsxq.com/053vN3r3V",target:"_blank",rel:"noopener noreferrer"},h={href:"https://t.zsxq.com/06VJ6YNJU",target:"_blank",rel:"noopener noreferrer"},B={href:"https://t.zsxq.com/07EMFubmA",target:"_blank",rel:"noopener noreferrer"},w={href:"https://t.zsxq.com/07FcGEAPe",target:"_blank",rel:"noopener noreferrer"},P={href:"https://t.zsxq.com/073XQ9isg",target:"_blank",rel:"noopener noreferrer"},x={href:"https://t.zsxq.com/08WokFbXV",target:"_blank",rel:"noopener noreferrer"},q={href:"https://t.zsxq.com/082fgaWPw",target:"_blank",rel:"noopener noreferrer"},F={href:"https://t.zsxq.com/09P5Yiykq",target:"_blank",rel:"noopener noreferrer"},j={href:"https://t.zsxq.com/09GICoLkC",target:"_blank",rel:"noopener noreferrer"},S={href:"https://t.zsxq.com/0aVHv70Z2",target:"_blank",rel:"noopener noreferrer"},_={href:"https://t.zsxq.com/0a32WbY7N",target:"_blank",rel:"noopener noreferrer"};function C(A,D){const a=o("ExternalLinkIcon");return c(),i("div",null,[u,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),r,s("åšå®¢ï¼š"),n("a",k,[s("https://bugstack.cn"),e(a)]),d,s("åŸæ–‡ï¼š"),n("a",v,[s("https://mp.weixin.qq.com/s/sv0H1NAuO3s90HC6QpjP5g"),e(a)])]),m,n("p",null,[s("å¦‚æœä½ åœ¨è‡ªå·±çš„å®é™…å·¥ä½œä¸­å¼€å‘è¿‡åŸºäº Spring çš„æŠ€æœ¯ç»„ä»¶ï¼Œæˆ–è€…å­¦ä¹ è¿‡å…³äº "),n("a",b,[s("SpringBoot ä¸­é—´ä»¶è®¾è®¡å’Œå¼€å‘"),e(a)]),s(" ç­‰å†…å®¹ã€‚é‚£ä¹ˆä½ ä¸€å®šä¼šç»§æ‰¿æˆ–è€…å®ç°äº† Spring å¯¹å¤–æš´éœ²çš„ç±»æˆ–æ¥å£ï¼Œåœ¨æ¥å£çš„å®ç°ä¸­è·å–äº† BeanFactory ä»¥åŠ Bean å¯¹è±¡çš„è·å–ç­‰å†…å®¹ï¼Œå¹¶å¯¹è¿™äº›å†…å®¹åšä¸€äº›æ“ä½œï¼Œä¾‹å¦‚ï¼šä¿®æ”¹ Bean çš„ä¿¡æ¯ï¼Œæ·»åŠ æ—¥å¿—æ‰“å°ã€å¤„ç†æ•°æ®åº“è·¯ç”±å¯¹æ•°æ®æºçš„åˆ‡æ¢ã€ç»™ RPC æœåŠ¡è¿æ¥æ³¨å†Œä¸­å¿ƒç­‰ã€‚")]),g,n("ul",null,[n("li",null,[n("a",y,[s("åº”ç”¨ä¸Šä¸‹æ–‡å…¨è²Œå›¾ @W"),e(a)])]),n("li",null,[n("a",f,[s("å­¦è¿™ç« ä¹‹å‰æˆ‘å¯¹ä¸Šä¸‹æ–‡ä¸€ç‚¹éƒ½ä¸çŸ¥é“ï¼Œå­¦å®Œä¹‹åæ„Ÿè§‰è±ç„¶å¼€æœ—ï¼ŒBeanFactoryæ˜¯å†…éƒ¨çš„ä¸œè¥¿æ˜¯IOCå®¹å™¨åŒ–çš„åŸºç¡€ï¼Œè€Œè¿™äº›æ˜¯è¦ç»™äººç”¨çš„ @Chin"),e(a)])]),n("li",null,[n("a",h,[s("åˆ›å»ºä¸Šä¸‹æ–‡ï¼Œä¸å¾—ä¸è¯´ Spring çš„ç±»çš„è®¾è®¡å’Œè®¾è®¡æ¨¡å¼çš„ä½¿ç”¨éƒ½æ˜¯æ•™ç§‘ä¹¦çº§åˆ«çš„ @Weido"),e(a)])]),n("li",null,[n("a",B,[s("å®ç°åº”ç”¨ä¸Šä¸‹æ–‡ï¼ŒæŠŠå¯¹Classç±»ã€Beanå¯¹è±¡çš„æ‰©å±•æœºåˆ¶åŠŸèƒ½å’Œå¯¹Springæ¡†æ¶ä¸Šä¸‹æ–‡çš„åŒ…è£…èåˆèµ·æ¥ï¼Œå¯¹å¤–æä¾›ç»Ÿä¸€å®Œæ•´çš„æœåŠ¡ @liuc"),e(a)])]),n("li",null,[n("a",w,[s("æœ¬èŠ‚è§£å¯†äº†ClassPathXmlApplicationContext @èµ›åšä¸çœŸ"),e(a)])]),n("li",null,[n("a",P,[s("éœ€è¦ç†è§£ä¸Šä¸‹æ–‡refreshçš„æµç¨‹ã€BeanDefinitionä¿®æ”¹æ—¶æœºã€Beanå®ä¾‹ä¿®æ”¹æ—¶æœº @å‚…å“¥åæ´ä¼šä¼šé•¿"),e(a)])]),n("li",null,[n("a",x,[s("Situation æœ¬ç« å°†ç»§ç»­é’ˆå¯¹æµ‹è¯•ç”¨ä¾‹ä¸­çš„BeanFactoryåŠ è½½spring.xmlè¿™ä¸ªåœ°æ–¹æ¥åšè¿›ä¸€æ­¥çš„æ•´åˆã€‚@åˆ˜å°ç™½"),e(a)])]),n("li",null,[n("a",q,[s("åŸºäº Spring çš„ç»„ä»¶è®¾è®¡æ—¶ï¼Œéœ€è¦ç»§æ‰¿æˆ–å®ç° Spring å¯¹å¤–æš´éœ²çš„ç±»æˆ–æ¥å£ @æ°´ä¸­ææœˆ"),e(a)])]),n("li",null,[n("a",F,[s("åœ¨æ£€æµ‹æ˜¯å¦é…ç½®äº†init-methodæ–¹æ³•ï¼Œå¦‚æœè¿›è¡Œäº†é…ç½®è¿›è¡Œå¤„ç†è¿›è¡Œåç½®å¤„ç† @Liuliuliu"),e(a)])]),n("li",null,[n("a",j,[s("çœ‹è§ApplicationContextæ—¶å¼•èµ·äº†æˆ‘çš„é«˜åº¦é‡è§†ï¼Œå› ä¸ºæ­¤å‰åœ¨springä¸­å’Œå…¶æ‰“äº†å¤ªå¤šäº¤é“ @åœ¨ä¹æœˆ"),e(a)])]),n("li",null,[n("a",S,[s("åœ¨æ‰§è¡Œå®Œæ³¨å†Œ BeanDefinition åï¼Œæ‰§è¡Œæ­¤æ¥å£çš„å®ç°ç±»å¯¹è±¡çš„æ–¹æ³• @mkii"),e(a)])]),n("li",null,[n("a",_,[s("ApplicationContext æ¥å£æ»¡è¶³è‡ªåŠ¨è¯†åˆ«ã€èµ„æºåŠ è½½ã€å®¹å™¨äº‹ä»¶ã€ç›‘å¬å™¨ç­‰åŠŸèƒ½ @å°æ±¤å“¥"),e(a)])])])])}const I=p(l,[["render",C],["__file","2021-06-17-di7zhangï¼šsuoxiangpimiï¼Œshixianyingyongshangxiawenï¼Œzidongshibieã€ziyuanjiazaiã€kuozhanjizhi.html.vue"]]);export{I as default};
