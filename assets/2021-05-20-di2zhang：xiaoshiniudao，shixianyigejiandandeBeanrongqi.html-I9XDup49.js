import{_ as t,r as i,o as p,c,a as n,b as a,d as e,e as o}from"./app-3RcBQnkC.js";const l={},r=n("h1",{id:"ã€Šspring-æ‰‹æ’¸ä¸“æ ã€‹ç¬¬-2-ç« -å°è¯•ç‰›åˆ€-å®ç°ä¸€ä¸ªç®€å•çš„beanå®¹å™¨",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ã€Šspring-æ‰‹æ’¸ä¸“æ ã€‹ç¬¬-2-ç« -å°è¯•ç‰›åˆ€-å®ç°ä¸€ä¸ªç®€å•çš„beanå®¹å™¨","aria-hidden":"true"},"#"),a(" ã€ŠSpring æ‰‹æ’¸ä¸“æ ã€‹ç¬¬ 2 ç« ï¼šå°è¯•ç‰›åˆ€ï¼Œå®ç°ä¸€ä¸ªç®€å•çš„Beanå®¹å™¨")],-1),u=n("br",null,null,-1),d={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},k=n("br",null,null,-1),v={href:"https://mp.weixin.qq.com/s/fiWX6abSCiUKHAUa-HKg4A",target:"_blank",rel:"noopener noreferrer"},b=o(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>ä¸Šå­¦æ—¶ï¼Œè€å¸ˆæ€»è¯´ï¼šä¸ä¼šä½ å°±é—®ï¼Œä½†å¤šæ•°æ—¶å€™éƒ½ä¸çŸ¥é“è¦é—®ä»€ä¹ˆï¼</code></p><p>ä½ æ€»ä¼šåœ¨å°å‚…å“¥çš„æ–‡ç« å‰è¨€é‡Œï¼Œå‘ç°ä¸€äº›å…³äºæˆé•¿ã€å­¦ä¹ ã€æ„Ÿæ‚Ÿä»¥åŠå¯¹å½“ç¯‡å†…å®¹çš„ä¸€ä¸ªä»‹ç»ï¼Œå…¶å®ä¹‹æ‰€ä»¥å†™è¿™æ ·çš„é“ºå«æ€§å†…å®¹ï¼Œä¸»è¦æ˜¯ä¸ºäº†è®©å¤§å®¶å¯¹æ¥ä¸‹æ¥çš„å†…å®¹å­¦ä¹ æœ‰ä¸€ä¸ªè¾ƒè½»æ¾çš„å¼€åœºå’Œè¿‡åº¦ã€‚</p><p>å°±åƒæˆ‘ä»¬ä¸Šå­¦æ—¶å¦‚æœæŸä¸€ç§‘çš„å†…å®¹ä¸ä¼šæ—¶ï¼Œè€å¸ˆç»å¸¸ä¼šè¯´ï¼Œä½ æœ‰ä¸ä¼šçš„å°±è¦é—®ã€‚ä½†å¯¹äºå­¦ç”Ÿæœ¬èº«æ¥è®²ï¼Œå¯èƒ½å·²ç»ä¸ä¼šçš„å¤ªå¤šäº†ï¼Œæˆ–è€…å‹æ ¹ä¸çŸ¥é“è‡ªå·±ä¸ä¼šä»€ä¹ˆï¼Œåªæœ‰ç­‰çœ‹åˆ°è€å¸ˆå‡ºå®Œçš„è¯•å·æ‰å‘ç°è‡ªå·±ä»€ä¹ˆéƒ½ä¸ä¼šã€‚ä½†è¦æ˜¯è®©é—®ï¼Œåˆä¸çŸ¥é“ä»å“ªé—®ï¼Œé—®å‡ºèåœå¸¦å‡ºæ³¥ï¼Œåˆ°å¤„éƒ½æ˜¯çŸ¥è¯†æ¼æ´ã€‚</p><p>æ‰€ä»¥æˆ‘å¸Œæœ›ç”¨ä¸€äº›å‰ç½®å†…å®¹çš„é“ºå«ï¼Œè®©å¤§å®¶å¯ä»¥åœ¨ä¸€ä¸ªç¨æœ‰å…±è¯†çš„åœºæ™¯ä¸‹è¿›è¡Œå­¦ä¹ ï¼Œæˆ–å¤šæˆ–å°‘èƒ½ä¸ºä½ é“ºå«å‡ºä¸€ä¸ªç¨è®¸å¹³ç¼“çš„æ¥å—æœŸã€‚æœ‰å¯èƒ½æŸäº›æ—¶å€™ä¹Ÿä¼šæ‰“æ‰“é¸¡è¡€ã€åˆºæ¿€åˆºæ¿€å­¦ä¹ ã€æ€»å½’æŠŠçŸ¥è¯†å­¦åˆ°æ‰‹å°±æ˜¯å¥½çš„ï¼</p><h2 id="äºŒã€ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#äºŒã€ç›®æ ‡" aria-hidden="true">#</a> äºŒã€ç›®æ ‡</h2><p><code>Spring Bean å®¹å™¨æ˜¯ä»€ä¹ˆï¼Ÿ</code></p><p>Spring åŒ…å«å¹¶ç®¡ç†åº”ç”¨å¯¹è±¡çš„é…ç½®å’Œç”Ÿå‘½å‘¨æœŸï¼Œåœ¨è¿™ä¸ªæ„ä¹‰ä¸Šå®ƒæ˜¯ä¸€ç§ç”¨äºæ‰¿è½½å¯¹è±¡çš„å®¹å™¨ï¼Œä½ å¯ä»¥é…ç½®ä½ çš„æ¯ä¸ª Bean å¯¹è±¡æ˜¯å¦‚ä½•è¢«åˆ›å»ºçš„ï¼Œè¿™äº› Bean å¯ä»¥åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„å®ä¾‹æˆ–è€…æ¯æ¬¡éœ€è¦æ—¶éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„å®ä¾‹ï¼Œä»¥åŠå®ƒä»¬æ˜¯å¦‚ä½•ç›¸äº’å…³è”æ„å»ºå’Œä½¿ç”¨çš„ã€‚</p><p>å¦‚æœä¸€ä¸ª Bean å¯¹è±¡äº¤ç»™ Spring å®¹å™¨ç®¡ç†ï¼Œé‚£ä¹ˆè¿™ä¸ª Bean å¯¹è±¡å°±åº”è¯¥ä»¥ç±»ä¼¼é›¶ä»¶çš„æ–¹å¼è¢«æ‹†è§£åå­˜æ”¾åˆ° Bean çš„å®šä¹‰ä¸­ï¼Œè¿™æ ·ç›¸å½“äºä¸€ç§æŠŠå¯¹è±¡è§£è€¦çš„æ“ä½œï¼Œå¯ä»¥ç”± Spring æ›´åŠ å®¹æ˜“çš„ç®¡ç†ï¼Œå°±åƒå¤„ç†å¾ªç¯ä¾èµ–ç­‰æ“ä½œã€‚</p><p>å½“ä¸€ä¸ª Bean å¯¹è±¡è¢«å®šä¹‰å­˜æ”¾ä»¥åï¼Œå†ç”± Spring ç»Ÿä¸€è¿›è¡Œè£…é…ï¼Œè¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬ Bean çš„åˆå§‹åŒ–ã€å±æ€§å¡«å……ç­‰ï¼Œæœ€ç»ˆæˆ‘ä»¬å°±å¯ä»¥å®Œæ•´çš„ä½¿ç”¨ä¸€ä¸ª Bean å®ä¾‹åŒ–åçš„å¯¹è±¡äº†ã€‚</p><p>è€Œæˆ‘ä»¬æœ¬ç« èŠ‚çš„æ¡ˆä¾‹ç›®æ ‡å°±æ˜¯å®šä¹‰ä¸€ä¸ªç®€å•çš„ Spring å®¹å™¨ï¼Œç”¨äºå®šä¹‰ã€å­˜æ”¾å’Œè·å– Bean å¯¹è±¡ã€‚</p><h2 id="ä¸‰ã€è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€è®¾è®¡" aria-hidden="true">#</a> ä¸‰ã€è®¾è®¡</h2><p>å‡¡æ˜¯å¯ä»¥å­˜æ”¾æ•°æ®çš„å…·ä½“æ•°æ®ç»“æ„å®ç°ï¼Œéƒ½å¯ä»¥ç§°ä¹‹ä¸ºå®¹å™¨ã€‚ä¾‹å¦‚ï¼šArrayListã€LinkedListã€HashSetç­‰ï¼Œä½†åœ¨ Spring Bean å®¹å™¨çš„åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§å¯ä»¥ç”¨äºå­˜æ”¾å’Œåç§°ç´¢å¼•å¼çš„æ•°æ®ç»“æ„ï¼Œæ‰€ä»¥é€‰æ‹© HashMap æ˜¯æœ€åˆé€‚ä¸è¿‡çš„ã€‚</p><p>è¿™é‡Œç®€å•ä»‹ç»ä¸€ä¸‹ HashMapï¼ŒHashMap æ˜¯ä¸€ç§åŸºäºæ‰°åŠ¨å‡½æ•°ã€è´Ÿè½½å› å­ã€çº¢é»‘æ ‘è½¬æ¢ç­‰æŠ€æœ¯å†…å®¹ï¼Œå½¢æˆçš„æ‹‰é“¾å¯»å€çš„æ•°æ®ç»“æ„ï¼Œå®ƒèƒ½è®©æ•°æ®æ›´åŠ æ•£åˆ—çš„åˆ†å¸ƒåœ¨å“ˆå¸Œæ¡¶ä»¥åŠç¢°æ’æ—¶å½¢æˆçš„é“¾è¡¨å’Œçº¢é»‘æ ‘ä¸Šã€‚å®ƒçš„æ•°æ®ç»“æ„ä¼šå°½å¯èƒ½æœ€å¤§é™åº¦çš„è®©æ•´ä¸ªæ•°æ®è¯»å–çš„å¤æ‚åº¦åœ¨ O(1) ~ O(Logn) ~O(n)ä¹‹é—´ï¼Œå½“ç„¶åœ¨æç«¯æƒ…å†µä¸‹ä¹Ÿä¼šæœ‰ O(n) é“¾è¡¨æŸ¥æ‰¾æ•°æ®è¾ƒå¤šçš„æƒ…å†µã€‚ä¸è¿‡æˆ‘ä»¬ç»è¿‡10ä¸‡æ•°æ®çš„æ‰°åŠ¨å‡½æ•°å†å¯»å€éªŒè¯æµ‹è¯•ï¼Œæ•°æ®ä¼šå‡åŒ€çš„æ•£åˆ—åœ¨å„ä¸ªå“ˆå¸Œæ¡¶ç´¢å¼•ä¸Šï¼Œæ‰€ä»¥ HashMap éå¸¸é€‚åˆç”¨åœ¨ Spring Bean çš„å®¹å™¨å®ç°ä¸Šã€‚</p><p>å¦å¤–ä¸€ä¸ªç®€å•çš„ Spring Bean å®¹å™¨å®ç°ï¼Œè¿˜éœ€ Bean çš„å®šä¹‰ã€æ³¨å†Œã€è·å–ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤ï¼Œç®€åŒ–è®¾è®¡å¦‚ä¸‹ï¼›</p><p><img src="https://bugstack.cn/assets/images/spring/spring-2-01.png" alt=""></p><ul><li>å®šä¹‰ï¼šBeanDefinitionï¼Œå¯èƒ½è¿™æ˜¯ä½ åœ¨æŸ¥é˜… Spring æºç æ—¶ç»å¸¸çœ‹åˆ°çš„ä¸€ä¸ªç±»ï¼Œä¾‹å¦‚å®ƒä¼šåŒ…æ‹¬ singletonã€prototypeã€BeanClassName ç­‰ã€‚ä½†ç›®å‰æˆ‘ä»¬åˆæ­¥å®ç°ä¼šæ›´åŠ ç®€å•çš„å¤„ç†ï¼Œåªå®šä¹‰ä¸€ä¸ª Object ç±»å‹ç”¨äºå­˜æ”¾å¯¹è±¡ã€‚</li><li>æ³¨å†Œï¼šè¿™ä¸ªè¿‡ç¨‹å°±ç›¸å½“äºæˆ‘ä»¬æŠŠæ•°æ®å­˜æ”¾åˆ° HashMap ä¸­ï¼Œåªä¸è¿‡ç°åœ¨ HashMap å­˜æ”¾çš„æ˜¯å®šä¹‰äº†çš„ Bean çš„å¯¹è±¡ä¿¡æ¯ã€‚</li><li>è·å–ï¼šæœ€åå°±æ˜¯è·å–å¯¹è±¡ï¼ŒBean çš„åå­—å°±æ˜¯keyï¼ŒSpring å®¹å™¨åˆå§‹åŒ–å¥½ Bean ä»¥åï¼Œå°±å¯ä»¥ç›´æ¥è·å–äº†ã€‚</li></ul><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±æŒ‰ç…§è¿™ä¸ªè®¾è®¡ï¼Œåšä¸€ä¸ªç®€å•çš„ Spring Bean å®¹å™¨ä»£ç å®ç°ã€‚<em>ç¼–ç çš„è¿‡ç¨‹å¾€å¾€å¹¶ä¸ä¼šæœ‰å¤šå¤æ‚ï¼Œä½†çŸ¥æ™“è®¾è®¡è¿‡ç¨‹å´æ›´åŠ é‡è¦ï¼</em></p><h2 id="å››ã€å®ç°" tabindex="-1"><a class="header-anchor" href="#å››ã€å®ç°" aria-hidden="true">#</a> å››ã€å®ç°</h2><h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>small<span class="token operator">-</span>spring<span class="token operator">-</span>step<span class="token operator">-</span><span class="token number">01</span>
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â””â”€â”€ java
    â”‚       â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>springframework
    â”‚           â”œâ”€â”€ <span class="token class-name">BeanDefinition</span><span class="token punctuation">.</span>java
    â”‚           â””â”€â”€ <span class="token class-name">BeanFactory</span><span class="token punctuation">.</span>java
    â””â”€â”€ test
        â””â”€â”€ java
            â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>test  
                â”œâ”€â”€ bean
                â”‚   â””â”€â”€ <span class="token class-name">UserService</span><span class="token punctuation">.</span>java                
                â””â”€â”€ <span class="token class-name">ApiTest</span><span class="token punctuation">.</span>java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å·¥ç¨‹æºç </strong>ï¼š<code>å…¬ä¼—å·ã€Œbugstackè™«æ´æ ˆã€ï¼Œå›å¤ï¼šSpring ä¸“æ ï¼Œè·å–å®Œæ•´æºç </code></p><p>Spring Bean å®¹å™¨ç±»å…³ç³»ï¼Œå¦‚å›¾ 2-2</p><p><img src="https://bugstack.cn/assets/images/spring/spring-2-02.png" alt="å›¾ 2-2"></p><p>Spring Bean å®¹å™¨çš„æ•´ä¸ªå®ç°å†…å®¹éå¸¸ç®€å•ï¼Œä¹Ÿä»…ä»…æ˜¯åŒ…æ‹¬äº†ä¸€ä¸ªç®€å•çš„ BeanFactory å’Œ BeanDefinitionï¼Œè¿™é‡Œçš„ç±»åç§°æ˜¯ä¸ Spring æºç ä¸­ä¸€è‡´ï¼Œåªä¸è¿‡ç°åœ¨çš„ç±»å®ç°ä¼šç›¸å¯¹æ¥è¯´æ›´ç®€åŒ–ä¸€äº›ï¼Œåœ¨åç»­çš„å®ç°è¿‡ç¨‹ä¸­å†ä¸æ–­çš„æ·»åŠ å†…å®¹ã€‚</p><ol><li>BeanDefinitionï¼Œç”¨äºå®šä¹‰ Bean å®ä¾‹åŒ–ä¿¡æ¯ï¼Œç°åœ¨çš„å®ç°æ˜¯ä»¥ä¸€ä¸ª Object å­˜æ”¾å¯¹è±¡</li><li>BeanFactoryï¼Œä»£è¡¨äº† Bean å¯¹è±¡çš„å·¥å‚ï¼Œå¯ä»¥å­˜æ”¾ Bean å®šä¹‰åˆ° Map ä¸­ä»¥åŠè·å–ã€‚</li></ol><h3 id="_2-bean-å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#_2-bean-å®šä¹‰" aria-hidden="true">#</a> 2. Bean å®šä¹‰</h3><p><strong>cn.bugstack.springframework.BeanDefinition</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanDefinition</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Object</span> bean<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">BeanDefinition</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bean <span class="token operator">=</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç›®å‰çš„ Bean å®šä¹‰ä¸­ï¼Œåªæœ‰ä¸€ä¸ª Object ç”¨äºå­˜æ”¾ Bean å¯¹è±¡ã€‚å¦‚æœæ„Ÿå…´è¶£å¯ä»¥å‚è€ƒ Spring æºç ä¸­è¿™ä¸ªç±»çš„ä¿¡æ¯ï¼Œåç§°éƒ½æ˜¯ä¸€æ ·çš„ã€‚</li><li>ä¸è¿‡åœ¨åé¢é™†ç»­çš„å®ç°ä¸­ä¼šé€æ­¥å®Œå–„ BeanDefinition ç›¸å…³å±æ€§çš„å¡«å……ï¼Œä¾‹å¦‚ï¼šSCOPE_SINGLETONã€SCOPE_PROTOTYPEã€ROLE_APPLICATIONã€ROLE_SUPPORTã€ROLE_INFRASTRUCTURE ä»¥åŠ Bean Class ä¿¡æ¯ã€‚</li></ul><h3 id="_3-bean-å·¥å‚" tabindex="-1"><a class="header-anchor" href="#_3-bean-å·¥å‚" aria-hidden="true">#</a> 3. Bean å·¥å‚</h3><p><strong>cn.bugstack.springframework.BeanFactory</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BeanFactory</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">BeanDefinition</span><span class="token punctuation">&gt;</span></span> beanDefinitionMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> beanDefinitionMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">BeanDefinition</span> beanDefinition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        beanDefinitionMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> beanDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ Bean å·¥å‚çš„å®ç°ä¸­ï¼ŒåŒ…æ‹¬äº† Bean çš„æ³¨å†Œï¼Œè¿™é‡Œæ³¨å†Œçš„æ˜¯ Bean çš„å®šä¹‰ä¿¡æ¯ã€‚åŒæ—¶åœ¨è¿™ä¸ªç±»ä¸­è¿˜åŒ…æ‹¬äº†è·å– Bean çš„æ“ä½œã€‚</li><li>ç›®å‰çš„ BeanFactory ä»ç„¶æ˜¯éå¸¸ç®€åŒ–çš„å®ç°ï¼Œä½†è¿™ç§ç®€åŒ–çš„å®ç°å†…å®¹ä¹Ÿæ˜¯æ•´ä¸ª Spring å®¹å™¨ä¸­å…³äº Bean ä½¿ç”¨çš„æœ€ç»ˆä½“ç°ç»“æœï¼Œåªä¸è¿‡å®ç°è¿‡ç¨‹åªå±•ç¤ºå‡ºåŸºæœ¬çš„æ ¸å¿ƒåŸç†ã€‚åœ¨åç»­çš„è¡¥å……å®ç°ä¸­ï¼Œè¿™ä¸ªä¼šä¸æ–­å˜å¾—åºå¤§ã€‚</li></ul><h2 id="äº”ã€æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#äº”ã€æµ‹è¯•" aria-hidden="true">#</a> äº”ã€æµ‹è¯•</h2><h3 id="_1-äº‹å…ˆå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#_1-äº‹å…ˆå‡†å¤‡" aria-hidden="true">#</a> 1. äº‹å…ˆå‡†å¤‡</h3><p><strong>cn.bugstack.springframework.test.bean.UserService</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">queryUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œç®€å•å®šä¹‰äº†ä¸€ä¸ª UserService å¯¹è±¡ï¼Œæ–¹ä¾¿æˆ‘ä»¬åç»­å¯¹ Spring å®¹å™¨æµ‹è¯•ã€‚</li></ul><h3 id="_2-æµ‹è¯•ç”¨ä¾‹" tabindex="-1"><a class="header-anchor" href="#_2-æµ‹è¯•ç”¨ä¾‹" aria-hidden="true">#</a> 2. æµ‹è¯•ç”¨ä¾‹</h3><p><strong>cn.bugstack.springframework.test.ApiTest</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_BeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 1.åˆå§‹åŒ– BeanFactory</span>
    <span class="token class-name">BeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BeanFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 2.æ³¨å†Œ bean</span>
    <span class="token class-name">BeanDefinition</span> beanDefinition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BeanDefinition</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    beanFactory<span class="token punctuation">.</span><span class="token function">registerBeanDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">,</span> beanDefinition<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// 3.è·å– bean</span>
    <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    userService<span class="token punctuation">.</span><span class="token function">queryUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨å•æµ‹ä¸­ä¸»è¦åŒ…æ‹¬åˆå§‹åŒ– Bean å·¥å‚ã€æ³¨å†Œ Beanã€è·å– Beanï¼Œä¸‰ä¸ªæ­¥éª¤ï¼Œä½¿ç”¨æ•ˆæœä¸Šè´´è¿‘ä¸ Springï¼Œä½†æ˜¾å¾—ä¼šæ›´ç®€åŒ–ã€‚</li><li>åœ¨ Bean çš„æ³¨å†Œä¸­ï¼Œè¿™é‡Œæ˜¯ç›´æ¥æŠŠ UserService å®ä¾‹åŒ–åä½œä¸ºå…¥å‚ä¼ é€’ç»™ BeanDefinition çš„ï¼Œåœ¨åç»­çš„é™†ç»­å®ç°ä¸­ï¼Œæˆ‘ä»¬ä¼šæŠŠè¿™éƒ¨åˆ†å†…å®¹æ”¾å…¥ Bean å·¥å‚ä¸­å®ç°ã€‚</li></ul><h3 id="_3-æµ‹è¯•ç»“æœ" tabindex="-1"><a class="header-anchor" href="#_3-æµ‹è¯•ç»“æœ" aria-hidden="true">#</a> 3. æµ‹è¯•ç»“æœ</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡æµ‹è¯•ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œç›®å‰çš„ Spring Bean å®¹å™¨æ¡ˆä¾‹ï¼Œå·²ç»ç¨æœ‰é›å½¢ã€‚</li></ul><h2 id="å…­ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å…­ã€æ€»ç»“" aria-hidden="true">#</a> å…­ã€æ€»ç»“</h2><ul><li>æ•´ç¯‡å…³äº Spring Bean å®¹å™¨çš„ä¸€ä¸ªé›å½¢å°±å·²ç»å®ç°å®Œæˆäº†ï¼Œç›¸å¯¹æ¥è¯´è¿™éƒ¨åˆ†ä»£ç å¹¶ä¸ä¼šéš¾ä½ä»»ä½•äººï¼Œåªè¦ä½ ç¨åŠ å°è¯•å°±å¯ä»¥æ¥å—è¿™éƒ¨åˆ†å†…å®¹çš„å®ç°ã€‚</li><li>ä½†å¯¹äºä¸€ä¸ªçŸ¥è¯†çš„å­¦ä¹ æ¥è¯´ï¼Œå†™ä»£ç åªæ˜¯æœ€åçš„æ­¥éª¤ï¼Œå¾€å¾€æ•´ä¸ªæ€è·¯ã€è®¾è®¡ã€æ–¹æ¡ˆï¼Œæ‰æ›´é‡è¦ï¼Œåªè¦ä½ çŸ¥é“äº†å› ä¸ºä»€ä¹ˆã€æ‰€ä»¥ä»€ä¹ˆï¼Œæ‰èƒ½è®©ä½ æœ‰ä¸€ä¸ªçœŸæ­£çš„ç†è§£ã€‚</li><li>ä¸‹ä¸€ç« èŠ‚ä¼šåœ¨æ­¤å·¥ç¨‹åŸºç¡€ä¸Šæ‰©å®¹å®ç°ï¼Œè¦æ¯”ç°åœ¨çš„ç±»å¤šä¸€äº›ã€‚ä¸è¿‡æ¯ä¸€ç¯‡çš„å®ç°ä¸Šï¼Œæˆ‘éƒ½ä¼šä»¥ä¸€ä¸ªéœ€æ±‚è§†è§’è¿›è¡Œç›®æ ‡åˆ†æå’Œæ–¹æ¡ˆè®¾è®¡ï¼Œè®©å¤§å®¶åœ¨å­¦ä¹ ç¼–ç ä¹‹å¤–æ›´èƒ½æ³¨é‡æ›´å¤šæŠ€æœ¯ä»·å€¼çš„å­¦ä¹ ã€‚</li></ul><h2 id="ä¸ƒã€ä¼˜ç§€ä½œä¸š" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€ä¼˜ç§€ä½œä¸š" aria-hidden="true">#</a> ä¸ƒã€ä¼˜ç§€ä½œä¸š</h2>`,50),m={href:"https://t.zsxq.com/07Or409lv",target:"_blank",rel:"noopener noreferrer"},h={href:"https://t.zsxq.com/08cTtlygk",target:"_blank",rel:"noopener noreferrer"},g={href:"https://t.zsxq.com/081RfLAlL",target:"_blank",rel:"noopener noreferrer"},f={href:"https://t.zsxq.com/08sg1lCFX",target:"_blank",rel:"noopener noreferrer"},B={href:"https://t.zsxq.com/09cnRyTu2",target:"_blank",rel:"noopener noreferrer"},_={href:"https://t.zsxq.com/09mIgDsm0",target:"_blank",rel:"noopener noreferrer"},S={href:"https://t.zsxq.com/0a2mcHw7w",target:"_blank",rel:"noopener noreferrer"};function y(w,x){const s=i("ExternalLinkIcon");return p(),c("div",null,[r,n("p",null,[a("ä½œè€…ï¼šå°å‚…å“¥ "),u,a("åšå®¢ï¼š"),n("a",d,[a("https://bugstack.cn"),e(s)]),k,a("åŸæ–‡ï¼š"),n("a",v,[a("https://mp.weixin.qq.com/s/fiWX6abSCiUKHAUa-HKg4A"),e(s)])]),b,n("ul",null,[n("li",null,[n("a",m,[a("æ¨¡æ‹ŸSpringï¼Œåˆ›å»ºç®€å•çš„Beanå®¹å™¨ @åˆ˜å°ç™½"),e(s)])]),n("li",null,[n("a",h,[a("å®šä¹‰ä¸€ä¸ªç®€å•çš„ Spring å®¹å™¨ï¼Œç”¨äºå®šä¹‰ã€å­˜æ”¾å’Œè·å– Bean å¯¹è±¡ã€‚@æ°´ä¸­ææœˆ"),e(s)])]),n("li",null,[n("a",g,[a("å®ç°ä¸€ä¸ªç®€å•çš„ Spring å®¹å™¨ @å¾®é£"),e(s)])]),n("li",null,[n("a",f,[a("å•ä¾‹çš„Beanæ³¨å†Œè¡¨æ¥å£ - ä¸»è¦æ˜¯æä¾› è·å–å•ä¾‹Beanå’Œæ³¨å†Œå•ä¾‹å¯¹è±¡æ–¹æ³• @åˆ˜æºœæºœ"),e(s)])]),n("li",null,[n("a",B,[a("åˆ›å»ºä¸€ä¸ªç®€å•çš„springå®¹å™¨ï¼Œéœ€è¦å®ç°beançš„å®šä¹‰ã€æ³¨å†Œã€è·å– @Doraemon"),e(s)])]),n("li",null,[n("a",_,[a("å°†å¯¹è±¡å’Œä»£è¡¨å¯¹è±¡çš„å®ä¾‹ä¿¡æ¯(BeanDefinition)è¿›è¡ŒåŒºåˆ† @Liuliuliu"),e(s)])]),n("li",null,[n("a",S,[a(")ä¿®æ”¹beanDefinitionä¸­Objectå¯¹è±¡ä¸ºClasså¯¹è±¡ï¼Œå°†åˆ›å»ºå¯¹è±¡å·¥ä½œäº¤ç»™å®¹å™¨å®ç° @å°æ±¤å“¥"),e(s)])])])])}const D=t(l,[["render",y],["__file","2021-05-20-di2zhangï¼šxiaoshiniudaoï¼ŒshixianyigejiandandeBeanrongqi.html.vue"]]);export{D as default};
