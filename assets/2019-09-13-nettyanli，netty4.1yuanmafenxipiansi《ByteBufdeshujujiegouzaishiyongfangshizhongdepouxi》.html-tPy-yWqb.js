import{_ as t,r as p,o as e,c as o,a as n,b as s,d as c,e as l}from"./app-3RcBQnkC.js";const u={},i=n("h1",{id:"nettyæ¡ˆä¾‹-netty4-1æºç åˆ†æç¯‡å››ã€Šbytebufçš„æ•°æ®ç»“æ„åœ¨ä½¿ç”¨æ–¹å¼ä¸­çš„å‰–æã€‹",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#nettyæ¡ˆä¾‹-netty4-1æºç åˆ†æç¯‡å››ã€Šbytebufçš„æ•°æ®ç»“æ„åœ¨ä½¿ç”¨æ–¹å¼ä¸­çš„å‰–æã€‹","aria-hidden":"true"},"#"),s(" nettyæ¡ˆä¾‹ï¼Œnetty4.1æºç åˆ†æç¯‡å››ã€ŠByteBufçš„æ•°æ®ç»“æ„åœ¨ä½¿ç”¨æ–¹å¼ä¸­çš„å‰–æã€‹")],-1),k=n("br",null,null,-1),r={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=l(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="å‰è¨€ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#å‰è¨€ä»‹ç»" aria-hidden="true">#</a> å‰è¨€ä»‹ç»</h2><p>åœ¨Nettyä¸­ByteBufæ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„ç±»ï¼Œå®ƒå¯ä»¥ä»¥é«˜æ•ˆæ˜“ç”¨çš„æ•°æ®ç»“æ„æ–¹å¼æ¥æ»¡è¶³ç½‘ç»œé€šä¿¡è¿‡ç¨‹ä¸­å¤„ç†æ•°æ®åŒ…å†…å­—èŠ‚ç åºåˆ—çš„ç§»åŠ¨ã€‚</p><h2 id="æ•°æ®ç»“æ„" tabindex="-1"><a class="header-anchor" href="#æ•°æ®ç»“æ„" aria-hidden="true">#</a> æ•°æ®ç»“æ„</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
 <span class="token operator">|</span> discardable bytes <span class="token operator">|</span>  readable bytes  <span class="token operator">|</span>  writable bytes  <span class="token operator">|</span>
 <span class="token operator">|</span>                   <span class="token operator">|</span>     <span class="token punctuation">(</span><span class="token constant">CONTENT</span><span class="token punctuation">)</span>    <span class="token operator">|</span>                  <span class="token operator">|</span>
 <span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
 <span class="token operator">|</span>                   <span class="token operator">|</span>                  <span class="token operator">|</span>                  <span class="token operator">|</span>
 <span class="token number">0</span>      <span class="token operator">&lt;=</span>      readerIndex   <span class="token operator">&lt;=</span>   writerIndex    <span class="token operator">&lt;=</span>    capacity
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é‚£ä¹ˆè¿™ç§æ•°æ®ç»“æ„ä¹‹æ‰€ä»¥èƒ½é«˜æ•ˆçš„å¤„ç†æ•°æ®ä¼ è¾“å¤„ç†å¹¶è§£å†³åŠåŒ…ç²˜åŒ…ï¼Œä¸»è¦å¾—ç›ŠäºByteBufä¸­æœ‰ä¸¤ä¸ªä¸åŒçš„ç´¢å¼•ï¼›è¯»ç´¢å¼•(readIndex)ã€å†™ç´¢å¼•(writerIndex)ã€‚ è¯»ç´¢å¼•ï¼šå½“æˆ‘ä»¬ä»ByteBufè¯»å–æ•°æ®æ—¶ï¼ŒreaderIndexæŒ‡é’ˆä½ç½®ä¹Ÿä¼šæŒ‡å‘åˆ°è¯»å–å­—èŠ‚ä½ç½® å†™ç´¢å¼•ï¼šå½“æˆ‘ä»¬å‘ByteBufå†™å…¥æ•°æ®æ—¶ï¼ŒwriterIndexæŒ‡é’ˆä½ç½®ä¹Ÿä¼šæŒ‡å‘åˆ°å†™å…¥å­—èŠ‚ä½ç½®</p><p>discardable bytesï¼šå½“ä»ByteBufè¯»å–ä¸€éƒ¨åˆ†æ•°æ®åï¼Œè¿™éƒ¨åˆ†æ•°æ®å°±å±äºdiscardableï¼Œä»–ä»¬æ˜¯å¯ä»¥è¢«åºŸå¼ƒçš„ã€‚ readable bytesï¼šå‰©ä½™å¯ä»¥ç»§ç»­è¯»å–çš„å†…å®¹åŒºåŸŸï¼Œå°±åƒä¸€ä¸ªé•¿æ¡çš„é¸¡è›‹å¡æ§½ï¼Œä¸€è¾¹æ”¾ä¸€è¾¹æ‹¿ã€‚ä»å·²ç»æ‹¿å®Œåˆ°å‰©ä½™çš„é¸¡è›‹ä½ç½®å±äºå¯æ‹¿åŒºåŸŸã€‚ writable bytesï¼šåŒä¸Šä¸€æ ·ï¼Œè¿™ä¸€éƒ¨åˆ†å°±æ˜¯å¯ä»¥ç»§ç»­æ”¾ç½®é¸¡è›‹çš„ä½ç½®ã€‚</p><h2 id="åŠŸèƒ½æ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#åŠŸèƒ½æ¡ˆä¾‹" aria-hidden="true">#</a> åŠŸèƒ½æ¡ˆä¾‹</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 62 75 67 73 74 61 63 6B B3 E6 B6 B4 D5 BB</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">UnsupportedEncodingException</span> <span class="token punctuation">{</span>
	<span class="token comment">// 1.åˆ›å»ºä¸€ä¸ªéæ± åŒ–çš„ByteBufï¼Œå¤§å°ä¸º14ä¸ªå­—èŠ‚</span>
	<span class="token class-name">ByteBuf</span> buffer <span class="token operator">=</span> <span class="token class-name">Unpooled</span><span class="token punctuation">.</span><span class="token function">buffer</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1.åˆ›å»ºä¸€ä¸ªéæ± åŒ–çš„ByteBufï¼Œå¤§å°ä¸º14ä¸ªå­—èŠ‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ByteBufç©ºé—´å¤§å°ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">capacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 2.å†™å…¥3ä¸ªå­—èŠ‚</span>
	buffer<span class="token punctuation">.</span><span class="token function">writeByte</span><span class="token punctuation">(</span><span class="token number">62</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	buffer<span class="token punctuation">.</span><span class="token function">writeByte</span><span class="token punctuation">(</span><span class="token number">75</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	buffer<span class="token punctuation">.</span><span class="token function">writeByte</span><span class="token punctuation">(</span><span class="token number">67</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\r\\n2.å†™å…¥3ä¸ªå­—èŠ‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;readerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;writerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">writerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 3.å†™å…¥ä¸€æ®µå­—èŠ‚</span>
	<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">73</span><span class="token punctuation">,</span> <span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">,</span> <span class="token number">0x6B</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	buffer<span class="token punctuation">.</span><span class="token function">writeBytes</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\r\\n3.å†™å…¥ä¸€æ®µå­—èŠ‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;readerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;writerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">writerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 4.è¯»å–å…¨éƒ¨å†…å®¹</span>
	<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> allBytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>buffer<span class="token punctuation">.</span><span class="token function">readableBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	buffer<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span>allBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\r\\n4.è¯»å–å…¨éƒ¨å†…å®¹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;readerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;writerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">writerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯»å–å…¨éƒ¨å†…å®¹ï¼š&quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>allBytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 5.é‡ç½®æŒ‡é’ˆä½ç½®</span>
	buffer<span class="token punctuation">.</span><span class="token function">resetReaderIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\r\\n5.é‡ç½®æŒ‡é’ˆä½ç½®&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;readerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;writerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">writerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 6.è¯»å–3ä¸ªå­—èŠ‚</span>
	<span class="token keyword">byte</span> b0 <span class="token operator">=</span> buffer<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">byte</span> b1 <span class="token operator">=</span> buffer<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">byte</span> b2 <span class="token operator">=</span> buffer<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\r\\n6.è¯»å–3ä¸ªå­—èŠ‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;readerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;writerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">writerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯»å–3ä¸ªå­—èŠ‚ï¼š&quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>b0<span class="token punctuation">,</span> b1<span class="token punctuation">,</span> b2<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 7.è¯»å–ä¸€æ®µå­—èŠ‚</span>
	<span class="token class-name">ByteBuf</span> byteBuf <span class="token operator">=</span> buffer<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dst <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	byteBuf<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span>dst<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\r\\n7.è¯»å–ä¸€æ®µå­—èŠ‚&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;readerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;writerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">writerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è¯»å–ä¸€æ®µå­—èŠ‚ï¼š&quot;</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>dst<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 8.ä¸¢å¼ƒå·²è¯»å†…å®¹</span>
	buffer<span class="token punctuation">.</span><span class="token function">discardReadBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\r\\n8.ä¸¢å¼ƒå·²è¯»å†…å®¹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;readerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;writerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">writerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 9.æ¸…ç©ºæŒ‡é’ˆä½ç½®</span>
	buffer<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\\r\\n9.æ¸…ç©ºæŒ‡é’ˆä½ç½®&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;readerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;writerIndexä½ç½®ï¼š&quot;</span> <span class="token operator">+</span> buffer<span class="token punctuation">.</span><span class="token function">writerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">// 10.ByteBufä¸­è¿˜æœ‰å¾ˆå¤šå…¶ä»–æ–¹æ³•ï¼›æ‹·è´ã€æ ‡è®°ã€è·³è¿‡å­—èŠ‚ï¼Œå¤šç”¨äºè‡ªå®šä¹‰è§£ç å™¨è¿›è¡ŒåŠåŒ…ç²˜åŒ…å¤„ç†</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">decode</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> channelHandlerContext<span class="token punctuation">,</span> <span class="token class-name">ByteBuf</span> in<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> out<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

	<span class="token comment">//åŸºç¡€é•¿åº¦ä¸è¶³ï¼Œæˆ‘ä»¬è®¾å®šåŸºç¡€é•¿åº¦ä¸º4</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>in<span class="token punctuation">.</span><span class="token function">readableBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token constant">BASE_LENGTH</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">int</span> beginIdx<span class="token punctuation">;</span> <span class="token comment">//è®°å½•åŒ…å¤´ä½ç½®</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// è·å–åŒ…å¤´å¼€å§‹çš„index</span>
		beginIdx <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// æ ‡è®°åŒ…å¤´å¼€å§‹çš„index</span>
		in<span class="token punctuation">.</span><span class="token function">markReaderIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// è¯»åˆ°äº†åè®®çš„å¼€å§‹æ ‡å¿—ï¼Œç»“æŸwhileå¾ªç¯</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>in<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0x02</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">break</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// æœªè¯»åˆ°åŒ…å¤´ï¼Œç•¥è¿‡ä¸€ä¸ªå­—èŠ‚</span>
		<span class="token comment">// æ¯æ¬¡ç•¥è¿‡ï¼Œä¸€ä¸ªå­—èŠ‚ï¼Œå»è¯»å–ï¼ŒåŒ…å¤´ä¿¡æ¯çš„å¼€å§‹æ ‡è®°</span>
		in<span class="token punctuation">.</span><span class="token function">resetReaderIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		in<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// å½“ç•¥è¿‡ï¼Œä¸€ä¸ªå­—èŠ‚ä¹‹åï¼Œ</span>
		<span class="token comment">// æ•°æ®åŒ…çš„é•¿åº¦ï¼Œåˆå˜å¾—ä¸æ»¡è¶³</span>
		<span class="token comment">// æ­¤æ—¶ï¼Œåº”è¯¥ç»“æŸã€‚ç­‰å¾…åé¢çš„æ•°æ®åˆ°è¾¾</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>in<span class="token punctuation">.</span><span class="token function">readableBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token constant">BASE_LENGTH</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span>

	<span class="token comment">//å‰©ä½™é•¿åº¦ä¸è¶³å¯è¯»å–æ•°é‡[æ²¡æœ‰å†…å®¹é•¿åº¦ä½]</span>
	<span class="token keyword">int</span> readableCount <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readableBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>readableCount <span class="token operator">&lt;=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		in<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span>beginIdx<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">//é•¿åº¦åŸŸå 4å­—èŠ‚ï¼Œè¯»å–int</span>
	<span class="token class-name">ByteBuf</span> byteBuf <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">String</span> msgLengthStr <span class="token operator">=</span> byteBuf<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> msgLength <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>msgLengthStr<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//å‰©ä½™é•¿åº¦ä¸è¶³å¯è¯»å–æ•°é‡[æ²¡æœ‰ç»“å°¾æ ‡è¯†]</span>
	readableCount <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readableBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>readableCount <span class="token operator">&lt;</span> msgLength <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		in<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span>beginIdx<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token class-name">ByteBuf</span> msgContent <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readBytes</span><span class="token punctuation">(</span>msgLength<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">//å¦‚æœæ²¡æœ‰ç»“å°¾æ ‡è¯†ï¼Œè¿˜åŸæŒ‡é’ˆä½ç½®[å…¶ä»–æ ‡è¯†ç»“å°¾]</span>
	<span class="token keyword">byte</span> end <span class="token operator">=</span> in<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">!=</span> <span class="token number">0x03</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		in<span class="token punctuation">.</span><span class="token function">readerIndex</span><span class="token punctuation">(</span>beginIdx<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	out<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>msgContent<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å†…å­˜æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#å†…å­˜æ¨¡å‹" aria-hidden="true">#</a> å†…å­˜æ¨¡å‹</h2><p>** 1ã€å †å†…å†…å­˜ï¼ˆJVMå †ç©ºé—´å†…ï¼‰ ** æœ€å¸¸ç”¨çš„ByteBufæ¨¡å¼æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨JVMçš„å †ç©ºé—´ä¸­ã€‚å®ƒèƒ½åœ¨æ²¡æœ‰ä½¿ç”¨æ± åŒ–çš„æƒ…å†µä¸‹æä¾›å¿«é€Ÿçš„åˆ†é…å’Œé‡Šæ”¾ã€‚</p><p>** 2ã€å †å¤–å†…å­˜ï¼ˆæœ¬æœºç›´æ¥å†…å­˜ï¼‰** JDKå…è®¸JVMå®ç°é€šè¿‡æœ¬åœ°è°ƒç”¨æ¥åˆ†é…å†…å­˜ã€‚ä¸»è¦æ˜¯ä¸ºäº†é¿å…æ¯æ¬¡è°ƒç”¨æœ¬åœ°I/Oæ“ä½œä¹‹å‰ï¼ˆæˆ–è€…ä¹‹åï¼‰å°†ç¼“å†²åŒºçš„å†…å®¹å¤åˆ¶åˆ°ä¸€ä¸ªä¸­é—´ç¼“å†²åŒºï¼ˆæˆ–è€…ä»ä¸­é—´ç¼“å†²åŒºæŠŠå†…å®¹å¤åˆ¶åˆ°ç¼“å†²åŒºï¼‰ã€‚</p><p>** 3ã€å¤åˆç¼“å†²åŒºï¼ˆä»¥ä¸Š2ç§ç¼“å†²åŒºå¤šä¸ªæ··åˆï¼‰** å¸¸ç”¨ç±»ï¼šCompositeByteBufï¼Œå®ƒä¸ºå¤šä¸ªByteBufæä¾›ä¸€ä¸ªèšåˆè§†å›¾ï¼Œå°†å¤šä¸ªç¼“å†²åŒºè¡¨ç¤ºä¸ºå•ä¸ªåˆå¹¶ç¼“å†²åŒºçš„è™šæ‹Ÿè¡¨ç¤ºã€‚ æ¯”å¦‚ï¼šHTTPåè®®ï¼šå¤´éƒ¨å’Œä¸»ä½“è¿™ä¸¤éƒ¨åˆ†ç”±åº”ç”¨ç¨‹åºçš„ä¸åŒæ¨¡å—äº§ç”Ÿã€‚è¿™ä¸ªæ—¶å€™æŠŠè¿™ä¸¤éƒ¨åˆ†åˆå¹¶çš„è¯ï¼Œé€‰æ‹©CompositeByteBufæ˜¯æ¯”è¾ƒå¥½çš„ã€‚</p><h2 id="æºç è§£è¯»" tabindex="-1"><a class="header-anchor" href="#æºç è§£è¯»" aria-hidden="true">#</a> æºç è§£è¯»</h2><blockquote><p>ByteBufå®ç°äº†ReferenceCountedä¸Comparableä¸¤ä¸ªæ¥å£</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">ByteBuf</span> <span class="token keyword">implements</span> <span class="token class-name">ReferenceCounted</span><span class="token punctuation">,</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ByteBuf</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>åˆ›å»ºä¸€ä¸ªæŒ‡å®šå®¹é‡å¤§å°å †ç¼“å†²åŒºï¼Œå¹¶æŒ‰éœ€æ‰©å……å®¹é‡{ä¸listé›†å’Œå¾ˆåƒ}ï¼ŒæŒ‡é’ˆä½ç½®éƒ½æ˜¯ä»0å¼€å§‹</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Unpooled</span><span class="token punctuation">.</span><span class="token function">buffer</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * Creates a new big-endian Java heap buffer with the specified <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">capacity</span></span><span class="token punctuation">}</span>, which
 * expands its capacity boundlessly on demand.  The new buffer&#39;s <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">readerIndex</span></span><span class="token punctuation">}</span> and
 * <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java">writerIndex</span></span><span class="token punctuation">}</span> are <span class="token punctuation">{</span><span class="token keyword">@code</span> <span class="token code-section"><span class="token code language-java"><span class="token number">0</span></span></span><span class="token punctuation">}</span>.
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ByteBuf</span> <span class="token function">buffer</span><span class="token punctuation">(</span><span class="token keyword">int</span> initialCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token constant">ALLOC</span><span class="token punctuation">.</span><span class="token function">heapBuffer</span><span class="token punctuation">(</span>initialCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è·Ÿè¿›ä»£ç çš„åˆ›å»ºè¿‡ç¨‹ä¼šå‘ç°ï¼ŒUnpooledHeapByteBuf.UnpooledHeapByteBufç”¨æ¥åˆ›å»ºéæ± åŒ–å †Buf</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">*</span><span class="token operator">*</span>
 <span class="token operator">*</span> <span class="token class-name">Creates</span> a <span class="token keyword">new</span> heap buffer <span class="token keyword">with</span> <span class="token namespace">an</span> existing <span class="token keyword">byte</span> array<span class="token punctuation">.</span>
 <span class="token operator">*</span>
 <span class="token operator">*</span> <span class="token annotation punctuation">@param</span> initialArray the initial underlying <span class="token keyword">byte</span> array
 <span class="token operator">*</span> <span class="token annotation punctuation">@param</span> maxCapacity the max capacity of the underlying <span class="token keyword">byte</span> array
 <span class="token operator">*</span><span class="token operator">/</span>
<span class="token keyword">protected</span> <span class="token class-name">UnpooledHeapByteBuf</span><span class="token punctuation">(</span><span class="token class-name">ByteBufAllocator</span> alloc<span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> initialArray<span class="token punctuation">,</span> <span class="token keyword">int</span> maxCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">super</span><span class="token punctuation">(</span>maxCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token function">checkNotNull</span><span class="token punctuation">(</span>alloc<span class="token punctuation">,</span> <span class="token string">&quot;alloc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">checkNotNull</span><span class="token punctuation">(</span>initialArray<span class="token punctuation">,</span> <span class="token string">&quot;initialArray&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>initialArray<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> maxCapacity<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalArgumentException</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>
				<span class="token string">&quot;initialCapacity(%d) &gt; maxCapacity(%d)&quot;</span><span class="token punctuation">,</span> initialArray<span class="token punctuation">.</span>length<span class="token punctuation">,</span> maxCapacity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">this</span><span class="token punctuation">.</span>alloc <span class="token operator">=</span> alloc<span class="token punctuation">;</span>
	<span class="token function">setArray</span><span class="token punctuation">(</span>initialArray<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setIndex</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> initialArray<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å†…å®¹æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å†…å®¹æ€»ç»“" aria-hidden="true">#</a> å†…å®¹æ€»ç»“</h2><ul><li>ByteBufæä¾›äº†ä¸¤ä¸ªæŒ‡é’ˆï¼›è¯»ã€å†™ï¼Œåˆ†åˆ«ç”¨æ¥æ ‡è®°â€œå¯è¯»â€ã€â€œå¯å†™â€ã€â€œå¯ä¸¢å¼ƒâ€çš„å­—èŠ‚</li><li>é€šè¿‡è°ƒç”¨write*æ–¹æ³•å†™å…¥æ•°æ®åï¼Œå†™æŒ‡é’ˆå°†ä¼šå‘åç§»åŠ¨</li><li>é€šè¿‡è°ƒç”¨read*æ–¹æ³•è¯»å–æ•°æ®åï¼Œè¯»æŒ‡é’ˆå°†ä¼šå‘åç§»åŠ¨</li><li>å†™å…¥æ•°æ®æˆ–è¯»å–æ•°æ®æ—¶ä¼šæ£€æŸ¥æ˜¯å¦æœ‰è¶³å¤Ÿå¤šçš„ç©ºé—´å¯ä»¥å†™å…¥å’Œæ˜¯å¦æœ‰æ•°æ®å¯ä»¥è¯»å–</li><li>å†™å…¥æ•°æ®ä¹‹å‰ä¼šè¿›è¡Œå®¹é‡æ£€æŸ¥ï¼Œå½“å‰©ä½™å¯å†™çš„å®¹é‡å°äºéœ€è¦å†™å…¥çš„å®¹é‡æ—¶ï¼Œéœ€è¦æ‰§è¡Œæ‰©å®¹æ“ä½œ</li><li>clearç­‰ä¿®æ”¹è¯»å†™æŒ‡é’ˆçš„æ–¹æ³•ï¼Œåªä¼šæ›´æ”¹è¯»å†™æŒ‡é’ˆçš„å€¼ï¼Œå¹¶ä¸ä¼šå½±å“ByteBufä¸­å·²æœ‰çš„å†…å®¹</li></ul><p>å¾®ä¿¡æœç´¢ã€Œ<strong>bugstackè™«æ´æ ˆ</strong>ã€å…¬ä¼—å·ï¼Œå…³æ³¨åå›å¤ã€Œ<strong>rpcæ¡ˆä¾‹æºç </strong>ã€è·å–æœ¬æ–‡æºç &amp;æ›´å¤šåŸåˆ›ä¸“é¢˜æ¡ˆä¾‹ï¼</p>`,24);function m(v,b){const a=p("ExternalLinkIcon");return e(),o("div",null,[i,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),k,s("åšå®¢ï¼š"),n("a",r,[s("https://bugstack.cn"),c(a)])]),d])}const y=t(u,[["render",m],["__file","2019-09-13-nettyanliï¼Œnetty4.1yuanmafenxipiansiã€ŠByteBufdeshujujiegouzaishiyongfangshizhongdepouxiã€‹.html.vue"]]);export{y as default};
