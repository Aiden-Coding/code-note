import{_ as n,r as l,o as a,c as s,a as e,b as t,d as o,f as i}from"./app-3RcBQnkC.js";const c={},h=e("h1",{id:"第18节-扫描库表补偿发货单mq消息",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#第18节-扫描库表补偿发货单mq消息","aria-hidden":"true"},"#"),t(" 第18节：扫描库表补偿发货单MQ消息")],-1),_=e("br",null,null,-1),d={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},u=e("blockquote",null,[e("p",null,"沉淀、分享、成长，让自己和他人都能有所收获！")],-1),f={href:"https://gitcode.net/KnowledgePlanet/Lottery/-/tree/211113_xfg_MQCompensateJobb",target:"_blank",rel:"noopener noreferrer"},p=e("li",null,"描述：分布式任务调度，扫描抽奖发货单消息状态，对于未发送MQ或者发送失败的MQ，进行补偿发送处理",-1),b=e("h2",{id:"零、优秀作业",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#零、优秀作业","aria-hidden":"true"},"#"),t(" 零、优秀作业")],-1),m={href:"https://t.zsxq.com/06vbai6qv",target:"_blank",rel:"noopener noreferrer"},x={href:"https://t.zsxq.com/06fAIEE2R",target:"_blank",rel:"noopener noreferrer"},g={href:"https://t.zsxq.com/06rvFQnYN",target:"_blank",rel:"noopener noreferrer"},k={href:"https://t.zsxq.com/06ju3JeuF",target:"_blank",rel:"noopener noreferrer"},Q={href:"https://t.zsxq.com/06RNNzFUN",target:"_blank",rel:"noopener noreferrer"},M={href:"https://t.zsxq.com/0c9bNriyF",target:"_blank",rel:"noopener noreferrer"},q={href:"https://t.zsxq.com/0dJBkauPz",target:"_blank",rel:"noopener noreferrer"},z={href:"https://t.zsxq.com/107KSNr83",target:"_blank",rel:"noopener noreferrer"},N=e("h2",{id:"一、开发日志",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#一、开发日志","aria-hidden":"true"},"#"),t(" 一、开发日志")],-1),j={href:"https://gitcode.net/KnowledgePlanet/db-router-spring-boot-starter",target:"_blank",rel:"noopener noreferrer"},v=e("li",null,[t("在 application 应用层下的 worker 包 LotteryXxlJob 中，添加关于扫描库表补偿消息发送的任务，并在开发完成后把任务配置到 xxl-job 任务调度后台中。"),e("em",null,"关于任务的配置，我们在上一个章节，已经讲述过")],-1),L=e("h2",{id:"二、任务流程",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#二、任务流程","aria-hidden":"true"},"#"),t(" 二、任务流程")],-1),y=e("ul",null,[e("li",null,"我们的任务流程，完成的就是整个抽奖活动中，关于中奖结果落库后，进行MQ后。出现问题时，进行补偿消息发送处理的部分。"),e("li",null,"在MQ消息补偿的过程中，会把发送失败的消息和迟迟没有发送的消息，都进行补偿，已保障全流程的可靠性。")],-1);function B(C,E){const r=l("ExternalLinkIcon");return a(),s("div",null,[h,e("p",null,[t("作者：小傅哥 "),_,t("博客："),e("a",d,[t("https://bugstack.cn"),o(r)])]),u,e("ul",null,[e("li",null,[t("分支："),e("a",f,[t("211113_xfg_MQCompensateJob"),o(r)])]),p]),b,e("ul",null,[e("li",null,[e("a",m,[t("扫描库表补偿发货单MQ消息 @一点江南"),o(r)])]),e("li",null,[e("a",x,[t("扫描库表补偿发货单MQ消息 @BerserkD"),o(r)])]),e("li",null,[e("a",g,[t("用xxl-job实现定时补偿发送mq消息 @Chin"),o(r)])]),e("li",null,[e("a",k,[t("扫描库表补偿发货单MQ消息 @Geroge Liu"),o(r)])]),e("li",null,[e("a",Q,[t("扫描库表补偿发货单MQ消息 @liuc"),o(r)])]),e("li",null,[e("a",M,[t("扫描库表补偿发货单MQ消息 @咖啡苦涩"),o(r)])]),e("li",null,[e("a",q,[t("画一个Lottery的流程图，对整体业务加设计思想进行总结 @小曹不会emo"),o(r)])]),e("li",null,[e("a",z,[t("定时任务扫描库表补偿发货单MQ消息，已经是一个完整的流程了 @F+Y"),o(r)])])]),N,e("ul",null,[e("li",null,[t("因为需要扫描库表，也就是循环的方式把每个库下的多张表中的每条用户记录，都进行扫描。所以需要在分库分表组件中，提供出可以设置路由到的库和表，这样就可以满足我们扫描的动作了。"),e("em",null,[t("这部分大家可以看最新的 "),e("a",j,[t("db-router-spring-boot-starter"),o(r)])])]),v]),L,i(" ![](/images/article/project/lottery/Part-2/18-01.png) "),y])}const J=n(c,[["render",B],["__file","di18jie：saomiaokubiaobuchangfahuodanMQxiaoxi.html.vue"]]);export{J as default};
