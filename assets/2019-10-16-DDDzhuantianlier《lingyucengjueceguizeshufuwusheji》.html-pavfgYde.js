import{_ as e,r as p,o,c,a as n,b as s,d as t,e as l}from"./app-3RcBQnkC.js";const i={},u=n("h1",{id:"dddä¸“é¢˜æ¡ˆä¾‹äºŒã€Šé¢†åŸŸå±‚å†³ç­–è§„åˆ™æ ‘æœåŠ¡è®¾è®¡ã€‹",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#dddä¸“é¢˜æ¡ˆä¾‹äºŒã€Šé¢†åŸŸå±‚å†³ç­–è§„åˆ™æ ‘æœåŠ¡è®¾è®¡ã€‹","aria-hidden":"true"},"#"),s(" DDDä¸“é¢˜æ¡ˆä¾‹äºŒã€Šé¢†åŸŸå±‚å†³ç­–è§„åˆ™æ ‘æœåŠ¡è®¾è®¡ã€‹")],-1),r=n("br",null,null,-1),k={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=n("br",null,null,-1),m={href:"https://t.zsxq.com/jAi2nUf",target:"_blank",rel:"noopener noreferrer"},v=l(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="å‰è¨€ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#å‰è¨€ä»‹ç»" aria-hidden="true">#</a> å‰è¨€ä»‹ç»</h2><p>åœ¨ä¸Šä¸€ç« èŠ‚ä»‹ç»äº†é¢†åŸŸé©±åŠ¨è®¾è®¡çš„åŸºæœ¬æ¦‚å¿µä»¥åŠæŒ‰ç…§é¢†åŸŸé©±åŠ¨è®¾è®¡çš„æ€æƒ³è¿›è¡Œä»£ç åˆ†å±‚ï¼Œä½†æ˜¯ä»…ä»…åªæ˜¯ä»ä¸€ä¸ªç®€å•çš„åˆ†å±‚ç»“æ„ä¸Šä¾ç„¶æ²¡æ³•ç†è§£DDDä»¥åŠå¦‚ä½•å»å¼€å‘è¿™æ ·çš„å¾®æœåŠ¡ã€‚å¦å¤–å¾€å¾€æŒ‰ç…§è¿™æ ·åˆ†å±‚åä¾ç„¶æ„Ÿè§‰å’ŒMVCä¹Ÿæ²¡æœ‰ä»€ä¹ˆå·®åˆ«ï¼Œä¹Ÿæ²¡æœ‰æ„Ÿå—åˆ°å¸¦æ¥ä»€ä¹ˆéå¸¸å¤§çš„å¥½å¤„ã€‚é‚£ä¹ˆé—®é¢˜å‡ºåœ¨å“ªå‘¢ï¼Ÿæˆ‘ä¸ªäººè§‰å¾—DDDå­¦èµ·æ¥æ›´åƒæ˜¯ä¸€å¥—æŒ‡å¯¼æ€æƒ³ï¼Œä¸æ–­çš„å°†å­¦ä¹ è€…å¼•å…¥åˆ°é¢†åŸŸè§¦å‘çš„æ€ç»´ä¸­å»ï¼Œè€Œè¿™æ°æ°ä¹Ÿæ˜¯æœ€éš¾å­¦ä¹ çš„åœ°æ–¹ã€‚æ—¶è€Œæ„Ÿè§‰ä¼šäº†ï¼Œè€Œå®é™…å¼€å‘ä¸­åˆä¸å¯¹ï¼Œæœ¬æ¥å·²ç»æ‹†è§£æ¸…æ™°äº†ï¼Œä½†æ€ä¹ˆåˆé‚£ä¹ˆåƒMVCäº†ã€‚ç”šè‡³æ€€ç–‘è‡ªå·±ï¼Œæˆ‘åœ¨å¹²å˜›ï¼Ÿ</p><p>æ— è®ºæ˜¯DDDã€MVCï¼Œä»–ä»¬æ›´åƒæ˜¯å®¶é‡Œä¸‰å±…æˆ–è€…å››å±€çš„æ ¼å±€ï¼Œæ¯ä¸€ç§æ ¼å±€æ–¹å¼éƒ½æ˜¯ä¸ºäº†æ›´å¥½çš„å®ç°å¯¹åº”æ¶æ„ä¸‹çš„è®¾è®¡æ€æƒ³ã€‚ä½†ï¼Œä¸æ˜¯è¯´ç»™ä½ ä¸€ä¸ªé€šç”¨çš„æ¶æ„æ¨¡å¼ï¼Œä½ å°±èƒ½å¼€å‘å‡ºå¹²å‡€(é«˜å†…èš)ã€æ•´æ´(ä½è€¦åˆ)ã€æ¼‚äº®(æ¨¡å—åŒ–)çš„ä»£ç ã€‚è¿™å°±åƒæ˜¯ä½ å®¶ä½ä¸‰å±…ã€ä»–å®¶ä¹Ÿä½ä¸‰å±…ï¼Œä½†æ˜¯ä½ ä»¬å±‹å­çš„èˆ’é€‚æƒ…å†µå°±ä¸€æ ·å—ï¼Ÿï½›å†æœ‰ï¼Œä½ å®¶é‡Œä¼šæŠŠå•æ‰€å®‰åœ¨å¨æˆ¿å—ï¼Ÿä½†ä½ çš„ä»£ç æ˜¯å¦è¿™ä¹ˆå¹²è¿‡ï¼Œä¸åˆç†çš„æ‘†æ”¾å¯¼è‡´é‡æ„å»¶æœŸã€‚ï½</p><p>å¦å¤–DDDä¹‹æ‰€ä»¥çœ‹ç€ç®€å•ä½†åˆä¸é‚£ä¹ˆå¥½è½åœ°ï¼Œä¸ªäººè®¤ä¸ºå¾ˆé‡è¦å°±æ˜¯é¢†åŸŸæ€æƒ³ï¼ŒDDDåªæ˜¯æŒ‡å¯¼ä½†æ˜¯ä¸èƒ½æŠŠäº’è”ç½‘å¤©ä¸‹æ¯ä¸€ä¸ªä¸šåŠ¡è¡Œä¸ºå¼€å‘éƒ½æ‹¿å‡ºæ¥ä¸¾ä¾‹å­ç»™ä½ çœ‹ï¼Œæ¯ä¸ªé¢†åŸŸéœ€è¦è®¾è®¡ã€‚æ‰€ä»¥éœ€è¦ä¸€äº›é¢†åŸŸä¸“å®¶ï½›äº§å“+æ¶æ„+ä¸æ˜¯æ ç²¾çš„ç¨‹åºçŒ¿ï½æ¥è®¨è®ºæ¢³ç†ï¼Œå°†ä¸šåŠ¡å½¢æ€è®¾è®¡å‡ºåˆç†çš„æ¶æ„&amp;ä»£ç ã€‚</p><h2 id="æ¡ˆä¾‹ç›®æ ‡" tabindex="-1"><a class="header-anchor" href="#æ¡ˆä¾‹ç›®æ ‡" aria-hidden="true">#</a> æ¡ˆä¾‹ç›®æ ‡</h2><p>æœ¬æ¡ˆä¾‹é€šè¿‡ä¸€ä¸ªå•†å“ä¸‹å•è§„åˆ™çš„åœºæ™¯æ¥è¿›è¡Œæ¼”ç¤ºDDDï¼›</p><ol><li>å‡è®¾äº§å“éœ€æ±‚ä¸šåŠ¡è¿è¡Œäººå‘˜å¯ä»¥å¯¹ä¸åŒçš„å•†å“é…ç½®ä¸€äº›è§„åˆ™ï¼Œè¿™äº›è§„åˆ™å¯ä»¥æ»¡è¶³ä¸åŒç”¨æˆ·ç±»å‹å¯ä»¥ä¸‹å•ä¸åŒå•†å“ã€‚</li><li>å¦å¤–ä¸€äº›è¡Œä¸ºè§„åˆ™æ˜¯ä¼šéšç€ä¸šåŠ¡å‘å±•è€Œå¢åŠ æˆ–è€…å˜åŠ¨çš„ï¼Œæ‰€ä»¥ä¸èƒ½å†™æ­»ï½›å†™æ­»å¤ªå“äººäº†ï½ã€‚</li><li>æ•°æ®åº“çš„POç±»ä¸åº”è¯¥è¢«å¤–éƒ¨æœåŠ¡è°ƒç”¨ï¼Œè¿™ä¹Ÿæ˜¯å¿…é¡»çš„ã€‚å¦‚æœä½ å¼€å‘è¿‡å¾ˆå¤šç³»ç»Ÿï¼Œé‚£ä¹ˆå¯èƒ½å·²ç»åƒè¿‡äºå¹¶æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜ã€‚</li><li>æŒ‰ç…§DDDæ€æƒ³æˆ‘ä»¬å°è¯•éœ€è¦è®¾è®¡ä¸€ä¸ªè§„åˆ™å¼•æ“çš„æœåŠ¡ï¼Œé€šè¿‡ç»™å¤–éƒ¨æä¾›éå¸¸ç®€å•çš„æ¥å£ï¼ˆapplicationï¼‰æ¥è·å–æœ€ç»ˆç»“æœã€‚</li><li>é€šè¿‡è¿™æ ·çš„æ¡ˆä¾‹å¯ä»¥å¾ˆå®¹æ˜“çš„æ„Ÿå—åˆ°ç›®å‰çš„å››å±‚æ¶æ„ç¡®å®åœ¨å®ç°DDDæ€æƒ³ä¸Šæœ‰å¾ˆå¤šçš„å¸®åŠ©ã€‚</li></ol><blockquote><p>å¦‚å›¾ï¼›DDDåˆ†å±‚ç»“æ„ | æŒ‡å¯¼è®¾è®¡æ¶æ„</p></blockquote><p><img src="https://bugstack.cn/assets/images/pic-content/2019/10/DDD-01-2.png" alt="bugstackè™«æ´æ ˆ &amp; åˆ†å±‚ç»“æ„"></p><h2 id="dddæ€æƒ³-Â·-å¼€å‘è®¾è®¡" tabindex="-1"><a class="header-anchor" href="#dddæ€æƒ³-Â·-å¼€å‘è®¾è®¡" aria-hidden="true">#</a> DDDæ€æƒ³ Â· å¼€å‘è®¾è®¡</h2><p>é€šè¿‡é¢†åŸŸé©±åŠ¨è®¾è®¡çš„æ€æƒ³ï¼Œä»é¢†åŸŸçŸ¥è¯†ä¸­æå–å’Œåˆ’åˆ†ä¸ºä¸€ä¸ªä¸€ä¸ªçš„å­é¢†åŸŸï¼ˆæ ¸å¿ƒå­åŸŸï¼Œé€šç”¨å­åŸŸï¼Œæ”¯æ’‘å­åŸŸï¼‰ï¼Œå¹¶åœ¨å­é¢†åŸŸä¸Šå»ºç«‹æ¨¡å‹ã€‚é‚£ä¹ˆåœ¨æŠ€æœ¯å®ç°ä¸Šå°±éœ€è¦å»æ”¯æ’‘è¿™ç§å»ºæ¨¡ï¼Œä»¥ä½¿æˆ‘ä»¬çš„ä»£ç æ¨¡å—ç‹¬ç«‹ã€å…æ±¡æŸ“ã€æ˜“äºæ‰©å±•ã€‚</p><p>åœ¨ä¸Šé¢æˆ‘ä»¬æåˆ°éœ€è¦å¼€å‘ä¸€ä¸ªå¯æ‰©å±•ä½¿ç”¨çš„è§„åˆ™æ ‘ï¼Œé‚£ä¹ˆå¦‚æœåªæ˜¯å•çº¯çš„ä¸€æ¬¡æ€§éœ€æ±‚ï¼Œæœ€å¿«çš„æ–¹å¼æ˜¯ifè¯­å¥å°±æå®šäº†ã€‚ä½†æ˜¯ä¸ºäº†ä½¿è¿™ä¸ªé¢†åŸŸæœåŠ¡å…·å¤‡è‰¯å¥½çš„ä½¿ç”¨å’Œæ‰©å±•æ€§ï¼Œæˆ‘ä»¬éœ€è¦åšäº›æ‹†åˆ†ï¼Œé‚£ä¹ˆå¦‚ä¸‹ï¼›</p><ol><li>ä½ æ˜¯å¦æƒ³è¿‡ç³»ç»Ÿåœ¨è¿‡æ»¤è¿‡åˆ™çš„æ—¶å€™å…¶å®å°±åƒæ‰§è¡Œä¸€æ£µäºŒå‰æ ‘ä¸€æ ·éå·¦å³å³ä¾§ï¼Œæ¯ä¸€æ¡çº¿ä¸Šéƒ½æœ‰ç€æ‰§è¡Œæ¡ä»¶ï¼Œé€šè¿‡åˆ¤æ–­æ¥è¾¾åˆ°æœ€ç»ˆçš„ç»“æœã€‚</li><li>æŒ‰ç…§æ ‘å½¢ç»“æ„æˆ‘ä»¬å°†å®šä¹‰å‡ºæ¥å››ä¸ªç±»ï¼›æ ‘ã€èŠ‚ç‚¹ã€æœå®ã€æŒ‡å‘çº¿(From-To)ï¼Œç”¨äºæè¿°æˆ‘ä»¬çš„è§„åˆ™è¡Œä¸ºã€‚</li><li>å†æ­¤åŸºç¡€ä¸Šéœ€è¦å®ç°ä¸€ä¸ªé€»è¾‘å®šä¹‰ä¸è§„åˆ™æ ‘æ‰§è¡Œå¼•æ“ï¼Œé€šè¿‡ç»Ÿä¸€çš„å¼•æ“æœåŠ¡æ¥æ‰§è¡Œæˆ‘ä»¬æ¯æ¬¡é…ç½®å¥½çš„è§„åˆ™æ ‘ã€‚</li></ol><blockquote><p>å¦‚å›¾ï¼›é¢†åŸŸå¼€å‘è®¾è®¡æœåŠ¡</p></blockquote><p><img src="https://bugstack.cn/assets/images/pic-content/2019/10/DDD-02-1.png" alt="bugstackè™«æ´æ ˆ &amp; é¢†åŸŸå¼€å‘è®¾è®¡æœåŠ¡"></p><h2 id="å·¥ç¨‹æ¨¡å‹" tabindex="-1"><a class="header-anchor" href="#å·¥ç¨‹æ¨¡å‹" aria-hidden="true">#</a> å·¥ç¨‹æ¨¡å‹</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>itstack<span class="token operator">-</span>demo<span class="token operator">-</span>ddd<span class="token operator">-</span><span class="token number">02</span>
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â”œâ”€â”€ java
    â”‚   â”‚   â””â”€â”€ org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo
    â”‚   â”‚       â”œâ”€â”€ application
    â”‚   â”‚       â”‚	â”œâ”€â”€ <span class="token class-name">MallRuleService</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â””â”€â”€ <span class="token class-name">MallTreeService</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”œâ”€â”€ domain
    â”‚   â”‚       â”‚	â”œâ”€â”€ rule
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ model
    â”‚   â”‚       â”‚	â”‚   â”‚   â”œâ”€â”€ aggregates
    â”‚   â”‚       â”‚	â”‚   â”‚   â”‚   â””â”€â”€ <span class="token class-name">UserRichInfo</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚   â”‚   â””â”€â”€ vo
    â”‚   â”‚       â”‚	â”‚   â”‚       â”œâ”€â”€ <span class="token class-name">DecisionMatter</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”‚   â”‚       â”œâ”€â”€ <span class="token class-name">EngineResult</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”‚   â”‚       â”œâ”€â”€ <span class="token class-name">TreeNodeInfo</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”‚   â”‚       â”œâ”€â”€ <span class="token class-name">TreeNodeLineInfo</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚   â”‚       â””â”€â”€ <span class="token class-name">UserSchool</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ repository
    â”‚   â”‚       â”‚	â”‚   â”‚   â””â”€â”€ <span class="token class-name">IRuleRepository</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚   â””â”€â”€ service
    â”‚   â”‚       â”‚	â”‚       â”œâ”€â”€ engine
    â”‚   â”‚       â”‚	â”‚       â”‚   â”œâ”€â”€ impl	
    â”‚   â”‚       â”‚	â”‚       â”‚   â””â”€â”€ <span class="token class-name">EngineFilter</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚       â”œâ”€â”€ logic
    â”‚   â”‚       â”‚	â”‚       â”‚   â”œâ”€â”€ impl	
    â”‚   â”‚       â”‚	â”‚       â”‚   â””â”€â”€ <span class="token class-name">LogicFilter</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚       â””â”€â”€ <span class="token class-name">MallRuleServiceImpl</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â””â”€â”€ tree
    â”‚   â”‚       â”‚	    â”œâ”€â”€ model
    â”‚   â”‚       â”‚	    â”‚   â”œâ”€â”€ aggregates
    â”‚   â”‚       â”‚	    â”‚   â”‚   â””â”€â”€ <span class="token class-name">TreeCollect</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	    â”‚   â””â”€â”€ vo
    â”‚   â”‚       â”‚	    â”‚       â”œâ”€â”€ <span class="token class-name">TreeInfo</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	    â”‚       â””â”€â”€ <span class="token class-name">TreeRulePoint</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	    â”œâ”€â”€ repository
    â”‚   â”‚       â”‚	    â”‚   â””â”€â”€ <span class="token class-name">ITreeRepository</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	    â””â”€â”€ service
    â”‚   â”‚       â”‚	        â””â”€â”€ <span class="token class-name">MallTreeServiceImpl</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”œâ”€â”€ infrastructure
    â”‚   â”‚       â”‚	â”œâ”€â”€ common
    â”‚   â”‚       â”‚	â”‚   â””â”€â”€ <span class="token class-name">Constants</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”œâ”€â”€ dao
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ <span class="token class-name">RuleTreeDao</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ <span class="token class-name">RuleTreeNodeDao</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚   â””â”€â”€ <span class="token class-name">RuleTreeNodeLineDao</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”œâ”€â”€ po
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ <span class="token class-name">RuleTree</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ <span class="token class-name">RuleTreeConfig</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ <span class="token class-name">RuleTreeNode</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚   â””â”€â”€ <span class="token class-name">RuleTreeNodeLine</span><span class="token punctuation">.</span>java		
    â”‚   â”‚       â”‚	â”œâ”€â”€ repository
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ cache
    â”‚   â”‚       â”‚	â”‚   â”‚   â””â”€â”€ <span class="token class-name">RuleCacheRepository</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ mysql
    â”‚   â”‚       â”‚	â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">RuleMysqlRepository</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚   â”‚   â””â”€â”€ <span class="token class-name">TreeMysqlRepository</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”‚   â”œâ”€â”€ <span class="token class-name">RuleRepository</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”‚   â””â”€â”€ <span class="token class-name">TreeRepository</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â””â”€â”€ util
    â”‚   â”‚       â”‚	    â””â”€â”€ <span class="token class-name">CacheUtil</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”œâ”€â”€ interfaces
    â”‚   â”‚       â”‚	â”œâ”€â”€ dto
    â”‚   â”‚       â”‚	â”‚	â”œâ”€â”€ <span class="token class-name">DecisionMatterDTO</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”‚	â””â”€â”€ <span class="token class-name">TreeDTO</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â””â”€â”€ <span class="token class-name">DDDController</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â””â”€â”€ <span class="token class-name">DDDApplication</span><span class="token punctuation">.</span>java
    â”‚   â””â”€â”€ resources	
    â”‚       â”œâ”€â”€ mybatis
    â”‚       â””â”€â”€ application<span class="token punctuation">.</span>yml
    â””â”€â”€ test
         â””â”€â”€ java
             â””â”€â”€ org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>test
                 â””â”€â”€ <span class="token class-name">ApiTest</span><span class="token punctuation">.</span>java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¼”ç¤ºéƒ¨åˆ†é‡ç‚¹ä»£ç å—ï¼Œå®Œæ•´ä»£ç ä¸‹è½½å…³æ³¨å…¬ä¼—å·ï¼›bugstackè™«æ´æ ˆ | å›å¤DDDè½åœ°</strong></p><h3 id="applicationåº”ç”¨å±‚" tabindex="-1"><a class="header-anchor" href="#applicationåº”ç”¨å±‚" aria-hidden="true">#</a> applicationåº”ç”¨å±‚</h3><blockquote><p>application/MallRuleService.java | åº”ç”¨å±‚å®šä¹‰æ¥å£æœåŠ¡ï¼Œä¹Ÿå¯ä»¥é€‚å½“åšç®€å•åŒ…è£…</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å•†è¶…è§„åˆ™è¿‡æ»¤æœåŠ¡ï¼›æä¾›è§„åˆ™æ ‘å†³ç­–åŠŸèƒ½
 * å¾®ä¿¡å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ | ä¸“æ³¨åŸåˆ›æŠ€æœ¯ä¸“é¢˜æ¡ˆä¾‹
 * è®ºå›ï¼šhttp://bugstack.cn
 * Create by ä»˜æ”¿å§” on @2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MallRuleService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * å†³ç­–æœåŠ¡
     * <span class="token keyword">@param</span> <span class="token parameter">matter</span> å†³ç­–ç‰©æ–™
     * <span class="token keyword">@return</span>       å†³ç­–ç»“æœ
     */</span>
    <span class="token class-name">EngineResult</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">DecisionMatter</span> matter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="domainé¢†åŸŸå±‚" tabindex="-1"><a class="header-anchor" href="#domainé¢†åŸŸå±‚" aria-hidden="true">#</a> domainé¢†åŸŸå±‚</h3><p>domainä¸­æœ‰ä¸¤ä¸ªé¢†åŸŸæœåŠ¡ï¼›è§„åˆ™æ ‘ä¿¡æ¯é¢†åŸŸã€è§„åˆ™æ‰§è¡Œé¢†åŸŸï¼Œé€šè¿‡åˆç†çš„æŠ½è±¡åŒ–æ¥å®ç°é«˜å†…èšã€ä½è€¦åˆçš„æ¨¡å—åŒ–æœåŠ¡</p><blockquote><p>domain/service/MallRuleServiceImpl.java | é¢†åŸŸå±‚ä¸­çš„serviceæ¥å®ç°åº”ç”¨å±‚æ¥å£</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è§„åˆ™æ ‘æœåŠ¡ï¼›æä¾›è§„åˆ™è§„å¾‹åŠŸèƒ½
 *
 * 1ã€ruleåŒ…ä¸‹åªè¿›è¡Œè§„åˆ™å†³ç­–é¢†åŸŸçš„å¤„ç†
 * 2ã€å°è£…å†³ç­–è¡Œä¸ºåˆ°é¢†åŸŸæ¨¡å‹ä¸­ï¼Œå¤–éƒ¨åªéœ€è¦è°ƒç”¨å’Œå¤„ç†ç»“æœå³å¯
 * 3ã€å¯ä»¥æ‰©å±•ä¸åŒçš„å†³ç­–å¼•æ“è¿›è¡Œç»Ÿä¸€ç®¡ç†
 *
 * å¾®ä¿¡å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ | ä¸“æ³¨åŸåˆ›æŠ€æœ¯ä¸“é¢˜æ¡ˆä¾‹
 * è®ºå›ï¼šhttp://bugstack.cn
 * Create by ä»˜æ”¿å§” on @2019
 */</span>
<span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token string">&quot;mallRuleService&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MallRuleServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">MallRuleService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">MallRuleServiceImpl</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;ruleEngineHandle&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">EngineFilter</span> ruleEngineHandle<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">EngineResult</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token class-name">DecisionMatter</span> matter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> ruleEngineHandle<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>matter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;å†³ç­–å¼•æ“æ‰§è¡Œå¤±è´¥&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">EngineResult</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>domain/service/logic/LogicFilter.java | é€»è¾‘å†³ç­–å®šä¹‰</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å¾®ä¿¡å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ | ä¸“æ³¨åŸåˆ›æŠ€æœ¯ä¸“é¢˜æ¡ˆä¾‹
 * è®ºå›ï¼šhttp://bugstack.cn
 * Create by ä»˜æ”¿å§” on @2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LogicFilter</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * é€»è¾‘å†³ç­–å™¨
     * <span class="token keyword">@param</span> <span class="token parameter">matterValue</span>          å†³ç­–å€¼
     * <span class="token keyword">@param</span> <span class="token parameter">treeNodeLineInfoList</span> å†³ç­–èŠ‚ç‚¹
     * <span class="token keyword">@return</span>                     ä¸‹ä¸€ä¸ªèŠ‚ç‚¹Id
     */</span>
    <span class="token class-name">Long</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">String</span> matterValue<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TreeNodeLineInfo</span><span class="token punctuation">&gt;</span></span> treeNodeLineInfoList<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * è·å–å†³ç­–å€¼
     *
     * <span class="token keyword">@param</span> <span class="token parameter">decisionMatter</span> å†³ç­–ç‰©æ–™
     * <span class="token keyword">@return</span>               å†³ç­–å€¼
     */</span>
    <span class="token class-name">String</span> <span class="token function">matterValue</span><span class="token punctuation">(</span><span class="token class-name">DecisionMatter</span> decisionMatter<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>domain/service/engine/EngineFilter.java | å¼•æ“æ‰§è¡Œå®šä¹‰</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å¾®ä¿¡å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ | ä¸“æ³¨åŸåˆ›æŠ€æœ¯ä¸“é¢˜æ¡ˆä¾‹
 * è®ºå›ï¼šhttp://bugstack.cn
 * Create by ä»˜æ”¿å§” on @2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">EngineFilter</span> <span class="token punctuation">{</span>

    <span class="token class-name">EngineResult</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">DecisionMatter</span> matter<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="infrastructureåŸºç¡€å±‚" tabindex="-1"><a class="header-anchor" href="#infrastructureåŸºç¡€å±‚" aria-hidden="true">#</a> infrastructureåŸºç¡€å±‚</h3><p>1ã€å®ç°é¢†åŸŸå±‚ä»“å‚¨å®šä¹‰ 2ã€æ•°æ®åº“æ“ä½œä¸ºéä¸šåŠ¡å±æ€§çš„åŠŸèƒ½æ“ä½œ 3ã€åœ¨ä»“å‚¨å®ç°å±‚è¿›è¡Œç»„åˆè£…é…DAO&amp;Redis&amp;Cacheç­‰</p><blockquote><p>infrastructure/repository/RuleRepository.java</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * å¾®ä¿¡å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ | ä¸“æ³¨åŸåˆ›æŠ€æœ¯ä¸“é¢˜æ¡ˆä¾‹
 * è®ºå›ï¼šhttp://bugstack.cn
 * Create by ä»˜æ”¿å§” on @2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">EngineFilter</span> <span class="token punctuation">{</span>

    <span class="token class-name">EngineResult</span> <span class="token function">process</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">DecisionMatter</span> matter<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="interfacesæ¥å£å±‚" tabindex="-1"><a class="header-anchor" href="#interfacesæ¥å£å±‚" aria-hidden="true">#</a> interfacesæ¥å£å±‚</h3><p>1ã€åŒ…è£…åº”ç”¨æ¥å£å¯¹å¤–æä¾›api 2ã€å¤–éƒ¨ä¼ è¾“å¯¹è±¡é‡‡ç”¨DTOç±»ï¼Œä¸»è¦ä¸ºäº†é¿å…å†…éƒ¨ç±»è¢«æ±¡æŸ“ï½›ä¸æ–­çš„è¿­ä»£çš„éœ€æ±‚ä¼šåœ¨ç±»ä¸­å¢åŠ å¾ˆå¤šå­—æ®µï½ 3ã€ç›®å‰ä¾ç„¶æ˜¯æä¾›çš„HttpæœåŠ¡ï¼Œå¦‚æœæä¾›çš„rpcæœåŠ¡ï¼Œå°†éœ€è¦å¯¹å¤–æä¾›å¯å¼•ç”¨jar</p><blockquote><p>interfaces/DDDController.java</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">*</span><span class="token operator">*</span>
 <span class="token operator">*</span> å¾®ä¿¡å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ <span class="token operator">|</span> æ¬¢è¿å…³æ³¨å­¦ä¹ ä¸“é¢˜æ¡ˆä¾‹
 <span class="token operator">*</span> è®ºå›ï¼šhttp<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>bugstack<span class="token punctuation">.</span>cn
 <span class="token operator">*</span> <span class="token class-name">Create</span> by ä»˜æ”¿å§” on <span class="token annotation punctuation">@2019</span>
 <span class="token operator">*</span><span class="token operator">/</span>
<span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DDDController</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">DDDController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">MallTreeService</span> mallTreeService<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">MallRuleService</span> mallRuleService<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * æµ‹è¯•æ¥å£ï¼šhttp://localhost:8080/api/tree/queryTreeSummaryInfo
     * è¯·æ±‚å‚æ•°ï¼š<span class="token punctuation">{</span>&quot;treeId&quot;:10001<span class="token punctuation">}</span>
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;/api/tree/queryTreeSummaryInfo&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span> <span class="token function">queryTreeSummaryInfo</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">TreeDTO</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> reqStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢è§„åˆ™æ ‘ä¿¡æ¯{}Begin reqï¼š{}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getTreeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> reqStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TreeCollect</span> treeCollect <span class="token operator">=</span> mallTreeService<span class="token punctuation">.</span><span class="token function">queryTreeSummaryInfo</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getTreeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢è§„åˆ™æ ‘ä¿¡æ¯{}End resï¼š{}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getTreeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span>treeCollect<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>treeCollect<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;æŸ¥è¯¢è§„åˆ™æ ‘ä¿¡æ¯{}Error reqï¼š{}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getTreeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> reqStr<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * æµ‹è¯•æ¥å£ï¼šhttp://localhost:8080/api/tree/decisionRuleTree
     * è¯·æ±‚å‚æ•°ï¼š<span class="token punctuation">{</span>&quot;treeId&quot;:10001,&quot;userId&quot;:&quot;fuzhengwei&quot;,&quot;valMap&quot;:<span class="token punctuation">{</span>&quot;gender&quot;:&quot;man&quot;,&quot;age&quot;:&quot;25&quot;<span class="token punctuation">}</span><span class="token punctuation">}</span>
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>path <span class="token operator">=</span> <span class="token string">&quot;/api/tree/decisionRuleTree&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">POST</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span> <span class="token function">decisionRuleTree</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">DecisionMatterDTO</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> reqStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è§„åˆ™æ ‘è¡Œä¸ºä¿¡æ¯å†³ç­–{}Begin reqï¼š{}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getTreeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> reqStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">DecisionMatter</span> decisionMatter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DecisionMatter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            decisionMatter<span class="token punctuation">.</span><span class="token function">setTreeId</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getTreeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            decisionMatter<span class="token punctuation">.</span><span class="token function">setUserId</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getUserId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            decisionMatter<span class="token punctuation">.</span><span class="token function">setValMap</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getValMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">EngineResult</span> engineResult <span class="token operator">=</span> mallRuleService<span class="token punctuation">.</span><span class="token function">process</span><span class="token punctuation">(</span>decisionMatter<span class="token punctuation">)</span><span class="token punctuation">;</span>
            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è§„åˆ™æ ‘è¡Œä¸ºä¿¡æ¯å†³ç­–{}End resï¼š{}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getTreeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSON</span><span class="token punctuation">(</span>engineResult<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>engineResult<span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;è§„åˆ™æ ‘è¡Œä¸ºä¿¡æ¯å†³ç­–{}Error reqï¼š{}&quot;</span><span class="token punctuation">,</span> request<span class="token punctuation">.</span><span class="token function">getTreeId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> reqStr<span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HttpStatus</span><span class="token punctuation">.</span><span class="token constant">OK</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æµ‹è¯•éªŒè¯" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•éªŒè¯" aria-hidden="true">#</a> æµ‹è¯•éªŒè¯</h2><blockquote><p>è§„åˆ™æ ‘ç»“æ„{æ•°æ®åº“è½¬Json} | å¯è‡ªè¡Œå®šä¹‰</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;treeNodeMap&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;1&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;nodeType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ruleDesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ç”¨æˆ·æ€§åˆ«[ç”·/å¥³]&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ruleKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;userGender&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeId&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeLineInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;nodeIdFrom&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;nodeIdTo&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;man&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;nodeIdFrom&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;nodeIdTo&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;woman&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;11&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;nodeType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ruleDesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ç”¨æˆ·å¹´é¾„&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ruleKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;userAge&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeId&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeLineInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;nodeIdFrom&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;nodeIdTo&quot;</span><span class="token operator">:</span> <span class="token number">111</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitType&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;25&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;nodeIdFrom&quot;</span><span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;nodeIdTo&quot;</span><span class="token operator">:</span> <span class="token number">112</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitType&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;25&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;12&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;nodeType&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ruleDesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ç”¨æˆ·å¹´é¾„&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ruleKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;userAge&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeId&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeLineInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;nodeIdFrom&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;nodeIdTo&quot;</span><span class="token operator">:</span> <span class="token number">121</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitType&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;25&quot;</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token string">&quot;nodeIdFrom&quot;</span><span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;nodeIdTo&quot;</span><span class="token operator">:</span> <span class="token number">122</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitType&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
                    <span class="token string">&quot;ruleLimitValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;25&quot;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;111&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;nodeType&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">&quot;nodeValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æœå®A&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeId&quot;</span><span class="token operator">:</span> <span class="token number">111</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeLineInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;112&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;nodeType&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">&quot;nodeValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æœå®B&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeId&quot;</span><span class="token operator">:</span> <span class="token number">112</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeLineInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;121&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;nodeType&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">&quot;nodeValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æœå®C&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeId&quot;</span><span class="token operator">:</span> <span class="token number">121</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeLineInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token string">&quot;122&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;nodeType&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
            <span class="token string">&quot;nodeValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æœå®D&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeId&quot;</span><span class="token operator">:</span> <span class="token number">122</span><span class="token punctuation">,</span>
            <span class="token string">&quot;treeNodeLineInfoList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;treeRoot&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
        <span class="token string">&quot;treeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;è´­ç‰©åˆ†ç±»è§„åˆ™æ ‘&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;treeRootNodeId&quot;</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>é€šè¿‡postmanè°ƒç”¨ | raw =&gt; json</p></blockquote><p><strong>æŸ¥è¯¢è§„åˆ™æ ‘ä¿¡æ¯</strong> æµ‹è¯•æ¥å£ï¼šhttp://localhost:8080/api/tree/decisionRuleTree è¯·æ±‚å‚æ•°ï¼š{&quot;treeId&quot;:10001}</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;treeInfo&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
        <span class="token string">&quot;treeName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;è´­ç‰©åˆ†ç±»è§„åˆ™æ ‘&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;treeDesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ç”¨äºåˆ†ç±»ä¸åŒç±»å‹ç”¨æˆ·å¯è´­ç‰©èŒƒå›´&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;nodeCount&quot;</span><span class="token operator">:</span> <span class="token number">7</span><span class="token punctuation">,</span>
        <span class="token string">&quot;lineCount&quot;</span><span class="token operator">:</span> <span class="token number">6</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;treeRulePointList&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;ruleKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;userGender&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ruleDesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ç”¨æˆ·æ€§åˆ«[ç”·/å¥³]&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;ruleKey&quot;</span><span class="token operator">:</span> <span class="token string">&quot;userAge&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;ruleDesc&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ç”¨æˆ·å¹´é¾„&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://bugstack.cn/assets/images/pic-content/2019/10/DDD-02-2.png" alt="å¾®ä¿¡å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ &amp; æŸ¥è¯¢è§„åˆ™æ ‘ä¿¡æ¯"></p><p><strong>è§„åˆ™æ ‘è¡Œä¸ºä¿¡æ¯å†³ç­–</strong> æµ‹è¯•æ¥å£ï¼šhttp://localhost:8080/api/tree/decisionRuleTree è¯·æ±‚å‚æ•°ï¼š{&quot;treeId&quot;:10001}</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;fuzhengwei&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;treeId&quot;</span><span class="token operator">:</span> <span class="token number">10001</span><span class="token punctuation">,</span>
    <span class="token string">&quot;nodeId&quot;</span><span class="token operator">:</span> <span class="token number">112</span><span class="token punctuation">,</span>
    <span class="token string">&quot;nodeValue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;æœå®B&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;success&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://bugstack.cn/assets/images/pic-content/2019/10/DDD-02-3.png" alt="å¾®ä¿¡å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ &amp; è§„åˆ™æ ‘è¡Œä¸ºä¿¡æ¯å†³ç­–"></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>  <span class="token punctuation">.</span>   ____          _            __ _ _
 <span class="token operator">/</span>\\\\ <span class="token operator">/</span> ___&#39;_ __ _ <span class="token function">_</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span>_ __  __ _ \\ \\ \\ \\
<span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span>\\___ <span class="token operator">|</span> <span class="token char">&#39;_ | &#39;</span>_<span class="token operator">|</span> <span class="token operator">|</span> &#39;_ \\<span class="token operator">/</span> _\` <span class="token operator">|</span> \\ \\ \\ \\
 \\\\<span class="token operator">/</span>  ___<span class="token punctuation">)</span><span class="token operator">|</span> <span class="token operator">|</span>_<span class="token punctuation">)</span><span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">||</span> <span class="token punctuation">(</span>_<span class="token operator">|</span> <span class="token operator">|</span>  <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
  &#39;  <span class="token operator">|</span>____<span class="token operator">|</span> <span class="token punctuation">.</span>__<span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_\\__<span class="token punctuation">,</span> <span class="token operator">|</span> <span class="token operator">/</span> <span class="token operator">/</span> <span class="token operator">/</span> <span class="token operator">/</span>
 <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>_<span class="token operator">|=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>___<span class="token operator">/=</span><span class="token operator">/</span>_<span class="token operator">/</span>_<span class="token operator">/</span>_<span class="token operator">/</span>
 <span class="token operator">::</span> <span class="token class-name">Spring</span> <span class="token class-name">Boot</span> <span class="token operator">::</span>        <span class="token punctuation">(</span>v2<span class="token punctuation">.</span><span class="token number">0.5</span><span class="token punctuation">.</span><span class="token constant">RELEASE</span><span class="token punctuation">)</span>

<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">05.672</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span></span>DDDApplication</span>          <span class="token operator">:</span> <span class="token class-name">Starting</span> <span class="token class-name">DDDApplication</span> on fuzhengwei<span class="token operator">-</span><span class="token constant">PC</span> <span class="token keyword">with</span> <span class="token class-name">PID</span> <span class="token number">13820</span> <span class="token punctuation">(</span><span class="token class-name">E</span><span class="token operator">:</span>\\itstack\\itstack<span class="token punctuation">.</span>org\\itstack<span class="token operator">-</span>demo<span class="token operator">-</span>ddd<span class="token operator">-</span><span class="token number">02</span>\\target\\classes started by fuzhengwei in <span class="token class-name">E</span><span class="token operator">:</span>\\itstack\\itstack<span class="token punctuation">.</span>org\\itstack<span class="token operator">-</span>demo<span class="token operator">-</span>ddd<span class="token operator">-</span><span class="token number">02</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">05.675</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span></span>DDDApplication</span>          <span class="token operator">:</span> <span class="token class-name">No</span> active profile set<span class="token punctuation">,</span> falling back <span class="token keyword">to</span> <span class="token keyword">default</span> profiles<span class="token operator">:</span> <span class="token keyword">default</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">05.952</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name">ConfigServletWebServerApplicationContext</span> <span class="token operator">:</span> <span class="token class-name">Refreshing</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>AnnotationConfigServletWebServerApplicationContext</span><span class="token annotation punctuation">@3c4297f</span><span class="token operator">:</span> startup date <span class="token punctuation">[</span><span class="token class-name">Sat</span> <span class="token class-name">Oct</span> <span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">05</span> <span class="token constant">CST</span> <span class="token number">2019</span><span class="token punctuation">]</span><span class="token punctuation">;</span> root of context hierarchy
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">07.756</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>w<span class="token punctuation">.</span>embedded<span class="token punctuation">.</span>tomcat<span class="token punctuation">.</span></span>TomcatWebServer</span>  <span class="token operator">:</span> <span class="token class-name">Tomcat</span> initialized <span class="token keyword">with</span> <span class="token namespace">port</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">8080</span> <span class="token punctuation">(</span>http<span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">07.870</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>StandardService</span>   <span class="token operator">:</span> <span class="token class-name">Starting</span> service <span class="token punctuation">[</span><span class="token class-name">Tomcat</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">07.870</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>StandardEngine</span>  <span class="token operator">:</span> <span class="token class-name">Starting</span> <span class="token class-name">Servlet</span> <span class="token class-name">Engine</span><span class="token operator">:</span> <span class="token class-name">Apache</span> <span class="token class-name">Tomcat</span><span class="token operator">/</span><span class="token number">8.5</span><span class="token number">.34</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">07.896</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>a<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>AprLifecycleListener</span>   <span class="token operator">:</span> <span class="token class-name">The</span> <span class="token constant">APR</span> based <span class="token class-name">Apache</span> <span class="token class-name">Tomcat</span> <span class="token class-name">Native</span> library which allows optimal performance in production environments was not found on the java<span class="token punctuation">.</span>library<span class="token punctuation">.</span>path<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token class-name">Java</span>\\<span class="token class-name">Java</span>\\jdk1<span class="token punctuation">.</span><span class="token number">8.0_162</span>\\bin<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Windows</span>\\<span class="token class-name">Sun</span>\\<span class="token class-name">Java</span>\\bin<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Windows</span>\\system32<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Windows</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">ProgramData</span>\\<span class="token class-name">Oracle</span>\\<span class="token class-name">Java</span>\\javapath<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Windows</span>\\system32<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Windows</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Windows</span>\\<span class="token class-name">System32</span>\\<span class="token class-name">Wbem</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Windows</span>\\<span class="token class-name">System32</span>\\<span class="token class-name">WindowsPowerShell</span>\\v1<span class="token punctuation">.</span><span class="token number">0</span>\\<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token class-name">Java</span>\\<span class="token class-name">SlikSvn</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token class-name">Java</span>\\<span class="token class-name">MySQL</span> <span class="token class-name">Server</span> <span class="token number">5.1</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token class-name">Java</span>\\<span class="token class-name">TortoiseGit</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\nodejs\\<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token class-name">Java</span>\\<span class="token class-name">Java</span>\\jdk1<span class="token punctuation">.</span><span class="token number">6.0_24</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token class-name">Java</span>\\apache<span class="token operator">-</span>maven<span class="token operator">-</span><span class="token number">3.2</span><span class="token number">.3</span>\\bin<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Users</span>\\fuzhengwei\\<span class="token class-name">AppData</span>\\<span class="token class-name">Roaming</span>\\npm<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token class-name">Java</span>\\<span class="token class-name">Git</span>\\cmd<span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">08.040</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>a<span class="token punctuation">.</span>c<span class="token punctuation">.</span>c<span class="token punctuation">.</span></span>C</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token class-name">Tomcat</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>localhost<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token operator">/</span><span class="token punctuation">]</span>       <span class="token operator">:</span> <span class="token class-name">Initializing</span> <span class="token class-name">Spring</span> embedded <span class="token class-name">WebApplicationContext</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">08.040</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>web<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>ContextLoader</span>            <span class="token operator">:</span> <span class="token class-name">Root</span> <span class="token class-name">WebApplicationContext</span><span class="token operator">:</span> initialization completed in <span class="token number">2088</span> ms
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">08.102</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>w<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ServletRegistrationBean</span>  <span class="token operator">:</span> <span class="token class-name">Servlet</span> dispatcherServlet mapped <span class="token keyword">to</span> <span class="token punctuation">[</span><span class="token operator">/</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">08.126</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>w<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>FilterRegistrationBean</span>   <span class="token operator">:</span> <span class="token class-name">Mapping</span> filter<span class="token operator">:</span> &#39;characterEncodingFilter&#39; <span class="token keyword">to</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">/*]
2019-10-19 18:22:08.127  INFO 13820 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]
2019-10-19 18:22:08.127  INFO 13820 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]
2019-10-19 18:22:08.127  INFO 13820 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]
2019-10-19 18:22:09.118  INFO 13820 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/</span>favicon<span class="token punctuation">.</span>ico<span class="token punctuation">]</span> onto handler of type <span class="token punctuation">[</span><span class="token keyword">class</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>resource<span class="token punctuation">.</span></span>ResourceHttpRequestHandler</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">09.383</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerAdapter</span> <span class="token operator">:</span> <span class="token class-name">Looking</span> <span class="token keyword">for</span> <span class="token annotation punctuation">@ControllerAdvice</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>AnnotationConfigServletWebServerApplicationContext</span><span class="token annotation punctuation">@3c4297f</span><span class="token operator">:</span> startup date <span class="token punctuation">[</span><span class="token class-name">Sat</span> <span class="token class-name">Oct</span> <span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">05</span> <span class="token constant">CST</span> <span class="token number">2019</span><span class="token punctuation">]</span><span class="token punctuation">;</span> root of context hierarchy
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">10.261</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/api/tree/decisionRuleTree],methods=[POST]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>ResponseEntity</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span></span>DDDController</span><span class="token punctuation">.</span><span class="token function">decisionRuleTree</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span>dto<span class="token punctuation">.</span></span>DecisionMatterDTO</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">10.263</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/api/tree/queryTreeSummaryInfo],methods=[POST]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>ResponseEntity</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span></span>DDDController</span><span class="token punctuation">.</span><span class="token function">queryTreeSummaryInfo</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>interfaces<span class="token punctuation">.</span>dto<span class="token punctuation">.</span></span>TreeDTO</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">10.272</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/error]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Map</span><span class="token punctuation">&lt;</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>error<span class="token punctuation">.</span></span>BasicErrorController</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpServletRequest</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">10.274</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/error],produces=[text/html]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ModelAndView</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>error<span class="token punctuation">.</span></span>BasicErrorController</span><span class="token punctuation">.</span><span class="token function">errorHtml</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpServletRequest</span><span class="token punctuation">,</span><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpServletResponse</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">22</span><span class="token operator">:</span><span class="token number">10.309</span>  <span class="token constant">INFO</span> <span class="token number">13820</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>handler<span class="token punctuation">.</span></span>SimpleUrlHandlerMapping</span>  <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token constant">URL</span> path <span class="token punctuation">[</span><span class="token operator">/</span>webjars<span class="token doc-comment comment">/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-10-19 18:22:10.309  INFO 13820 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-10-19 18:22:16.272  INFO 13820 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-10-19 18:22:16.273  INFO 13820 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name &#39;dataSource&#39; has been autodetected for JMX exposure
2019-10-19 18:22:16.279  INFO 13820 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Located MBean &#39;dataSource&#39;: registering with JMX server as MBean [com.zaxxer.hikari:name=dataSource,type=HikariDataSource]
2019-10-19 18:22:16.375  INFO 13820 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;
2019-10-19 18:22:16.381  INFO 13820 --- [           main] org.itstack.demo.DDDApplication          : Started DDDApplication in 11.458 seconds (JVM running for 20.584)
2019-10-19 18:22:31.336  INFO 13820 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;
2019-10-19 18:22:31.336  INFO 13820 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started
2019-10-19 18:22:31.372  INFO 13820 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 36 ms
2019-10-19 18:22:32.427  INFO 13820 --- [nio-8080-exec-1] o.itstack.demo.interfaces.DDDController  : è§„åˆ™æ ‘è¡Œä¸ºä¿¡æ¯å†³ç­–10001Begin reqï¼š<span class="token punctuation">{</span>&quot;treeId&quot;:10001,&quot;userId&quot;:&quot;fuzhengwei&quot;,&quot;valMap&quot;:<span class="token punctuation">{</span>&quot;gender&quot;:&quot;man&quot;,&quot;age&quot;:&quot;25&quot;<span class="token punctuation">}</span><span class="token punctuation">}</span>
2019-10-19 18:22:32.508  INFO 13820 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2019-10-19 18:22:32.956  INFO 13820 --- [nio-8080-exec-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2019-10-19 18:22:33.028  INFO 13820 --- [nio-8080-exec-1] o.i.d.d.rule.service.engine.EngineBase   : æ ‘å¼•æ“=&gt;Teståˆ†ç±»è§„åˆ™æ ‘ userIdï¼šfuzhengwei treeIdï¼š10001 treeNodeï¼š11 ruleKeyï¼šuserGender matterValueï¼šman
2019-10-19 18:22:33.028  INFO 13820 --- [nio-8080-exec-1] o.i.d.d.rule.service.engine.EngineBase   : æ ‘å¼•æ“=&gt;Teståˆ†ç±»è§„åˆ™æ ‘ userIdï¼šfuzhengwei treeIdï¼š10001 treeNodeï¼š112 ruleKeyï¼šuserAge matterValueï¼š25
2019-10-19 18:22:33.039  INFO 13820 --- [nio-8080-exec-1] o.itstack.demo.interfaces.DDDController  : è§„åˆ™æ ‘è¡Œä¸ºä¿¡æ¯å†³ç­–10001End resï¼š<span class="token punctuation">{</span>&quot;treeId&quot;:10001,&quot;nodeValue&quot;:&quot;æœå®B&quot;,&quot;success&quot;:true,&quot;nodeId&quot;:112,&quot;userId&quot;:&quot;fuzhengwei&quot;<span class="token punctuation">}</span>
2019-10-19 18:23:36.989  INFO 13820 --- [nio-8080-exec-5] o.itstack.demo.interfaces.DDDController  : æŸ¥è¯¢è§„åˆ™æ ‘ä¿¡æ¯10001Begin reqï¼š<span class="token punctuation">{</span>&quot;treeId&quot;:10001<span class="token punctuation">}</span>
2019-10-19 18:23:37.006  INFO 13820 --- [nio-8080-exec-5] o.itstack.demo.interfaces.DDDController  : æŸ¥è¯¢è§„åˆ™æ ‘ä¿¡æ¯10001End resï¼š<span class="token punctuation">{</span>&quot;treeInfo&quot;:<span class="token punctuation">{</span>&quot;treeId&quot;:10001,&quot;treeName&quot;:&quot;è´­ç‰©åˆ†ç±»è§„åˆ™æ ‘&quot;,&quot;treeDesc&quot;:&quot;ç”¨äºåˆ†ç±»ä¸åŒç±»å‹ç”¨æˆ·å¯è´­ç‰©èŒƒå›´&quot;,&quot;nodeCount&quot;:7,&quot;lineCount&quot;:6<span class="token punctuation">}</span>,&quot;treeRulePointList&quot;:[<span class="token punctuation">{</span>&quot;ruleDesc&quot;:&quot;ç”¨æˆ·æ€§åˆ«[ç”·/å¥³]&quot;,&quot;ruleKey&quot;:&quot;userGender&quot;<span class="token punctuation">}</span>,<span class="token punctuation">{</span>&quot;ruleDesc&quot;:&quot;ç”¨æˆ·å¹´é¾„&quot;,&quot;ruleKey&quot;:&quot;userAge&quot;<span class="token punctuation">}</span>]<span class="token punctuation">}</span>

</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ç»¼ä¸Šæ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ç»¼ä¸Šæ€»ç»“" aria-hidden="true">#</a> ç»¼ä¸Šæ€»ç»“</h2>`,50),b={href:"http://www.drools.org/",target:"_blank",rel:"noopener noreferrer"},g=n("li",null,[n("strong",null,"ä¸€äº›å¤§å‹æ¶æ„è®¾è®¡å¾€å¾€ä¸æ˜¯æ¢ä¸€ä¸ªè®¾è®¡æ¨¡å‹å°±èƒ½å½»åº•æå‡æ•ˆç‡ï¼Œè¿˜æ˜¯éœ€è¦äººå‘˜æ•´ä½“ç´ è´¨ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸æ–­åŸ¹å…»çš„è¿‡ç¨‹")],-1),q=n("li",null,[n("strong",null,"é¢†åŸŸé©±åŠ¨è®¾è®¡çš„æ€æƒ³å¹¶ä¸åªæ˜¯æ•™ä¼šç¨‹åºçŒ¿å†™ä»£ç ï¼Œä¹Ÿæ˜¯éç¨‹åºå‘˜ä»¥å¤–çš„æ‰€æœ‰äº’è”ç½‘äººå‘˜éƒ½é€‚åˆå­¦ä¹ çš„å†…å®¹")],-1),h=n("li",null,[n("strong",null,"å®¶é‡Œä½çš„èˆ’é€‚ä¸èˆ’é€‚ï¼Œå¹¶ä¸ä¸€å®šå–å†³äºä¸‰å±…æˆ–è€…å››å±…ï¼Œå¤§éƒ¨åˆ†è¿˜æ˜¯ä¾èµ–äºæ€ä¹ˆå¯¹æ ¼å±€çš„å¸ƒç½®ã€‚äº‹å¿…èº¬äº²ã€äº²åŠ›äº²ä¸ºçš„ç²¾ç›Šæ±‚ç²¾ä¹‹è·¯ï¼Œç»ˆç©¶ä¼šè®©ä½ è®¾è®¡å‡ºæ›´åŠ åˆç†çš„ä»£ç ")],-1),f=n("strong",null,"bugstackè™«æ´æ ˆ",-1),D=n("strong",null,"DDDè½åœ°æ¡ˆä¾‹",-1),y={href:"https://t.zsxq.com/jAi2nUf",target:"_blank",rel:"noopener noreferrer"};function w(I,S){const a=p("ExternalLinkIcon");return o(),c("div",null,[u,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),r,s("åšå®¢ï¼š"),n("a",k,[s("https://bugstack.cn"),t(a)]),d,s("DDDé¡¹ç›®ï¼š"),n("a",m,[s("https://t.zsxq.com/jAi2nUf"),t(a)])]),v,n("ul",null,[n("li",null,[n("strong",null,[s("ä»¥ä¸Šæ¨¡æ‹Ÿè´­ç‰©åœºæ™¯ä¸‹çš„è§„åˆ™å¤„ç†æŠ½è±¡ä¸ºæ ‘å†³ç­–å¼•æ“ï¼Œä»¥è¾¾åˆ°ç‹¬ç«‹é¢†åŸŸæœåŠ¡ã€‚å¦å¤–å†³ç­–æœåŠ¡å¯ä»¥ä½¿ç”¨"),n("a",b,[s("drools"),t(a)]),s("ï¼Œä»»ä½•æŠ½è±¡å¹¶ä¸ä¸€å®šæ°¸è¿œä½¿ç”¨ï¼Œä¸è¦æ‹˜æ³¥äºä¸€ç§å½¢å¼")])]),g,q,h]),n("p",null,[s("å¾®ä¿¡æœç´¢ã€Œ"),f,s("ã€å…¬ä¼—å·ï¼Œå…³æ³¨åå›å¤ã€Œ"),D,s("ã€è·å–æœ¬æ–‡æºç &æ›´å¤šåŸåˆ›ä¸“é¢˜æ¡ˆä¾‹ï¼æ­¤å¤–æ¨èä½ ä¸€ä¸ªå¯ä»¥ä¸Šæ‰‹å®è·µçš„DDDé¡¹ç›®ï¼Œçœ‹çœ‹å¦‚ä½•ä»æµç¨‹ä¸­æç‚¼é¢†åŸŸè®¾è®¡ä»£ç å®ç°ï¼Œåœ¨åº”ç”¨å±‚ã€é¢†åŸŸå±‚ä»¥åŠåŸºç¡€å±‚çš„ä»“å‚¨å®ç°æ˜¯å¦‚ä½•å®Œæˆå¼€å‘å’Œè°ƒç”¨çš„ï¼Œé¡¹ç›®åœ°å€ï¼š"),n("a",y,[s("https://t.zsxq.com/jAi2nUf"),t(a)])])])}const _=e(i,[["render",w],["__file","2019-10-16-DDDzhuantianlierã€Šlingyucengjueceguizeshufuwushejiã€‹.html.vue"]]);export{_ as default};
