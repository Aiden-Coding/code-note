import{_ as p,r as o,o as c,c as l,a as n,b as a,d as t,e}from"./app-3RcBQnkC.js";const i={},u=n("h1",{id:"é¢ç»æ‰‹å†Œ-Â·-ç¬¬29ç¯‡ã€Šspring-ioc-ç‰¹æ€§æœ‰å“ªäº›-ä¸ä¼šè¯»ä¸æ‡‚æºç -ã€‹",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#é¢ç»æ‰‹å†Œ-Â·-ç¬¬29ç¯‡ã€Šspring-ioc-ç‰¹æ€§æœ‰å“ªäº›-ä¸ä¼šè¯»ä¸æ‡‚æºç -ã€‹","aria-hidden":"true"},"#"),a(" é¢ç»æ‰‹å†Œ Â· ç¬¬29ç¯‡ã€ŠSpring IOC ç‰¹æ€§æœ‰å“ªäº›ï¼Œä¸ä¼šè¯»ä¸æ‡‚æºç ï¼ã€‹")],-1),r=n("br",null,null,-1),k={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=e(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>å¤šçº¿ç¨‹ã€é”ã€JVMè°ƒä¼˜ï¼Œéƒ½èƒŒå‡ºèŠ±å•¦ï¼Œæ€ä¹ˆä¸€å†™ä»£ç è¿˜æ˜¯ä¹±ç³Ÿç³Ÿï¼Ÿ</code></p><p>ä¸ºä»€ä¹ˆè¿™äº›æ— è®ºä»ä¹¦æœ¬ã€è¯¾å ‚ã€é¢è¯•éƒ½æ˜¾å¾—éå¸¸é‡è¦çš„çŸ¥è¯†ï¼Œä½†æ˜¯åœ¨å®é™…çš„ç¼–ç¨‹ä¸­æ²¡æœ‰æå‡ä½ çš„ç¼–ç èƒ½åŠ›å‘¢ï¼Ÿ</p><p>é¦–å…ˆè¿™äº›è¿™äº›çŸ¥è¯†åœ¨å®é™…çš„äº’è”ç½‘ä¸šåŠ¡å¼€å‘ä¸­ï¼Œå‡ ä¹æ˜¯ä¸å¸¸ç”¨çš„ï¼Œå‡ ä¹æœ‰é”å’Œå¤šçº¿ç¨‹çš„åœºæ™¯ï¼Œä¸ºäº†æ€§èƒ½çš„æå‡ä¹ŸåŸºæœ¬éƒ½æ˜¯é‡‡ç”¨åˆ†å¸ƒå¼è®¾è®¡å’Œå®ç°äº†ã€‚è€Œè¿™äº›çœ‹ä¸Šå»å¾ˆæœ‰æŠ€æœ¯å«é‡çš„çŸ¥è¯†å¤šæ•°éƒ½è¢«åŒ…è£…åœ¨éä¸šåŠ¡é€»è¾‘åŠŸèƒ½çš„ç»„ä»¶ä¸­ï¼Œè€Œç¨‹åºå‘˜åœ¨åšä¸šåŠ¡å¼€å‘æ—¶å€™å‡ ä¹æ˜¯å…³å¿ƒä¸åˆ°ã€‚æ‰€ä»¥ä¼šäº†è¿™äº›ä¹Ÿå‡ ä¹ä¸å¤ªå¯èƒ½å°±æŠŠä½ çš„ç¼–ç èƒ½æå‡èµ·æ¥ï¼Œå¤šæ•°æå‡çš„æ˜¯ä½ åœ¨æŸ¥å¤æ‚bugæ—¶å€™æœ‰ä¸€è‡‚ä¹‹åŠ›ã€‚</p><p><strong>å°±åƒ</strong>ä¼šæ±‰å­—å°±èƒ½å†™å‡ºè¯—è¯æ­Œèµ‹å—ï¼Ÿæ‡‚RGBå°±èƒ½ç»˜å‡ºå±±æ²³å¤§å·å—ï¼Ÿèƒ½è¹¦è·³å°±å¯ä»¥èˆå‡ºæ‘‡æ›³ç”Ÿå§¿å—ï¼Ÿé‚£éƒ½æ˜¯ä¸å¯èƒ½çš„ï¼Œä¸è¦æƒ³ç€å±è‚¡å›´å™¶å¸ƒå°±è¯´ä¼šæ­¦æœ¯ï¼</p><p>å¦‚æœçœŸçš„æƒ³æŠŠä»£ç å†™å¥½ï¼Œå°±è¦ä¸€ç‚¹ç‚¹ä»ç§¯ç´¯æ•°æ®ç»“æ„å’Œç®—æ³•é€»è¾‘(<em>ä¸åªæ˜¯æœºæ¢°å¼çš„åˆ·å‡ é“é¢˜å°±ç®—äº†ã€‚ä½ ä¸ç†è§£ä¸ºä»€ä¹ˆï¼Œåˆ·å†å¤šä¹Ÿåªæ˜¯å¾’åŠ³</em>)ï¼Œæ¥ä¸‹æ¥è¦åšçš„æ˜¯å¯¹è®¾è®¡æ¨¡å¼å’Œæ¶æ„è®¾è®¡çš„ç†è§£ï¼Œæœ€ç»ˆæ˜¯ä¸æ–­çš„è¿ç”¨å’Œæ€»ç»“ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä½ ä¼šæ¥è§¦åˆ°ä¸šåŠ¡ã€äº§å“ã€è¿è¥ï¼Œç¼–ç åªæ˜¯æœ€åçš„å…·ä½“å®ç°ï¼Œå¹¶ä¸æ˜¯å…¨æµç¨‹ä¸­æœ€é‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œä¸ç¼–ç ç›¸æ¯”æ›´é‡è¦çš„æ˜¯é€»è¾‘è®¾è®¡ã€‚</p><h2 id="äºŒã€é¢è¯•é¢˜" tabindex="-1"><a class="header-anchor" href="#äºŒã€é¢è¯•é¢˜" aria-hidden="true">#</a> äºŒã€é¢è¯•é¢˜</h2><p><code>è°¢é£æœºï¼Œå°è®°ï¼</code>ï¼Œè¿™æ¬¡æ”¾å‡ä¸€éæ’¸ä¸²ä¸€éè¢«Springï¼Œå˜¿å˜¿ï¼Œæ£€éªŒæˆæœé¢è¯•å»ï¼</p><p><strong>é¢è¯•å®˜</strong>ï¼šé£æœºï¼Œä»Šå¤©å‡†å¤‡å’‹æ ·ï¼Œä¸Šæ¬¡é—®ä½ çš„éƒ½å­¦ä¼šäº†å—ï¼Ÿ</p><p><strong>è°¢é£æœº</strong>ï¼š@Resource æ˜¯ JDK <code>javax.annotation.Resource</code> æä¾›çš„æ³¨è§£ï¼Œå“ˆå“ˆå“ˆå“ˆå“ˆï¼Œå¦å¤–ä¹Ÿå­¦ä¹ äº†Beançš„æ³¨å…¥ã€‚</p><p><strong>é¢è¯•å®˜</strong>ï¼šæŒºå¥½è®°ä½äº†ä¸€äº›ï¼Œé‚£ä½ åœ¨åš Bean æ³¨å…¥å­¦ä¹ çš„æ—¶å€™ï¼Œæœ‰æ³¨æ„åˆ° Spring IOC çš„ç‰¹æ€§å—ï¼Œä½ éƒ½ç”¨åˆ°äº†ä»€ä¹ˆï¼Ÿ</p><p><strong>è°¢é£æœº</strong>ï¼šå—¯ï¼Œç”¨åˆ° Bean çš„é…ç½®ã€BeanDefinitionRegistryPostProcessor å¯¹ Bean çš„å®šä¹‰ã€è¿˜æœ‰ FactoryBean</p><p><strong>é¢è¯•å®˜</strong>ï¼šå¥½ï¼Œé‚£ä»Šå¤©å†å’Œä½ èŠèŠï¼Œaliasã€autowireã€depends-onã€factory-methodã€lookup-methodç­‰ï¼Œå®è·µéªŒè¯ä¸‹çœ‹çœ‹å®ƒä»¬æ˜¯æ€ä¹ˆåº”ç”¨çš„ã€‚</p><h2 id="ä¸‰ã€springioc-ç‰¹æ€§" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€springioc-ç‰¹æ€§" aria-hidden="true">#</a> ä¸‰ã€SpringIOC ç‰¹æ€§</h2><p>IOC(Inversion of Control)ï¼Œæ§åˆ¶åè½¬çš„æ ¸å¿ƒæ€æƒ³åœ¨äºï¼Œèµ„æºçš„ä½¿ç”¨ä¸ç”±ä½¿ç”¨å„è‡ªç®¡ç†ï¼Œè€Œæ˜¯äº¤ç»™ä¸ä½¿ç”¨èµ„æºçš„ç¬¬ä¸‰æ–¹è¿›è¡Œç®¡ç†ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯èµ„æºæ˜¯é›†ä¸­ç®¡ç†çš„ï¼Œå¯é…ç½®ã€æ˜“ç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿé™ä½äº†åŒæ–¹çš„ä¾èµ–åº¦åšåˆ°äº†ä½è€¦åˆã€‚</p><blockquote><p>æ—©åœ¨1988å¹´ï¼ŒRalph E. Johnson &amp; Brian Footeåœ¨è®ºæ–‡ã€ŠDesigning Reusable Classesã€‹</p><p>One important characteristic of a framework is that the methods defined by the user to tailor the framework will often be called from within the framework itself, rather than from the user&#39;s application code. The framework often plays the role of the main program in coordinating and sequencing application activity. This inversion of control gives frameworks the power to serve as extensible skeletons. The methods supplied by the user tailor the generic algorithms defined in the framework for a particular application.</p></blockquote><p>æ¥ä¸‹æ¥å°±ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹ IOC çš„ä¸€äº›æ ¸å¿ƒç‰¹æ€§ï¼Œå› ä¸ºè¿™äº›å†…å®¹ä¸ä»…æ˜¯é¢è¯•è€ƒç‚¹ï¼Œä¹Ÿæ˜¯åœ¨å¼€å‘ä¸­é—´ä»¶æˆ–è€…å°ç»„ä»¶æ—¶éœ€è¦ç”¨åˆ°çš„åŠŸèƒ½ç±»ï¼Œæ¦‚æ‹¬å¦‚ä¸‹ï¼š</p><p><img src="https://bugstack.cn/assets/images/2020/interview/interview-29-1.png" alt=""></p><h3 id="_1-xml-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-xml-é…ç½®" aria-hidden="true">#</a> 1. xml é…ç½®</h3><h4 id="_1-1-alias" tabindex="-1"><a class="header-anchor" href="#_1-1-alias" aria-hidden="true">#</a> 1.1 alias</h4><p><strong>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">UserDao</span> userDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘è¢«åˆå§‹åŒ–äº†ï¼ŒUserService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// ...get/set</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>xmlé…ç½®</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.UserService<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- èµ·ä¸ªåˆ«å --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>alias</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService-alias01<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token comment">&lt;!-- åˆ«åçš„åˆ«å --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>alias</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService-alias01<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alias</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService-alias02<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_alias</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring-config-alias.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Beanï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Bean é€šè¿‡åˆ«åï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService-alias01&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Bean é€šè¿‡åˆ«åçš„åˆ«åï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService-alias02&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">29.872</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span>ï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserService</span><span class="token annotation punctuation">@2a40cd94</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">29.872</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">.</span>s<span class="token punctuation">.</span></span>DefaultListableBeanFactory</span> <span class="token operator">-</span> <span class="token class-name">Returning</span> cached instance of singleton bean &#39;userService&#39;
<span class="token number">23</span><span class="token operator">:</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">29.872</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span> é€šè¿‡åˆ«åï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserService</span><span class="token annotation punctuation">@2a40cd94</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">29.872</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">.</span>s<span class="token punctuation">.</span></span>DefaultListableBeanFactory</span> <span class="token operator">-</span> <span class="token class-name">Returning</span> cached instance of singleton bean &#39;userService&#39;
<span class="token number">23</span><span class="token operator">:</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">29.872</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span> é€šè¿‡åˆ«åçš„åˆ«åï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserService</span><span class="token annotation punctuation">@2a40cd94</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><ul><li><strong>ç›®çš„</strong>ï¼šç”¨äºç»™ Bean èµ·åˆ«å</li><li><strong>ä½¿ç”¨</strong>ï¼šåœ¨ xml é…ç½®é‡Œæˆ‘ä»¬å¯ä»¥ç»™ä¸€ä¸ª Bean èµ·ä¸ªåˆ«åï¼Œè¿˜å¯ä»¥ç»™åˆ«åèµ·ä¸€ä¸ªæ–°çš„åˆ«åã€‚</li></ul><h4 id="_1-2-autowire" tabindex="-1"><a class="header-anchor" href="#_1-2-autowire" aria-hidden="true">#</a> 1.2 autowire</h4><p><strong>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æˆ‘è¢«åˆå§‹åŒ–äº†ï¼ŒUserDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>xmlé…ç½®</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.UserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>

<span class="token comment">&lt;!-- æ‰‹åŠ¨é…ç½®ä¾èµ– --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService-by-property<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.UserService<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- è‡ªåŠ¨é…ç½®ä¾èµ– --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService-by-autowire<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.UserService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>byName<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_autowire</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring-config-autowire.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Bean by æ‰‹åŠ¨é…ç½®ä¾èµ–ï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService-by-property&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Bean by è‡ªåŠ¨é…ç½®ä¾èµ–ï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService-by-autowire&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">05</span><span class="token operator">:</span><span class="token number">55.501</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span> by æ‰‹åŠ¨é…ç½®ä¾èµ–ï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserService</span><span class="token annotation punctuation">@679b62af</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">05</span><span class="token operator">:</span><span class="token number">55.501</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">.</span>s<span class="token punctuation">.</span></span>DefaultListableBeanFactory</span> <span class="token operator">-</span> <span class="token class-name">Returning</span> cached instance of singleton bean &#39;userService<span class="token operator">-</span>by<span class="token operator">-</span>autowire&#39;
<span class="token number">23</span><span class="token operator">:</span><span class="token number">05</span><span class="token operator">:</span><span class="token number">55.501</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span> by è‡ªåŠ¨é…ç½®ä¾èµ–ï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserService</span><span class="token annotation punctuation">@5cdd8682</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><ul><li><strong>ç›®çš„</strong>ï¼šautowire ç”¨äºæŠŠç±»ä¸­çš„å±æ€§æ³¨å…¥äº¤ç»™ Spring ç®¡ç†</li><li><strong>ä½¿ç”¨</strong>ï¼šåœ¨ xml é…ç½®ä¸­ï¼Œæœ‰ä¸¤ç§æ–¹å¼åˆ†åˆ«æ˜¯ï¼šæ‰‹åŠ¨é…ç½®ä¾èµ–ã€è‡ªåŠ¨é…ç½®ä¾èµ–ï¼Œæ‰‹åŠ¨çš„å¤§å®¶åŸºæœ¬å¾ˆå¸¸ç”¨ï¼Œè‡ªåŠ¨çš„é…ç½®ä¸€èˆ¬å¯èƒ½æ›´å¤šçš„å¯¹äºæ³¨è§£çš„ä½¿ç”¨ã€‚å…¶å®è¿™é‡Œçš„ autowire å’Œæ³¨è§£æœ‰ä¸€æ ·çš„ä½œç”¨ï¼Œautowire å‡ ä¸ªå¯é€‰é¡¹ï¼ŒbyNameã€byTypeã€constructor ç­‰ã€‚</li></ul><h4 id="_1-3-factory-method" tabindex="-1"><a class="header-anchor" href="#_1-3-factory-method" aria-hidden="true">#</a> 1.3 factory-method</h4><p><strong>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticFactoryBean</span> <span class="token punctuation">{</span>

    <span class="token keyword">static</span> <span class="token keyword">public</span> <span class="token class-name">UserDao</span> <span class="token function">getUserDaoByStatic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>xmlé…ç½®</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>staticFactory-method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.StaticFactoryBean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUserDaoByStatic<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_factory_method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring-config-factory-method.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Beanï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;staticFactory-method&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">15</span><span class="token operator">:</span><span class="token number">28.950</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span>ï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserDao</span><span class="token annotation punctuation">@588df31b</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">15</span><span class="token operator">:</span><span class="token number">28.950</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">.</span>s<span class="token punctuation">.</span></span>DefaultListableBeanFactory</span> <span class="token operator">-</span> <span class="token class-name">Returning</span> cached instance of singleton bean &#39;staticFactory<span class="token operator">-</span>bean&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><hr><ul><li><strong>ç›®çš„</strong>ï¼šæ ‡è¯†é™æ€å·¥å‚çš„å·¥å‚æ–¹æ³•(å·¥å‚æ–¹æ³•æ˜¯é™æ€çš„)</li><li><strong>ä½¿ç”¨</strong>ï¼šæ ¸å¿ƒåœ¨äº xml é…ç½®ä¸­æ·»åŠ  <code>factory-method=&quot;getUserDaoByStatic&quot;</code>ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨åˆå§‹åŒ–æ—¶å€™è°ƒç”¨å¯¹åº”é™æ€æ–¹æ³•çš„å®ä¾‹åŒ–å†…å®¹ã€‚</li></ul><h4 id="_1-4-factory-bean" tabindex="-1"><a class="header-anchor" href="#_1-4-factory-bean" aria-hidden="true">#</a> 1.4 factory-bean</h4><p><strong>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StaticFactoryBean</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDao</span> <span class="token function">getUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>xmlé…ç½®</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>staticFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.StaticFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>staticFactory-bean<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-bean</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>staticFactory<span class="token punctuation">&quot;</span></span> <span class="token attr-name">factory-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getUserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_factory_bean_method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring-config-factory-method.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Beanï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;staticFactory-bean&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">15</span><span class="token operator">:</span><span class="token number">28.950</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span>ï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserDao</span><span class="token annotation punctuation">@33b37288</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr><ul><li><strong>ç›®çš„</strong>ï¼šfactory-beanï¼Œå®ä¾‹åŒ–å·¥å‚ç±»</li><li><strong>ä½¿ç”¨</strong>ï¼šfactory-beanã€factory-method éœ€è¦é…åˆä½¿ç”¨ï¼Œ<code>factory-method=&quot;getUserDao&quot;</code> è°ƒç”¨çš„æ˜¯å¯¹åº”çš„è´¹é™æ€æ–¹æ³•è¿”å›å®ä¾‹åŒ–ç»“æœã€‚</li></ul><h4 id="_1-5-depends-on" tabindex="-1"><a class="header-anchor" href="#_1-5-depends-on" aria-hidden="true">#</a> 1.5 depends-on</h4><p><strong>xmlé…ç½®</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.UserService<span class="token punctuation">&quot;</span></span> <span class="token attr-name">depends-on</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.UserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_depends_on</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring-config-depends-on.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Beanï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>æˆ‘è¢«åˆå§‹åŒ–äº†ï¼Œ<span class="token class-name">UserDao</span>
æˆ‘è¢«åˆå§‹åŒ–äº†ï¼Œ<span class="token class-name">UserService</span>
<span class="token number">23</span><span class="token operator">:</span><span class="token number">24</span><span class="token operator">:</span><span class="token number">14.678</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span>ï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserDao</span><span class="token annotation punctuation">@45afc369</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><ul><li><strong>ç›®çš„</strong>ï¼šå¤„ç†ä¾èµ–åˆå§‹åŒ–é¡ºåºé—®é¢˜</li><li><strong>ä½¿ç”¨</strong>ï¼šå¦‚æœä¸ä½¿ç”¨ <code>depends-on=&quot;userDao&quot;</code>ï¼Œé‚£ä¹ˆæŒ‰ç…§ Spring çš„é…ç½®æœ€å…ˆåˆå§‹åŒ–çš„æ˜¯ <code>UserService</code>ï¼Œå½“ä½ æœ‰éœ€è¦å¤„ç†åˆå§‹åŒ–ä¾èµ–æ—¶åˆ™éœ€è¦ä½¿ç”¨åˆ°è¿™ä¸ªé…ç½®ã€‚</li></ul><h4 id="_1-6-lookup-method-applicationcontextaware" tabindex="-1"><a class="header-anchor" href="#_1-6-lookup-method-applicationcontextaware" aria-hidden="true">#</a> 1.6 lookup-method &amp; ApplicationContextAware</h4><p><strong>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserDaoProvider</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationContextAware</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">UserDao</span> <span class="token function">getUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">,</span> <span class="token class-name">UserDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">ApplicationContext</span> applicationContext<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>applicationContext <span class="token operator">=</span> applicationContext<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>xmlé…ç½®</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.UserDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>prototype<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>provider<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.UserDaoProvider<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_lookup_method</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring-config-lookup-method.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Beanï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">UserDaoProvider</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">&quot;provider&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Beanï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">UserDaoProvider</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token string">&quot;provider&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getUserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>æˆ‘è¢«åˆå§‹åŒ–äº†ï¼Œ<span class="token class-name">UserDao</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">25.813</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">.</span>s<span class="token punctuation">.</span></span>DefaultListableBeanFactory</span> <span class="token operator">-</span> <span class="token class-name">Finished</span> creating instance of bean &#39;userDao&#39;
<span class="token number">16</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">25.813</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span>ï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserDao</span><span class="token annotation punctuation">@1188e820</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">25.813</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">.</span>s<span class="token punctuation">.</span></span>DefaultListableBeanFactory</span> <span class="token operator">-</span> <span class="token class-name">Creating</span> instance of bean &#39;userDao&#39;
æˆ‘è¢«åˆå§‹åŒ–äº†ï¼Œ<span class="token class-name">UserDao</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">25.814</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">.</span>s<span class="token punctuation">.</span></span>DefaultListableBeanFactory</span> <span class="token operator">-</span> <span class="token class-name">Finished</span> creating instance of bean &#39;userDao&#39;
<span class="token number">16</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">:</span><span class="token number">25.814</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span>ï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserDao</span><span class="token annotation punctuation">@2f490758</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><ul><li><strong>ç›®çš„</strong>ï¼šè·å–å•ä¾‹ä¸‹çš„åŸå‹æ¨¡å¼ï¼Œæ¯æ¬¡è·å–éƒ½è¦æœ‰æ–°çš„å¯¹è±¡äº§ç”Ÿã€‚</li><li><strong>ä½¿ç”¨</strong>ï¼šå…¶å®æ ¸å¿ƒåœ¨äº ApplicationContextAware çš„ä½¿ç”¨å’Œ <code>scope=&quot;prototype&quot;</code> é…ç½®ï¼ŒSpring å†…éƒ¨å®ç°ä¸ºä½¿ç”¨ Cglib æ–¹æ³•ï¼Œé‡æ–°ç”Ÿæˆå­ç±»ï¼Œé‡å†™é…ç½®çš„æ–¹æ³•å’Œè¿”å›å¯¹è±¡ï¼Œè¾¾åˆ°åŠ¨æ€æ”¹å˜çš„æ•ˆæœã€‚</li></ul><h3 id="_2-æ¥å£ç±»" tabindex="-1"><a class="header-anchor" href="#_2-æ¥å£ç±»" aria-hidden="true">#</a> 2. æ¥å£ç±»</h3><h4 id="_2-1-factorybean" tabindex="-1"><a class="header-anchor" href="#_2-1-factorybean" aria-hidden="true">#</a> 2.1 FactoryBean</h4><p><strong>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyFactoryBean</span> <span class="token keyword">implements</span> <span class="token class-name">FactoryBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">UserDao</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">UserDao</span> <span class="token function">getObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">UserDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">getObjectType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">UserDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isSingleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>xmlé…ç½®</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.MyFactoryBean<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_factory_bean</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring-config-factory-bean.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è·å– Beanï¼š{}&quot;</span><span class="token punctuation">,</span> beanFactory<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userDao&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">23</span><span class="token operator">:</span><span class="token number">36</span><span class="token operator">:</span><span class="token number">19.339</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span>  <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span>test<span class="token punctuation">.</span></span>ApiTest</span> <span class="token operator">-</span> è·å– <span class="token class-name">Bean</span>ï¼š<span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>interview<span class="token punctuation">.</span></span>UserDao</span><span class="token annotation punctuation">@3bd94634</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><hr>`,95),v=n("li",null,[n("strong",null,"ç›®çš„"),a("ï¼šç”¨äºç”Ÿæˆ Bean çš„ Beanï¼Œå« FactoryBean")],-1),m=n("strong",null,"ä½¿ç”¨",-1),g={href:"https://bugstack.cn/interview/2021/03/30/%E9%9D%A2%E7%BB%8F%E6%89%8B%E5%86%8C-%E7%AC%AC28%E7%AF%87-%E4%BD%A0%E8%AF%B4-%E6%80%8E%E4%B9%88%E6%8A%8ABean%E5%A1%9E%E5%88%B0Spring%E5%AE%B9%E5%99%A8.html",target:"_blank",rel:"noopener noreferrer"},b=e(`<h4 id="_2-2-beanpostprocessor" tabindex="-1"><a class="header-anchor" href="#_2-2-beanpostprocessor" aria-hidden="true">#</a> 2.2 BeanPostProcessor</h4><p><strong>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanPostProcessor</span> <span class="token keyword">implements</span> <span class="token class-name">BeanPostProcessor</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessBeforeInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆå§‹åŒ–å‰ï¼š&quot;</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">postProcessAfterInitialization</span><span class="token punctuation">(</span><span class="token class-name">Object</span> bean<span class="token punctuation">,</span> <span class="token class-name">String</span> beanName<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åˆå§‹åŒ–åï¼š&quot;</span> <span class="token operator">+</span> beanName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>xmlé…ç½®</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>beanPostProcessor<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.MyBeanPostProcessor<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>userDao<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>org.itstack.interview.UserDao<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_bean_post_processor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">BeanFactory</span> beanFactory <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span><span class="token string">&quot;spring-config-bean-post-processor.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>åˆå§‹åŒ–å‰ï¼šuserDao
åˆå§‹åŒ–åï¼šuserDao
<span class="token number">16</span><span class="token operator">:</span><span class="token number">38</span><span class="token operator">:</span><span class="token number">32.686</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>f<span class="token punctuation">.</span>s<span class="token punctuation">.</span></span>DefaultListableBeanFactory</span> <span class="token operator">-</span> <span class="token class-name">Finished</span> creating instance of bean &#39;userDao&#39;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><ul><li><strong>ç›®çš„</strong>ï¼šæ‹¿åˆ° Bean å¯¹è±¡åˆå§‹åŒ–å‰åçš„åŠ¨ä½œï¼Œåšç›¸åº”çš„å¤„ç†</li><li><strong>ä½¿ç”¨</strong>ï¼šBeanPostProcessor æ˜¯ Spring æ¡†æ¶çš„æ‰©å±•æ¥å£ç±»ï¼Œé€šè¿‡å¯¹è¿™ä¸ªæ¥å£çš„å®ç°ï¼Œå°±å¯ä»¥åœ¨ Bean å®ä¾‹åŒ–çš„è¿‡ç¨‹ä¸­åšç›¸å…³çš„åŠ¨ä½œï¼Œæ¯”å¦‚æ‹¦æˆªä»¥åå‘å¸ƒåˆ°æ³¨å†Œä¸­å¿ƒç­‰ã€‚AOP çš„æ“ä½œä¹Ÿæ˜¯é€šè¿‡ BeanPostProcessor å’Œ IOC å®¹å™¨å»ºç«‹èµ·è”ç³»ã€‚</li></ul><h4 id="_2-3-beanfactoryaware" tabindex="-1"><a class="header-anchor" href="#_2-3-beanfactoryaware" aria-hidden="true">#</a> 2.3 BeanFactoryAware</h4><p><strong>æµ‹è¯•ç±»</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBeanFactoryAware</span> <span class="token keyword">implements</span> <span class="token class-name">BeanFactoryAware</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setBeanFactory</span><span class="token punctuation">(</span><span class="token class-name">BeanFactory</span> beanFactory<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">BeansException</span> <span class="token punctuation">{</span>
        
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><ul><li><strong>ç›®çš„</strong>ï¼šç”¨äºè·å–è¿è¡Œæ—¶ Bean çš„é…ç½®ä¿¡æ¯</li><li><strong>ä½¿ç”¨</strong>ï¼šBeanFactoryAware çš„å®ç°ç±»å¯ä»¥æ‹¿åˆ° beanFactoryï¼Œä¹Ÿå°±è·å–åˆ°äº†beançš„ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œæ­¤æ—¶ä½ æƒ³è·å–ä¸€äº›å¯¹è±¡çš„å±æ€§å°±éå¸¸å®¹æ˜“äº†ã€‚</li></ul><h2 id="å››ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å››ã€æ€»ç»“" aria-hidden="true">#</a> å››ã€æ€»ç»“</h2>`,17),h=n("li",null,"ä»¥ä¸Šæˆ‘ä»¬ä»‹ç»äº† Spring IOC çš„å¸¸ç”¨é…ç½®ç‰¹æ€§å’Œæ¥å£ï¼Œè™½ç„¶ç°åœ¨å¤§å®¶å¯èƒ½å·²ç»å¾ˆå°‘ä¼šä½¿ç”¨ xml é…ç½®å¯¹è±¡ï¼ŒåŸºæœ¬éƒ½æ˜¯æ³¨è§£çš„æ–¹å¼ã€‚ä½†åœ¨è¿™äº›æ³¨è§£çš„èƒŒåä¾ç„¶ä¼šæœ‰ç›¸åº”çš„é€šç”¨æ ¸å¿ƒåŸç†å®ç°ï¼Œåªæœ‰æŠŠè¿™éƒ¨åˆ†çŸ¥è¯†æ€»ç»“æ¸…æ¥šå¹¶å­¦ä¹ æºç ï¼Œæ‰èƒ½æ›´å¥½çš„ç†è§£æ³¨è§£çš„ä½¿ç”¨æ˜¯å¦‚ä½•å¤„ç†è¿™äº›é…ç½®çš„ã€‚",-1),y={href:"https://bugstack.cn/itstack-ark-middleware/2021/03/31/SpringBoot-%E4%B8%AD%E9%97%B4%E4%BB%B6%E8%AE%BE%E8%AE%A1%E5%92%8C%E5%BC%80%E5%8F%91-%E4%B8%93%E6%A0%8F%E5%B0%8F%E5%86%8C%E4%B8%8A%E7%BA%BF%E5%95%A6.html",target:"_blank",rel:"noopener noreferrer"},q=n("li",null,"åç»­ä¼šå›´ç»•è¿™äº›çŸ¥è¯†ç‚¹æ¥ç»™å¤§å®¶ä»‹ç»ä¸€äº›æºç çš„å­¦ä¹ ä»¥åŠåº”ç”¨å±‚çš„å¤„ç†ï¼ŒBeançš„åˆ›å»ºã€å¾ªç¯ä¾èµ–çš„ä¸‰çº§ç¼“å­˜è§£å†³æ–¹æ¡ˆç­‰ã€‚ä¹Ÿå¸Œæœ›å¤§å®¶åœ¨å­¦ä¹ çš„è¿‡ç¨‹ä¸­è¦å¤šæ€»ç»“ã€æ€è€ƒã€è®°å½•ï¼Œä¸€ç‚¹ç‚¹çš„æŠŠçŸ¥è¯†æ ˆå»ºè®¾å®Œæ•´ã€‚",-1);function w(f,x){const s=o("ExternalLinkIcon");return c(),l("div",null,[u,n("p",null,[a("ä½œè€…ï¼šå°å‚…å“¥ "),r,a("åšå®¢ï¼š"),n("a",k,[a("https://bugstack.cn"),t(s)])]),d,n("ul",null,[v,n("li",null,[m,a("ï¼šå…¶å®è¿™ä¸ªä½¿ç”¨åœ¨ä¸Šä¸€ç« èŠ‚å…³äº "),n("a",g,[a("Bean å¦‚ä½•æ³¨å…¥åˆ° Spring"),t(s)]),a(" å·²ç»æåˆ°è¿‡ï¼Œåœ¨ä¸€äº›ORMæ¡†æ¶ã€RPC-Starterç­‰éƒ½æœ‰æ‰€åº”ç”¨ã€‚")])]),b,n("ul",null,[h,n("li",null,[a("å…³äºæ¥å£çš„ç±»ä½¿ç”¨ï¼ŒFactoryBeanã€BeanPostProcessorã€BeanFactoryAwareã€ApplicationContextAwareï¼Œåœ¨æ—¥å¸¸çš„ä¸šåŠ¡æµç¨‹å¼€å‘ä¸­å‡ ä¹æ¥è§¦ä¸åˆ°ï¼Œä½†å¦‚æœè¦åšä¸€äº›æ ¸å¿ƒçš„ç»„ä»¶è®¾è®¡æˆ–è€…æ˜¯ä¸­é—´ä»¶çš„å¼€å‘ï¼Œå°±ä¼šä½¿ç”¨çš„éå¸¸é¢‘ç¹ã€‚å¦‚æœå¯¹è¿™éƒ¨åˆ†çŸ¥è¯†çš„è¿ç”¨ä¸äº†è§£ï¼Œå¯ä»¥å‚è€ƒï¼š"),n("a",y,[a("ã€ŠSpringBoot ä¸­é—´ä»¶è®¾è®¡å’Œå¼€å‘ã€‹"),t(s)])]),q])])}const _=p(i,[["render",w],["__file","2021-04-07-mianjingshouce Â· di29pianã€ŠSpring IOC texingyounaxieï¼Œbuhuidubudongyuanmaï¼ã€‹.html.vue"]]);export{_ as default};
