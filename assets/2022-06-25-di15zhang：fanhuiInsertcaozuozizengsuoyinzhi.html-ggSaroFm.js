import{_ as a,r as s,o,c,a as e,b as t,d as r,e as i}from"./app-3RcBQnkC.js";const l={},h=e("h1",{id:"【付费】第15章-返回insert操作自增索引值",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#【付费】第15章-返回insert操作自增索引值","aria-hidden":"true"},"#"),t(" 【付费】第15章：返回Insert操作自增索引值")],-1),p=e("br",null,null,-1),d={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},_=e("br",null,null,-1),u={href:"https://t.zsxq.com/Ja27ujq",target:"_blank",rel:"noopener noreferrer"},f=e("blockquote",null,[e("p",null,"沉淀、分享、成长，让自己和他人都能有所收获！😄")],-1),b=e("h2",{id:"零、优秀作业",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#零、优秀作业","aria-hidden":"true"},"#"),t(" 零、优秀作业")],-1),g={href:"https://t.zsxq.com/08nJotW1f",target:"_blank",rel:"noopener noreferrer"},m={href:"https://t.zsxq.com/0bdLqAP8V",target:"_blank",rel:"noopener noreferrer"},x=i('<h2 id="一、前言" tabindex="-1"><a class="header-anchor" href="#一、前言" aria-hidden="true">#</a> 一、前言</h2><p><code>技术的把控，往往都是体现在细节上！</code></p><p>如果说能用行，复制粘贴就能完成需求，出错了就手忙脚乱。那你一定不是一个高级开发，对很多的技术细节也都不了解。</p><p>当我们在使用技术语言、技术组件、技术框架时，如果不能清楚的知道核心常用的设计原理，往往在遇到问题的时候也很难定位原因。就像本章节要实现的插入数据后返回索引值，如果不清楚的了解这是两条 SQL 在同一个 DB 链接下，保证事务特征的情况下，才能给你返回正确的索引自增值。</p><p>那么<strong>类似</strong>这样的技术细节点，因为不清楚每一个步骤的核心过程，如果真的出错了，你是没法排查到的。所以我们在学习技术的时候，不用贪多，而应该贪心在细和精上。</p><h2 id="二、目标" tabindex="-1"><a class="header-anchor" href="#二、目标" aria-hidden="true">#</a> 二、目标</h2><p>在前面所有的章节内容对 ORM 框架的实现中，其中对 SQL 的 insert/delete/update/select 操作都是一条执行语句。</p><p>那这样有什么问题吗？这里到没有什么问题，主要的特征在于与本章节要实现的内容上想对照来看，本章节要实现的是在执行插入 SQL 后要返回此条插入语句后的自增索引。如图 15-1 所示 Mapper XML Insert 配置</p><p><img src="https://bugstack.cn/images/article/spring/mybatis-220627-01.png" alt="图 15-1 Mapper XML Insert 配置"></p><p>当一次数据库操作有2条执行 SQL 语句的时候，重点在于必须在同一个 DB 连接下，否则将会失去事务的特性。也就表示着，如果不是同一 DB 连接下，那么返回的自增ID将会是一个 0 值。</p><p>那么这也就是我们本章节所需要完成的目标，在解析 Mapper 配置文件以后，调用预处理语句处理器执行 SQL 时，需要在同一个链接下进行处理。</p>',11);function z(L,k){const n=s("ExternalLinkIcon");return o(),c("div",null,[h,e("p",null,[t("作者：小傅哥 "),p,t("博客："),e("a",d,[t("https://bugstack.cn"),r(n)]),_,t("星球："),e("a",u,[t("https://t.zsxq.com/Ja27ujq"),r(n)])]),f,b,e("ul",null,[e("li",null,[e("a",g,[t("在解析INSERT SELECT UPDATE DELETE标签的时候进行生产 @Liuliuliu"),r(n)])]),e("li",null,[e("a",m,[t("执行insert操作后，返回该插入语句的自增索引值（即主键） @liuc"),r(n)])])]),x])}const I=a(l,[["render",z],["__file","2022-06-25-di15zhang：fanhuiInsertcaozuozizengsuoyinzhi.html.vue"]]);export{I as default};
