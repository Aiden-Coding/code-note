import{_ as t,r as o,o as e,c,a as n,b as s,d as p,e as l}from"./app-3RcBQnkC.js";const u={},i=n("h1",{id:"nettyæ¡ˆä¾‹-netty4-1ä¸­çº§æ‹“å±•ç¯‡å…­ã€Šspringboot-netty-elasticsearchæ”¶é›†æ—¥å¿—ä¿¡æ¯æ•°æ®å­˜å‚¨ã€‹",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#nettyæ¡ˆä¾‹-netty4-1ä¸­çº§æ‹“å±•ç¯‡å…­ã€Šspringboot-netty-elasticsearchæ”¶é›†æ—¥å¿—ä¿¡æ¯æ•°æ®å­˜å‚¨ã€‹","aria-hidden":"true"},"#"),s(" nettyæ¡ˆä¾‹ï¼Œnetty4.1ä¸­çº§æ‹“å±•ç¯‡å…­ã€ŠSpringBoot+Netty+Elasticsearchæ”¶é›†æ—¥å¿—ä¿¡æ¯æ•°æ®å­˜å‚¨ã€‹")],-1),k=n("br",null,null,-1),r={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},m=n("blockquote",null,[n("p",null,"æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„")],-1),d=n("h2",{id:"å‰è¨€ä»‹ç»",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å‰è¨€ä»‹ç»","aria-hidden":"true"},"#"),s(" å‰è¨€ä»‹ç»")],-1),v=n("p",null,"åœ¨å®é™…çš„å¼€å‘åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›å°†å¤§é‡çš„ä¸šåŠ¡ä»¥åŠç”¨æˆ·è¡Œä¸ºæ•°æ®å­˜å‚¨èµ·æ¥ç”¨äºåˆ†æå¤„ç†ï¼Œä½†æ˜¯ç”±äºæ•°æ®é‡è¾ƒå¤§ä¸”éœ€è¦å…·å¤‡å¯åˆ†æåŠŸèƒ½æ‰€ä»¥å°†æ•°æ®å­˜å‚¨åˆ°æ–‡ä»¶ç³»ç»Ÿæ›´ä¸ºåˆç†ã€‚å°¤å…¶æ˜¯ä¸€äº›äº’è”ç½‘é«˜å¹¶å‘çº§åº”ç”¨ï¼Œå¾€å¾€æ•°æ®åº“éƒ½é‡‡ç”¨åˆ†åº“åˆ†è¡¨è®¾è®¡ï¼Œé‚£ä¹ˆå°†è¿™äº›åˆ†æ•£çš„æ•°æ®é€šè¿‡binlogæ±‡æ€»åˆ°ä¸€ä¸ªç»Ÿä¸€çš„æ–‡ä»¶ç³»ç»Ÿå°±æ˜¾å¾—éå¸¸æœ‰å¿…è¦ã€‚",-1),b=n("h2",{id:"å¼€å‘ç¯å¢ƒ",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å¼€å‘ç¯å¢ƒ","aria-hidden":"true"},"#"),s(" å¼€å‘ç¯å¢ƒ")],-1),g=n("li",null,"jdk1.8ã€jdk1.7ä»¥ä¸‹åªèƒ½éƒ¨åˆ†æ”¯æŒnettyã€‘",-1),y=n("li",null,"Netty4.1.36.Finalã€netty3.x 4.x 5æ¯æ¬¡çš„å˜åŒ–è¾ƒå¤§ï¼Œæ¥å£ç±»åä¹Ÿéšç€å˜åŒ–ã€‘",-1),w={href:"https://bugstack.cn/md/devops/2019-08-12-windows%E7%8E%AF%E5%A2%83%E4%B8%8B%E5%AE%89%E8%A3%85elasticsearch6.2.2.html",target:"_blank",rel:"noopener noreferrer"},h={href:"https://bugstack.cn/md/devops/2019-08-13-elasticsearch-head%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85.html",target:"_blank",rel:"noopener noreferrer"},f=l(`<h2 id="ä»£ç ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä»£ç ç¤ºä¾‹" aria-hidden="true">#</a> ä»£ç ç¤ºä¾‹</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">06</span>
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â”œâ”€â”€ java
    â”‚   â”‚   â””â”€â”€ org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>netty
    â”‚   â”‚       â”œâ”€â”€ codec
    â”‚   â”‚       â”‚	â”œâ”€â”€ <span class="token class-name">ObjDecoder</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â””â”€â”€ <span class="token class-name">ObjEncoder</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”œâ”€â”€ domain
    â”‚   â”‚       â”‚	â”œâ”€â”€ <span class="token class-name">TransportProtocol</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â””â”€â”€ <span class="token class-name">User</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”œâ”€â”€ server
    â”‚   â”‚       â”‚	â”œâ”€â”€ <span class="token class-name">MyChannelInitializer</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”œâ”€â”€ <span class="token class-name">MyServerHandler</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â””â”€â”€ <span class="token class-name">NettyServer</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”œâ”€â”€ service
    â”‚   â”‚       â”‚	â”œâ”€â”€ impl
    â”‚   â”‚       â”‚	â”‚	â””â”€â”€ <span class="token class-name">UserServiceImpl</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”‚	â”œâ”€â”€ <span class="token class-name">UserRepository</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â””â”€â”€ <span class="token class-name">UserService</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â”œâ”€â”€ util
    â”‚   â”‚       â”‚	â””â”€â”€ <span class="token class-name">SerializationUtil</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”œâ”€â”€ web
    â”‚   â”‚       â”‚	â””â”€â”€ <span class="token class-name">NettyController</span><span class="token punctuation">.</span>java	
    â”‚   â”‚       â””â”€â”€	<span class="token class-name">Application</span><span class="token punctuation">.</span>java	
    â”‚   â””â”€â”€ resources	
    â”‚      â””â”€â”€ application<span class="token punctuation">.</span>yml
    â”‚
    â””â”€â”€ test
         â””â”€â”€ java
             â””â”€â”€ org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>test
				 â””â”€â”€ <span class="token class-name">ApiTest</span><span class="token punctuation">.</span>java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ¼”ç¤ºéƒ¨åˆ†é‡ç‚¹ä»£ç å—ï¼Œå®Œæ•´ä»£ç ä¸‹è½½å…³æ³¨å…¬ä¼—å·ï¼›bugstackè™«æ´æ ˆ</strong></p><blockquote><p>domain/User.java</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token annotation punctuation">@Document</span><span class="token punctuation">(</span>indexName <span class="token operator">=</span> <span class="token string">&quot;stack&quot;</span><span class="token punctuation">,</span> type <span class="token operator">=</span> <span class="token string">&quot;group_user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>   <span class="token comment">//å§“å</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span>   <span class="token comment">//å¹´é¾„</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> level<span class="token punctuation">;</span>  <span class="token comment">//çº§åˆ«</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> entryDate<span class="token punctuation">;</span><span class="token comment">//æ—¶é—´</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> mobile<span class="token punctuation">;</span> <span class="token comment">//ç”µè¯</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>  <span class="token comment">//é‚®ç®±</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span><span class="token comment">//åœ°å€</span>


    <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">,</span> <span class="token class-name">String</span> level<span class="token punctuation">,</span> <span class="token class-name">Date</span> entryDate<span class="token punctuation">,</span> <span class="token class-name">String</span> mobile<span class="token punctuation">,</span> <span class="token class-name">String</span> email<span class="token punctuation">,</span> <span class="token class-name">String</span> address<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>level <span class="token operator">=</span> level<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>entryDate <span class="token operator">=</span> entryDate<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>mobile <span class="token operator">=</span> mobile<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> get<span class="token operator">/</span>set
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>server/MyServerHandler.java</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token string">&quot;myServerHandler&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServerHandler</span> <span class="token keyword">extends</span> <span class="token class-name">ChannelInboundHandlerAdapter</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">MyServerHandler</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * å½“å®¢æˆ·ç«¯ä¸»åŠ¨é“¾æ¥æœåŠ¡ç«¯çš„é“¾æ¥åï¼Œè¿™ä¸ªé€šé“å°±æ˜¯æ´»è·ƒçš„äº†ã€‚ä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å»ºç«‹äº†é€šä¿¡é€šé“å¹¶ä¸”å¯ä»¥ä¼ è¾“æ•°æ®
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">channelActive</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">SocketChannel</span> channel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SocketChannel</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘Šå¼€å§‹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘Šä¿¡æ¯ï¼šæœ‰ä¸€å®¢æˆ·ç«¯é“¾æ¥åˆ°æœ¬æœåŠ¡ç«¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘ŠIP:{}&quot;</span><span class="token punctuation">,</span> channel<span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘ŠPort:{}&quot;</span><span class="token punctuation">,</span> channel<span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘Šå®Œæ¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * å½“å®¢æˆ·ç«¯ä¸»åŠ¨æ–­å¼€æœåŠ¡ç«¯çš„é“¾æ¥åï¼Œè¿™ä¸ªé€šé“å°±æ˜¯ä¸æ´»è·ƒçš„ã€‚ä¹Ÿå°±æ˜¯è¯´å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„å…³é—­äº†é€šä¿¡é€šé“å¹¶ä¸”ä¸å¯ä»¥ä¼ è¾“æ•°æ®
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">channelInactive</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;å®¢æˆ·ç«¯æ–­å¼€é“¾æ¥{}&quot;</span><span class="token punctuation">,</span> ctx<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">channelRead</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">,</span> <span class="token class-name">Object</span> msg<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//æ¥æ”¶msgæ¶ˆæ¯{ä¸ä¸Šä¸€ç« èŠ‚ç›¸æ¯”ï¼Œæ­¤å¤„å·²ç»ä¸éœ€è¦è‡ªå·±è¿›è¡Œè§£ç }</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; æœåŠ¡ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š&quot;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//æ¥æ”¶æ•°æ®å†™å…¥åˆ°Elasticsearch</span>
        <span class="token class-name">TransportProtocol</span> transportProtocol <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">TransportProtocol</span><span class="token punctuation">)</span> msg<span class="token punctuation">;</span>
        userService<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> transportProtocol<span class="token punctuation">.</span><span class="token function">getObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * æŠ“ä½å¼‚å¸¸ï¼Œå½“å‘ç”Ÿå¼‚å¸¸çš„æ—¶å€™ï¼Œå¯ä»¥åšä¸€äº›ç›¸åº”çš„å¤„ç†ï¼Œæ¯”å¦‚æ‰“å°æ—¥å¿—ã€å…³é—­é“¾æ¥
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">exceptionCaught</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> cause<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;å¼‚å¸¸ä¿¡æ¯ï¼š\\r\\n&quot;</span> <span class="token operator">+</span> cause<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>service/UserService.java *æä¾›CRUDæ–¹æ³•</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">void</span> <span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">User</span> <span class="token function">queryUserById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">PageRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>service/UserRepository.java *å¯ä»¥æ‰©å±•éœ€è¦çš„æ–¹æ³•ï¼ŒUseræ˜¯è¡¨ã€Stringæ˜¯ID</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">UserRepository</span> <span class="token keyword">extends</span> <span class="token class-name">ElasticsearchRepository</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Pageable</span> pageable<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>service/impl/UserServiceImpl.java *CRUDå®ç°ç±»</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">UserRepository</span> dataRepository<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setDataRepository</span><span class="token punctuation">(</span><span class="token class-name">UserRepository</span> dataRepository<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>dataRepository <span class="token operator">=</span> dataRepository<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">User</span> user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dataRepository<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">deleteById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        dataRepository<span class="token punctuation">.</span><span class="token function">deleteById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">queryUserById</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Optional</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> optionalUser <span class="token operator">=</span> dataRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> optionalUser<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dataRepository<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> <span class="token function">findByName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">PageRequest</span> request<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> dataRepository<span class="token punctuation">.</span><span class="token function">findByName</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> request<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>Application.java *springbootå¯åŠ¨æ—¶ä¼šåŒæ—¶å¯åŠ¨NettyæœåŠ¡</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token keyword">implements</span> <span class="token class-name">CommandLineRunner</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${netty.host}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> host<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${netty.port}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">NettyServer</span> nettyServer<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">&quot;es.set.netty.runtime.available.processors&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">InetSocketAddress</span> address <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InetSocketAddress</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ChannelFuture</span> channelFuture <span class="token operator">=</span> nettyServer<span class="token punctuation">.</span><span class="token function">bing</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addShutdownHook</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> nettyServer<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        channelFuture<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">closeFuture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">syncUninterruptibly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>application.properties *é…ç½®æ–‡ä»¶ï½›æœåŠ¡ç«¯å£ã€nettyã€Elasticsearchï½</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>## æœåŠ¡ç«¯å£
server<span class="token punctuation">.</span>port <span class="token operator">=</span> <span class="token number">8080</span>

## <span class="token class-name">Netty</span>æœåŠ¡ç«¯é…ç½®
netty<span class="token punctuation">.</span>host <span class="token operator">=</span> <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
netty<span class="token punctuation">.</span>port <span class="token operator">=</span> <span class="token number">7397</span>

## <span class="token class-name">Elasticsearch</span>é…ç½®ï½›æ›´æ¢ä¸ºè‡ªå·±çš„cluster<span class="token operator">-</span>nameã€cluster<span class="token operator">-</span>nodesï½
spring<span class="token punctuation">.</span>data<span class="token punctuation">.</span>elasticsearch<span class="token punctuation">.</span>cluster<span class="token operator">-</span>name<span class="token operator">=</span>es<span class="token operator">-</span>itstack
spring<span class="token punctuation">.</span>data<span class="token punctuation">.</span>elasticsearch<span class="token punctuation">.</span>cluster<span class="token operator">-</span>nodes<span class="token operator">=</span><span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span><span class="token operator">:</span><span class="token number">9300</span>
spring<span class="token punctuation">.</span>data<span class="token punctuation">.</span>elasticsearch<span class="token punctuation">.</span>repositories<span class="token punctuation">.</span>enabled<span class="token operator">=</span><span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ApiTest.java *Nettyå®¢æˆ·ç«¯ï¼Œç”¨äºå‘æœåŠ¡ç«¯å‘é€æ•°æ®</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApiTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">EventLoopGroup</span> workerGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NioEventLoopGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Bootstrap</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>workerGroup<span class="token punctuation">)</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token class-name">NioSocketChannel</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token class-name">ChannelOption</span><span class="token punctuation">.</span><span class="token constant">AUTO_READ</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">handler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChannelInitializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SocketChannel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">initChannel</span><span class="token punctuation">(</span><span class="token class-name">SocketChannel</span> channel<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
                    <span class="token comment">//å¯¹è±¡ä¼ è¾“å¤„ç†</span>
                    channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ObjDecoder</span><span class="token punctuation">(</span><span class="token class-name">TransportProtocol</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ObjEncoder</span><span class="token punctuation">(</span><span class="token class-name">TransportProtocol</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// åœ¨ç®¡é“ä¸­æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„æ¥æ”¶æ•°æ®å®ç°æ–¹æ³•</span>
                    channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChannelInboundHandlerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token annotation punctuation">@Override</span>
                        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">channelRead</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">,</span> <span class="token class-name">Object</span> msg<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ChannelFuture</span> f <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">7397</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;itstack-demo-netty client start done. {å…³æ³¨å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆï¼Œè·å–æºç }&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token class-name">TransportProtocol</span> tp1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;æå°æ˜&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;T0-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566668888&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;184172133@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;åŒ—äº¬&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;å¼ å¤§æ˜&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T0-2&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660001&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;huahua@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å—äº¬&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;æä¹¦é¹&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T1-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ¦†æ ‘&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;éŸ©å°é›ª&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T2-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ¦†æ ‘&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;è‘£å”é£&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T4-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ²³åŒ—&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;å€™æ˜ç›¸&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T5-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¸‹èŠ±å›­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp7 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;ç”°æ˜æ˜&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T3-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä¸œå¹³&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp8 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;ç‹å¤§ä¼Ÿ&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T4-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;è¥¿æ¹–&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp9 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;æé›ªæ˜&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T1-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å—æ˜Œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp10 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;æœ±å°é£&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T2-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;å‰æ—&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp11 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;ç‰›å¤§æ˜&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T1-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;é•¿æ˜¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">TransportProtocol</span> tp12 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransportProtocol</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token constant">UUID</span><span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;å…³é›ªå„¿&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;T2-1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;13566660002&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;xiaobai@qq.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ·±åœ³&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//å‘æœåŠ¡ç«¯å‘é€ä¿¡æ¯</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp1<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp2<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp3<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp4<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp5<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp6<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp7<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp8<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp9<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp10<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp11<span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>tp12<span class="token punctuation">)</span><span class="token punctuation">;</span>

            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">closeFuture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">syncUninterruptibly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            workerGroup<span class="token punctuation">.</span><span class="token function">shutdownGracefully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æµ‹è¯•ç»“æœ" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•ç»“æœ" aria-hidden="true">#</a> æµ‹è¯•ç»“æœ</h2><blockquote><p>å¯åŠ¨Elasticsearch *ä¹Ÿå¯ä»¥ç›´æ¥åŒå‡»..elasticsearch-6.2.2/bin/elasticsearch.bat</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\elasticsearch\\node01\\elasticsearch<span class="token operator">-</span><span class="token number">6.2</span><span class="token number">.2</span>\\bin<span class="token operator">&gt;</span>elasticsearch<span class="token punctuation">.</span>bat
<span class="token punctuation">[</span><span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span><span class="token constant">T14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">562</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">INFO</span> <span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>e<span class="token punctuation">.</span>n<span class="token punctuation">.</span></span>Node</span>               <span class="token punctuation">]</span> <span class="token punctuation">[</span>node01<span class="token punctuation">]</span> initializin
g <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span><span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span><span class="token constant">T14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">770</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">INFO</span> <span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>e<span class="token punctuation">.</span>e<span class="token punctuation">.</span></span>NodeEnvironment</span>    <span class="token punctuation">]</span> <span class="token punctuation">[</span>node01<span class="token punctuation">]</span> using <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> d
ata paths<span class="token punctuation">,</span> mounts <span class="token punctuation">[</span><span class="token punctuation">[</span>æîˆ™æ¬¢ <span class="token punctuation">(</span><span class="token class-name">D</span><span class="token operator">:</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> net usable_space <span class="token punctuation">[</span><span class="token number">301.3</span>gb<span class="token punctuation">]</span><span class="token punctuation">,</span> net total_space <span class="token punctuation">[</span>
<span class="token number">407.1</span>gb<span class="token punctuation">]</span><span class="token punctuation">,</span> types <span class="token punctuation">[</span><span class="token constant">NTFS</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span><span class="token constant">T14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">771</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">INFO</span> <span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>e<span class="token punctuation">.</span>e<span class="token punctuation">.</span></span>NodeEnvironment</span>    <span class="token punctuation">]</span> <span class="token punctuation">[</span>node01<span class="token punctuation">]</span> heap size <span class="token punctuation">[</span>
<span class="token number">990.7</span>mb<span class="token punctuation">]</span><span class="token punctuation">,</span> compressed ordinary object pointers <span class="token punctuation">[</span><span class="token boolean">true</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span><span class="token constant">T14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">843</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">INFO</span> <span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>e<span class="token punctuation">.</span>n<span class="token punctuation">.</span></span>Node</span>               <span class="token punctuation">]</span> <span class="token punctuation">[</span>node01<span class="token punctuation">]</span> node name <span class="token punctuation">[</span>
node01<span class="token punctuation">]</span><span class="token punctuation">,</span> node <span class="token constant">ID</span> <span class="token punctuation">[</span><span class="token class-name">R5wRCDr0SSKsVsgkZwB</span><span class="token operator">-</span><span class="token class-name">Hg</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span><span class="token constant">T14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">843</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">INFO</span> <span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>e<span class="token punctuation">.</span>n<span class="token punctuation">.</span></span>Node</span>               <span class="token punctuation">]</span> <span class="token punctuation">[</span>node01<span class="token punctuation">]</span> version<span class="token punctuation">[</span><span class="token number">6.2</span>
<span class="token number">.2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> pid<span class="token punctuation">[</span><span class="token number">22264</span><span class="token punctuation">]</span><span class="token punctuation">,</span> build<span class="token punctuation">[</span><span class="token number">10</span>b1edd<span class="token operator">/</span><span class="token number">2018</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">16</span><span class="token constant">T19</span><span class="token operator">:</span><span class="token number">01</span><span class="token operator">:</span><span class="token number">30.685723</span>Z<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">OS</span><span class="token punctuation">[</span><span class="token class-name">Windows</span> <span class="token number">7</span><span class="token operator">/</span><span class="token number">6.1</span><span class="token operator">/</span>am
d64<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">JVM</span><span class="token punctuation">[</span><span class="token class-name">Oracle</span> <span class="token class-name">Corporation</span><span class="token operator">/</span><span class="token class-name">Java</span> <span class="token class-name">HotSpot</span><span class="token punctuation">(</span><span class="token constant">TM</span><span class="token punctuation">)</span> <span class="token number">64</span><span class="token operator">-</span><span class="token class-name">Bit</span> <span class="token class-name">Server</span> <span class="token constant">VM</span><span class="token operator">/</span><span class="token number">1.8</span><span class="token number">.0_45</span><span class="token operator">/</span><span class="token number">25.45</span><span class="token operator">-</span>b0
<span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">[</span><span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span><span class="token constant">T14</span><span class="token operator">:</span><span class="token number">09</span><span class="token operator">:</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token number">843</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token constant">INFO</span> <span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>e<span class="token punctuation">.</span>n<span class="token punctuation">.</span></span>Node</span>               <span class="token punctuation">]</span> <span class="token punctuation">[</span>node01<span class="token punctuation">]</span> <span class="token constant">JVM</span> argumen
ts <span class="token punctuation">[</span><span class="token operator">-</span><span class="token class-name">Xms1g</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token class-name">Xmx1g</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token constant">XX</span><span class="token operator">:</span><span class="token operator">+</span><span class="token class-name">UseConcMarkSweepGC</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token constant">XX</span><span class="token operator">:</span><span class="token class-name">CMSInitiatingOccupancyFraction</span><span class="token operator">=</span>
<span class="token number">75</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token constant">XX</span><span class="token operator">:</span><span class="token operator">+</span><span class="token class-name">UseCMSInitiatingOccupancyOnly</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token constant">XX</span><span class="token operator">:</span><span class="token operator">+</span><span class="token class-name">AlwaysPreTouch</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token class-name">Xss1m</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token class-name">Djava</span><span class="token punctuation">.</span>awt<span class="token punctuation">.</span>
headless<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token class-name">Dfile</span><span class="token punctuation">.</span>encoding<span class="token operator">=</span><span class="token constant">UTF</span><span class="token operator">-</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token class-name">Djna</span><span class="token punctuation">.</span>nosys<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token constant">XX</span><span class="token operator">:</span><span class="token operator">-</span><span class="token class-name">OmitStackTraceInFas</span>
tThrow<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>noUnsafe<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>noKeySetOptimization<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>net
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å¯åŠ¨Elasticsearch-head</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\elasticsearch\\head<span class="token operator">&gt;</span>npm run start

<span class="token operator">&gt;</span> elasticsearch<span class="token operator">-</span>head<span class="token annotation punctuation">@0.0.0</span> start <span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\elasticsearch\\head
<span class="token operator">&gt;</span> grunt server

<span class="token class-name">Running</span> <span class="token string">&quot;connect:server&quot;</span> <span class="token punctuation">(</span>connect<span class="token punctuation">)</span> task
<span class="token class-name">Waiting</span> forever<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token class-name">Started</span> connect web server on http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">9100</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://bugstack.cn/assets/images/pic-content/2019/08/netty-2-06-1.png" alt="Elasticsearch-head"></p><blockquote><p>å¯åŠ¨StringBoot *NettyæœåŠ¡ä¼šéšç€å¯åŠ¨{Application.main}</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>  <span class="token punctuation">.</span>   ____          _            __ _ _
 <span class="token operator">/</span>\\\\ <span class="token operator">/</span> ___&#39;_ __ _ <span class="token function">_</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span>_ __  __ _ \\ \\ \\ \\
<span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span>\\___ <span class="token operator">|</span> <span class="token char">&#39;_ | &#39;</span>_<span class="token operator">|</span> <span class="token operator">|</span> &#39;_ \\<span class="token operator">/</span> _\` <span class="token operator">|</span> \\ \\ \\ \\
 \\\\<span class="token operator">/</span>  ___<span class="token punctuation">)</span><span class="token operator">|</span> <span class="token operator">|</span>_<span class="token punctuation">)</span><span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">||</span> <span class="token punctuation">(</span>_<span class="token operator">|</span> <span class="token operator">|</span>  <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
  &#39;  <span class="token operator">|</span>____<span class="token operator">|</span> <span class="token punctuation">.</span>__<span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_\\__<span class="token punctuation">,</span> <span class="token operator">|</span> <span class="token operator">/</span> <span class="token operator">/</span> <span class="token operator">/</span> <span class="token operator">/</span>
 <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>_<span class="token operator">|=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>___<span class="token operator">/=</span><span class="token operator">/</span>_<span class="token operator">/</span>_<span class="token operator">/</span>_<span class="token operator">/</span>
 <span class="token operator">::</span> <span class="token class-name">Spring</span> <span class="token class-name">Boot</span> <span class="token operator">::</span>        <span class="token punctuation">(</span>v2<span class="token punctuation">.</span><span class="token number">0.1</span><span class="token punctuation">.</span><span class="token constant">RELEASE</span><span class="token punctuation">)</span>

<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">49.619</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>netty<span class="token punctuation">.</span></span>Application</span>       <span class="token operator">:</span> <span class="token class-name">Starting</span> <span class="token class-name">Application</span> on <span class="token constant">JRA1W11T0247</span> <span class="token keyword">with</span> <span class="token class-name">PID</span> <span class="token number">5976</span> <span class="token punctuation">(</span><span class="token class-name">E</span><span class="token operator">:</span>\\itstack\\<span class="token constant">GIT</span>\\itstack<span class="token punctuation">.</span>org\\itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty\\itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">06</span>\\target\\classes started by fuzhengwei1 in <span class="token class-name">E</span><span class="token operator">:</span>\\itstack\\<span class="token constant">GIT</span>\\itstack<span class="token punctuation">.</span>org\\itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty<span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">49.622</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>netty<span class="token punctuation">.</span></span>Application</span>       <span class="token operator">:</span> <span class="token class-name">No</span> active profile set<span class="token punctuation">,</span> falling back <span class="token keyword">to</span> <span class="token keyword">default</span> profiles<span class="token operator">:</span> <span class="token keyword">default</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">49.704</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name">ConfigServletWebServerApplicationContext</span> <span class="token operator">:</span> <span class="token class-name">Refreshing</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>AnnotationConfigServletWebServerApplicationContext</span><span class="token annotation punctuation">@7f010382</span><span class="token operator">:</span> startup date <span class="token punctuation">[</span><span class="token class-name">Sat</span> <span class="token class-name">Aug</span> <span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">49</span> <span class="token constant">CST</span> <span class="token number">2019</span><span class="token punctuation">]</span><span class="token punctuation">;</span> root of context hierarchy
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">51.341</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>w<span class="token punctuation">.</span>embedded<span class="token punctuation">.</span>tomcat<span class="token punctuation">.</span></span>TomcatWebServer</span>  <span class="token operator">:</span> <span class="token class-name">Tomcat</span> initialized <span class="token keyword">with</span> <span class="token namespace">port</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">8080</span> <span class="token punctuation">(</span>http<span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">51.367</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>StandardService</span>   <span class="token operator">:</span> <span class="token class-name">Starting</span> service <span class="token punctuation">[</span><span class="token class-name">Tomcat</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">51.367</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>StandardEngine</span>  <span class="token operator">:</span> <span class="token class-name">Starting</span> <span class="token class-name">Servlet</span> <span class="token class-name">Engine</span><span class="token operator">:</span> <span class="token class-name">Apache</span> <span class="token class-name">Tomcat</span><span class="token operator">/</span><span class="token number">8.5</span><span class="token number">.29</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">51.377</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>a<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>AprLifecycleListener</span>   <span class="token operator">:</span> <span class="token class-name">The</span> <span class="token constant">APR</span> based <span class="token class-name">Apache</span> <span class="token class-name">Tomcat</span> <span class="token class-name">Native</span> library which allows optimal performance in production environments was not found on the java<span class="token punctuation">.</span>library<span class="token punctuation">.</span>path<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Java</span>\\jdk1<span class="token punctuation">.</span><span class="token number">8.0_45</span>\\bin<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\<span class="token class-name">Sun</span>\\<span class="token class-name">Java</span>\\bin<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\system32<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">ProgramData</span>\\<span class="token class-name">Oracle</span>\\<span class="token class-name">Java</span>\\javapath<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token class-name">Common</span> <span class="token class-name">Files</span>\\<span class="token class-name">NetSarang</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token class-name">Intel</span>\\iCLS <span class="token class-name">Client</span>\\<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Intel</span>\\iCLS <span class="token class-name">Client</span>\\<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\system32<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\<span class="token class-name">System32</span>\\<span class="token class-name">Wbem</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\<span class="token class-name">System32</span>\\<span class="token class-name">WindowsPowerShell</span>\\v1<span class="token punctuation">.</span><span class="token number">0</span>\\<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Intel</span>\\<span class="token class-name">Intel</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span> <span class="token class-name">Management</span> <span class="token class-name">Engine</span> <span class="token class-name">Components</span>\\<span class="token constant">DAL</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Intel</span>\\<span class="token class-name">Intel</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span> <span class="token class-name">Management</span> <span class="token class-name">Engine</span> <span class="token class-name">Components</span>\\<span class="token constant">IPT</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token class-name">Intel</span>\\<span class="token class-name">Intel</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span> <span class="token class-name">Management</span> <span class="token class-name">Engine</span> <span class="token class-name">Components</span>\\<span class="token constant">DAL</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token class-name">Intel</span>\\<span class="token class-name">Intel</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span> <span class="token class-name">Management</span> <span class="token class-name">Engine</span> <span class="token class-name">Components</span>\\<span class="token constant">IPT</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Java</span>\\jdk1<span class="token punctuation">.</span><span class="token number">8.0_45</span><span class="token operator">/</span>bin<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Java</span>\\jdk1<span class="token punctuation">.</span><span class="token number">8.0_45</span><span class="token operator">/</span>jre<span class="token operator">/</span>bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">SlikSvn</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">TortoiseSVN</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\apache<span class="token operator">-</span>maven<span class="token operator">-</span><span class="token number">2.2</span><span class="token number">.1</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">TortoiseGit</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\nodejs\\<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token constant">SSH</span> <span class="token class-name">Communications</span> <span class="token class-name">Security</span>\\<span class="token constant">SSH</span> <span class="token class-name">Secure</span> <span class="token class-name">Shell</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Users</span>\\fuzhengwei1\\<span class="token class-name">AppData</span>\\<span class="token class-name">Roaming</span>\\npm<span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">51.523</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>a<span class="token punctuation">.</span>c<span class="token punctuation">.</span>c<span class="token punctuation">.</span></span>C</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token class-name">Tomcat</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>localhost<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token operator">/</span><span class="token punctuation">]</span>       <span class="token operator">:</span> <span class="token class-name">Initializing</span> <span class="token class-name">Spring</span> embedded <span class="token class-name">WebApplicationContext</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">51.523</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>web<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>ContextLoader</span>            <span class="token operator">:</span> <span class="token class-name">Root</span> <span class="token class-name">WebApplicationContext</span><span class="token operator">:</span> initialization completed in <span class="token number">1819</span> ms
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">51.659</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>w<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ServletRegistrationBean</span>  <span class="token operator">:</span> <span class="token class-name">Servlet</span> dispatcherServlet mapped <span class="token keyword">to</span> <span class="token punctuation">[</span><span class="token operator">/</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">51.663</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>w<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>FilterRegistrationBean</span>   <span class="token operator">:</span> <span class="token class-name">Mapping</span> filter<span class="token operator">:</span> &#39;characterEncodingFilter&#39; <span class="token keyword">to</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">/*]
2019-08-10 14:14:51.664  INFO 5976 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]
2019-08-10 14:14:51.664  INFO 5976 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]
2019-08-10 14:14:51.664  INFO 5976 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]
2019-08-10 14:14:52.090  INFO 5976 --- [           main] o.elasticsearch.plugins.PluginsService   : no modules loaded
2019-08-10 14:14:52.092  INFO 5976 --- [           main] o.elasticsearch.plugins.PluginsService   : loaded plugin [org.elasticsearch.index.reindex.ReindexPlugin]
2019-08-10 14:14:52.092  INFO 5976 --- [           main] o.elasticsearch.plugins.PluginsService   : loaded plugin [org.elasticsearch.join.ParentJoinPlugin]
2019-08-10 14:14:52.092  INFO 5976 --- [           main] o.elasticsearch.plugins.PluginsService   : loaded plugin [org.elasticsearch.percolator.PercolatorPlugin]
2019-08-10 14:14:52.092  INFO 5976 --- [           main] o.elasticsearch.plugins.PluginsService   : loaded plugin [org.elasticsearch.script.mustache.MustachePlugin]
2019-08-10 14:14:52.092  INFO 5976 --- [           main] o.elasticsearch.plugins.PluginsService   : loaded plugin [org.elasticsearch.transport.Netty3Plugin]
2019-08-10 14:14:52.092  INFO 5976 --- [           main] o.elasticsearch.plugins.PluginsService   : loaded plugin [org.elasticsearch.transport.Netty4Plugin]
2019-08-10 14:14:52.973  INFO 5976 --- [           main] o.s.d.e.c.TransportClientFactoryBean     : adding transport node : 127.0.0.1:9300
2019-08-10 14:14:54.486  INFO 5976 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/</span>favicon<span class="token punctuation">.</span>ico<span class="token punctuation">]</span> onto handler of type <span class="token punctuation">[</span><span class="token keyword">class</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>resource<span class="token punctuation">.</span></span>ResourceHttpRequestHandler</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">54.730</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerAdapter</span> <span class="token operator">:</span> <span class="token class-name">Looking</span> <span class="token keyword">for</span> <span class="token annotation punctuation">@ControllerAdvice</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>AnnotationConfigServletWebServerApplicationContext</span><span class="token annotation punctuation">@7f010382</span><span class="token operator">:</span> startup date <span class="token punctuation">[</span><span class="token class-name">Sat</span> <span class="token class-name">Aug</span> <span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">49</span> <span class="token constant">CST</span> <span class="token number">2019</span><span class="token punctuation">]</span><span class="token punctuation">;</span> root of context hierarchy
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">54.800</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/localAddress]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span>NettyController</span><span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">54.803</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/error]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Map</span><span class="token punctuation">&lt;</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>error<span class="token punctuation">.</span></span>BasicErrorController</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpServletRequest</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">54.804</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/error],produces=[text/html]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ModelAndView</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>error<span class="token punctuation">.</span></span>BasicErrorController</span><span class="token punctuation">.</span><span class="token function">errorHtml</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpServletRequest</span><span class="token punctuation">,</span><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpServletResponse</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">54.822</span>  <span class="token constant">INFO</span> <span class="token number">5976</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>handler<span class="token punctuation">.</span></span>SimpleUrlHandlerMapping</span>  <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token constant">URL</span> path <span class="token punctuation">[</span><span class="token operator">/</span>webjars<span class="token doc-comment comment">/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-08-10 14:14:54.822  INFO 5976 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-08-10 14:14:54.985  INFO 5976 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-08-10 14:14:55.013  INFO 5976 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;
2019-08-10 14:14:55.016  INFO 5976 --- [           main] org.itstack.demo.netty.Application       : Started Application in 5.982 seconds (JVM running for 6.516)
2019-08-10 14:14:55.043  INFO 5976 --- [           main] o.itstack.demo.netty.server.NettyServer  : itstack-demo-netty server start done. <span class="token punctuation">{</span>å…³æ³¨å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆï¼Œè·å–æºç <span class="token punctuation">}</span>
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://bugstack.cn/assets/images/pic-content/2019/08/netty-2-06-2.png" alt="å¯åŠ¨StringBoot"></p><blockquote><p>å¯åŠ¨Nettyå®¢æˆ·ç«¯å‘é€æ•°æ® ApiTest.main</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty client start done<span class="token punctuation">.</span> <span class="token punctuation">{</span>å…³æ³¨å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆï¼Œè·å–æºç <span class="token punctuation">}</span>
<span class="token number">14</span><span class="token operator">:</span><span class="token number">16</span><span class="token operator">:</span><span class="token number">33.543</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Recycler</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>recycler<span class="token punctuation">.</span>maxCapacityPerThread<span class="token operator">:</span> <span class="token number">4096</span>
<span class="token number">14</span><span class="token operator">:</span><span class="token number">16</span><span class="token operator">:</span><span class="token number">33.543</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Recycler</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>recycler<span class="token punctuation">.</span>maxSharedCapacityFactor<span class="token operator">:</span> <span class="token number">2</span>
<span class="token number">14</span><span class="token operator">:</span><span class="token number">16</span><span class="token operator">:</span><span class="token number">33.543</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Recycler</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>recycler<span class="token punctuation">.</span>linkCapacity<span class="token operator">:</span> <span class="token number">16</span>
<span class="token number">14</span><span class="token operator">:</span><span class="token number">16</span><span class="token operator">:</span><span class="token number">33.543</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Recycler</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>recycler<span class="token punctuation">.</span>ratio<span class="token operator">:</span> <span class="token number">8</span>
<span class="token number">14</span><span class="token operator">:</span><span class="token number">16</span><span class="token operator">:</span><span class="token number">33.555</span> <span class="token punctuation">[</span>nioEventLoopGroup<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span></span>AbstractByteBuf</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>checkAccessible<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token number">14</span><span class="token operator">:</span><span class="token number">16</span><span class="token operator">:</span><span class="token number">33.555</span> <span class="token punctuation">[</span>nioEventLoopGroup<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span></span>AbstractByteBuf</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>checkBounds<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token number">14</span><span class="token operator">:</span><span class="token number">16</span><span class="token operator">:</span><span class="token number">33.556</span> <span class="token punctuation">[</span>nioEventLoopGroup<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>ResourceLeakDetectorFactory</span> <span class="token operator">-</span> <span class="token class-name">Loaded</span> <span class="token keyword">default</span> <span class="token class-name">ResourceLeakDetector</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>ResourceLeakDetector</span><span class="token annotation punctuation">@529fc511</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ‰§è¡Œç»“æœ *æ•°æ®å·²ç»å†™å…¥åˆ°Elasticsearch</p></blockquote><p><img src="https://bugstack.cn/assets/images/pic-content/2019/08/netty-2-06-3.png" alt="å¯åŠ¨StringBoot"></p><p>å¾®ä¿¡æœç´¢ã€Œ<strong>bugstackè™«æ´æ ˆ</strong>ã€å…¬ä¼—å·ï¼Œå…³æ³¨åå›å¤ã€Œ<strong>Nettyä¸“é¢˜æ¡ˆä¾‹</strong>ã€è·å–æœ¬æ–‡æºç &amp;æ›´å¤šåŸåˆ›ä¸“é¢˜æ¡ˆä¾‹ï¼</p>`,33);function q(S,U){const a=o("ExternalLinkIcon");return e(),c("div",null,[i,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),k,s("åšå®¢ï¼š"),n("a",r,[s("https://bugstack.cn"),p(a)])]),m,d,v,b,n("ol",null,[g,y,n("li",null,[s("elasticsearch6.2.2 "),n("ol",null,[n("li",null,[n("a",w,[s("windowsç¯å¢ƒä¸‹å®‰è£…elasticsearch6.2.2"),p(a)])]),n("li",null,[n("a",h,[s("elasticsearch-headæ’ä»¶å®‰è£…"),p(a)])])])])]),f])}const I=t(u,[["render",q],["__file","2019-08-21-nettyanliï¼Œnetty4.1zhongjituozhanpianliuã€ŠSpringBoot_Netty_Elasticsearchshoujirizhixinxishujucunchuã€‹.html.vue"]]);export{I as default};
