import{_ as e,r as o,o as c,c as l,a as n,b as s,d as t,e as p}from"./app-3RcBQnkC.js";const u={},i=n("h1",{id:"æ•°æ®ç»“æ„-å¸ƒéš†è¿‡æ»¤å™¨-bloom-filter",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æ•°æ®ç»“æ„-å¸ƒéš†è¿‡æ»¤å™¨-bloom-filter","aria-hidden":"true"},"#"),s(" æ•°æ®ç»“æ„ï¼šå¸ƒéš†è¿‡æ»¤å™¨ Bloom Filter")],-1),r=n("br",null,null,-1),k={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=p(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>å¸ƒéš†è¿‡æ»¤å™¨çš„å†å²</code></p><p>å¸ƒéš†è¿‡æ»¤å™¨ç”± Burton Howard Bloom äº 1970 å¹´æå‡ºï¼Œå®ƒæ˜¯ä¸€ç§èŠ‚çœç©ºé—´çš„æ¦‚ç‡æ•°æ®ç»“æ„ï¼ŒåŒ…æ‹¬ä¸€ä¸ªå¾ˆé•¿çš„äºŒè¿›åˆ¶å‘é‡å’Œä¸€äº›åˆ—éšæœºæ˜ å°„å‡½æ•°ã€‚</p><h2 id="äºŒã€å¸ƒéš†è¿‡æ»¤å™¨ç»“æ„" tabindex="-1"><a class="header-anchor" href="#äºŒã€å¸ƒéš†è¿‡æ»¤å™¨ç»“æ„" aria-hidden="true">#</a> äºŒã€å¸ƒéš†è¿‡æ»¤å™¨ç»“æ„</h2><p>å¸ƒéš†è¿‡æ»¤å™¨æ˜¯ä¸€ä¸ªåŸºäºæ•°ç»„å’Œå“ˆå¸Œå‡½æ•°æ•£åˆ—å…ƒç´ çš„ç»“æ„ï¼Œå¾ˆåƒHashMapçš„å“ˆå¸Œæ¡¶ã€‚å¸ƒéš†è¿‡æ»¤å™¨å¯ä»¥ç”¨äºæ£€æµ‹ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨é›†åˆä¸­ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ç©ºé—´æ•ˆç‡å’ŒæŸ¥è¯¢æ—¶é—´æ¯”ä¸€èˆ¬ç®—æ³•è¦å¥½å¾ˆå¤šï¼Œä½†ä¹Ÿæœ‰ä¸€å®šæ¦‚ç‡çš„è¯¯åˆ¤æ€§ã€‚<em>å¦‚HashMapå‡ºç°å“ˆå¸Œç¢°æ’ğŸ’¥</em></p><div align="center"><img src="https://bugstack.cn/images/article/algorithm/bloom-filter-01.png?raw=true" width="600px"></div><ul><li>èµµæ•ï¼šæ— å¿Œï¼Œæˆæ˜†ä¸Šäº†å…‰æ˜é¡¶ï¼</li><li>å¼ æ— å¿Œï¼šå’±ä»¬è¿‡æ»¤å™¨å¹´ä¹…å¤±ä¿®ï¼Œå·²ç»ä¸å‡†äº†ï¼</li><li>å¼ æ— å¿Œï¼šå¸ƒéš†è¿‡æ»¤å™¨çš„é•¿åº¦å¤ªå°ï¼Œå“ˆå¸Œè®¡ç®—å•ä¸€ã€‚å¯¼è‡´è°¢é£æœºã€æ‹ç“¢å†²ã€æˆæ˜†ï¼Œä¸‰ä¸ªäººçš„å“ˆå¸Œå€¼éƒ½æ˜¯ç›¸åŒçš„ï¼Œæ‰€ä»¥æ²¡æ³•åˆ¤æ–­æˆæ˜†æ˜¯å¦ä¸Šäº†å…‰æ˜é¡¶ã€‚å’±ä»¬åªèƒ½å¿«äº›ä¸Šå±±äº†ï¼Œæ²¿é€”å°å¿ƒã€‚</li><li>æ¨å·¦ä½¿ï¼šè€å¤§ï¼Œæˆ‘ç°åœ¨å°±å»ç»´ä¿®ä¸€ä¸‹ã€‚å¸ƒéš†è¿‡æ»¤å™¨çš„ä¼˜åŒ–æ–¹å¼å¯ä»¥é€šè¿‡å¢åŠ é•¿åº¦å’Œå¤šæ ·æ–°è®¡ç®—å“ˆå¸Œè§£å†³ã€‚</li></ul><h2 id="ä¸‰ã€å¸ƒéš†è¿‡æ»¤å™¨å®ç°" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€å¸ƒéš†è¿‡æ»¤å™¨å®ç°" aria-hidden="true">#</a> ä¸‰ã€å¸ƒéš†è¿‡æ»¤å™¨å®ç°</h2><p>å¸ƒéš†è¿‡æ»¤å™¨çš„å®ç°æ¡ä»¶åŒ…æ‹¬å¯ä»¥å­˜æ”¾äºŒè¿›åˆ¶å…ƒç´ çš„ BitSet ä»¥åŠå¤šæ ·æ€§çš„å“ˆå¸Œè®¡ç®—å‡½æ•°ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BloomFilter</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">HashGenerator<span class="token punctuation">.</span>HashGroup</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">GROUPS</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashGenerator<span class="token punctuation">.</span>HashGroup</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token class-name">HashGenerator<span class="token punctuation">.</span>HashGroup</span><span class="token punctuation">.</span><span class="token constant">G1</span><span class="token punctuation">,</span> <span class="token class-name">HashGenerator<span class="token punctuation">.</span>HashGroup</span><span class="token punctuation">.</span><span class="token constant">G2</span><span class="token punctuation">,</span> <span class="token class-name">HashGenerator<span class="token punctuation">.</span>HashGroup</span><span class="token punctuation">.</span><span class="token constant">G3</span><span class="token punctuation">,</span> <span class="token class-name">HashGenerator<span class="token punctuation">.</span>HashGroup</span><span class="token punctuation">.</span><span class="token constant">G4</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">BitSet</span> bits<span class="token punctuation">;</span>
  
    <span class="token keyword">private</span> <span class="token class-name">HashGenerator</span><span class="token punctuation">[</span><span class="token punctuation">]</span> generators<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ‰€æœ‰çš„å…ƒç´ å­˜æ”¾éƒ½ç»è¿‡å¤šæ ·çš„å“ˆå¸Œè®¡ç®—å­˜æ”¾åˆ° BitSet ä¸­ï¼Œè¿™æ ·å¯ä»¥å°½å¯èƒ½çš„åˆ†æ•£å…ƒç´ ï¼Œå‡å°‘è¯¯åˆ¤æ€§ã€‚</p>`,12),v={href:"https://github.com/fuzhengwei/java-algorithms",target:"_blank",rel:"noopener noreferrer"},m={href:"https://github.com/fuzhengwei/java-algorithms/tree/main/data-structures/src/main/java/bloom_filter",target:"_blank",rel:"noopener noreferrer"},h=p(`<h3 id="_1-å“ˆå¸Œå‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_1-å“ˆå¸Œå‡½æ•°" aria-hidden="true">#</a> 1. å“ˆå¸Œå‡½æ•°</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">hashG1</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> hash <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&lt;</span> value<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span> c <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        hash <span class="token operator">=</span> <span class="token punctuation">(</span>hash <span class="token operator">&lt;&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> hash <span class="token operator">+</span> c<span class="token punctuation">;</span>
        hash <span class="token operator">&amp;=</span> hash<span class="token punctuation">;</span>
        hash <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> hash <span class="token operator">%</span> <span class="token punctuation">(</span>seed <span class="token operator">*</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">hashG2</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> hash <span class="token operator">=</span> <span class="token number">7397</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&lt;</span> value<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span> c <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        hash <span class="token operator">=</span> <span class="token punctuation">(</span>hash <span class="token operator">&lt;&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> hash <span class="token operator">+</span> c<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>hash <span class="token operator">%</span> seed <span class="token operator">*</span> <span class="token punctuation">(</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">hashG3</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> hash <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> idx <span class="token operator">&lt;</span> value<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> idx<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">char</span> c <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span><span class="token punctuation">;</span>
        hash <span class="token operator">=</span> <span class="token punctuation">(</span>hash <span class="token operator">&lt;&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token operator">+</span> hash <span class="token operator">+</span> c<span class="token punctuation">;</span>
        hash <span class="token operator">+=</span> c<span class="token punctuation">;</span>
        hash <span class="token operator">&amp;=</span> hash<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>hash <span class="token operator">%</span> <span class="token punctuation">(</span>seed <span class="token operator">*</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">hashG4</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> h<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>seed <span class="token operator">*</span> <span class="token punctuation">(</span>size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>h <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">^</span> <span class="token punctuation">(</span>h <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œæä¾›äº†å››ç§å“ˆå¸Œè®¡ç®—çš„æ–¹å¼ï¼Œç›¸å½“äºæ¯ä¸€ä¸ªå“ˆå¸Œè®¡ç®—éƒ½æ˜¯ä¸€æ¬¡æ‰°åŠ¨å¤„ç†ã€‚ä¸€ä¸ªå…ƒç´ çš„å­˜æ”¾å¯ä»¥ç»è¿‡å››æ¬¡å“ˆå¸Œï¼Œå°½é‡è®©å…ƒç´ å€¼åšåˆ°æ•£åˆ—ã€‚</li></ul><h3 id="_2-æ„å»ºå®¹å™¨" tabindex="-1"><a class="header-anchor" href="#_2-æ„å»ºå®¹å™¨" aria-hidden="true">#</a> 2. æ„å»ºå®¹å™¨</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">BloomFilter</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> seeds<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    bits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    generators <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashGenerator</span><span class="token punctuation">[</span>seeds<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> seeds<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        generators<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashGenerator</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> seeds<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">GROUPS</span><span class="token punctuation">[</span>i <span class="token operator">%</span> <span class="token constant">GROUPS</span><span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ„é€ å‡½æ•°æ ¹æ®æ‰€éœ€åˆ›å»ºçš„å®¹å™¨å¤§å°å’Œå“ˆå¸Œç§å­æ¥åˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨ã€‚</li></ul><h3 id="_3-æ·»åŠ å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#_3-æ·»åŠ å…ƒç´ " aria-hidden="true">#</a> 3. æ·»åŠ å…ƒç´ </h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">HashGenerator</span> generator <span class="token operator">:</span> generators<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> hash <span class="token operator">=</span> generator<span class="token punctuation">.</span><span class="token function">doHash</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
        bits<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ·»åŠ å…ƒç´ æ—¶æŒ‰ç…§å…ƒç´ åˆå§‹åŒ–æ—¶çš„å“ˆå¸Œè®¡ç®—ç§ç±»ï¼Œè·å–å“ˆå¸Œå¹¶å­˜æ”¾ã€‚</li></ul><h3 id="_4-æ¯”å¯¹å…ƒç´ " tabindex="-1"><a class="header-anchor" href="#_4-æ¯”å¯¹å…ƒç´ " aria-hidden="true">#</a> 4. æ¯”å¯¹å…ƒç´ </h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">contains</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> ret <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">HashGenerator</span> generator <span class="token operator">:</span> generators<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ret <span class="token operator">=</span> ret <span class="token operator">&amp;&amp;</span> bits<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>generator<span class="token punctuation">.</span><span class="token function">doHash</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ¯”å¯¹å…ƒç´ æ—¶ç”¨çš„æ˜¯åŒä¸€ç±»å“ˆå¸Œè®¡ç®—æ–¹å¼ï¼Œå¹¶ä¸”æŠŠè¿™äº›å“ˆå¸Œå€¼ <code>&amp;&amp;</code> è®¡ç®—ã€‚<em>ç”¨Nä¸ªæ¯”ç‰¹ä½ç½®è®°å½•ä¸€ä¸ªå€¼æ›´å‡†ç¡®</em></li></ul><h2 id="å››ã€å¸ƒéš†è¿‡æ»¤å™¨æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#å››ã€å¸ƒéš†è¿‡æ»¤å™¨æµ‹è¯•" aria-hidden="true">#</a> å››ã€å¸ƒéš†è¿‡æ»¤å™¨æµ‹è¯•</h2><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> val00 <span class="token operator">=</span> <span class="token string">&quot;å°å‚…å“¥&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> val01 <span class="token operator">=</span> <span class="token string">&quot;https://bugstack.cn&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> val02 <span class="token operator">=</span> <span class="token string">&quot;https://github.com/fuzhengwei/CodeGuide&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> val03 <span class="token operator">=</span> <span class="token string">&quot;https://github.com/fuzhengwei&quot;</span><span class="token punctuation">;</span>
    <span class="token class-name">BloomFilter</span> filter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BloomFilter</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    filter<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>val00<span class="token punctuation">)</span><span class="token punctuation">;</span>
    filter<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>val01<span class="token punctuation">)</span><span class="token punctuation">;</span>
    filter<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>val02<span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ val00ï¼š{} å¸ƒéš†è¿‡æ»¤å™¨ï¼š{}&quot;</span><span class="token punctuation">,</span> val00<span class="token punctuation">,</span> filter<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>val00<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ val01ï¼š{} å¸ƒéš†è¿‡æ»¤å™¨ï¼š{}&quot;</span><span class="token punctuation">,</span> val01<span class="token punctuation">,</span> filter<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>val01<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ val02ï¼š{} å¸ƒéš†è¿‡æ»¤å™¨ï¼š{}&quot;</span><span class="token punctuation">,</span> val02<span class="token punctuation">,</span> filter<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>val02<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•ç»“æœ val02ï¼š{} å¸ƒéš†è¿‡æ»¤å™¨ï¼š{}&quot;</span><span class="token punctuation">,</span> val03<span class="token punctuation">,</span> filter<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>val03<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¯ä»¥çœ‹åˆ°è¿™é‡Œåˆå§‹åŒ–äº†ä¸€ä¸ªæ¯”è¾ƒå¤§çš„å¸ƒéš†è¿‡æ»¤å™¨ï¼Œå¹¶ä¸”æä¾›äº†4ä¸ªéšæœºç§å­ï¼›<code>7, 19, 43, 77</code>è®¡ç®—å“ˆå¸Œå€¼ã€‚</li></ul><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">21</span><span class="token operator">:</span><span class="token number">33</span><span class="token operator">:</span><span class="token number">22.790</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span> bloom_filter<span class="token punctuation">.</span>__test__<span class="token punctuation">.</span>BloomFilterTest <span class="token operator">-</span> æµ‹è¯•ç»“æœ val00ï¼šå°å‚…å“¥ å¸ƒéš†è¿‡æ»¤å™¨ï¼š<span class="token boolean">true</span>
<span class="token number">21</span><span class="token operator">:</span><span class="token number">33</span><span class="token operator">:</span><span class="token number">22.794</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span> bloom_filter<span class="token punctuation">.</span>__test__<span class="token punctuation">.</span>BloomFilterTest <span class="token operator">-</span> æµ‹è¯•ç»“æœ val01ï¼šhttps<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>bugstack<span class="token punctuation">.</span>cn å¸ƒéš†è¿‡æ»¤å™¨ï¼š<span class="token boolean">true</span>
<span class="token number">21</span><span class="token operator">:</span><span class="token number">33</span><span class="token operator">:</span><span class="token number">22.794</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span> bloom_filter<span class="token punctuation">.</span>__test__<span class="token punctuation">.</span>BloomFilterTest <span class="token operator">-</span> æµ‹è¯•ç»“æœ val02ï¼šhttps<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>fuzhengwei<span class="token operator">/</span><span class="token class-name">CodeGuide</span> å¸ƒéš†è¿‡æ»¤å™¨ï¼š<span class="token boolean">true</span>
<span class="token number">21</span><span class="token operator">:</span><span class="token number">33</span><span class="token operator">:</span><span class="token number">22.795</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">INFO</span> bloom_filter<span class="token punctuation">.</span>__test__<span class="token punctuation">.</span>BloomFilterTest <span class="token operator">-</span> æµ‹è¯•ç»“æœ val02ï¼šhttps<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>fuzhengwei å¸ƒéš†è¿‡æ»¤å™¨ï¼š<span class="token boolean">false</span>


<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡æµ‹è¯•å¯ä»¥çœ‹åˆ°ï¼Œå­˜æ”¾çš„val00ã€val01ã€val02 åˆ†åˆ«å¯ä»¥éªŒè¯å‡º true æ²¡æœ‰å­˜æ”¾çš„ val03 éªŒè¯ä¸ºfasle</li></ul><h2 id="äº”ã€å¸¸è§é¢è¯•é¢˜" tabindex="-1"><a class="header-anchor" href="#äº”ã€å¸¸è§é¢è¯•é¢˜" aria-hidden="true">#</a> äº”ã€å¸¸è§é¢è¯•é¢˜</h2>`,20),b=n("li",null,"å¸ƒéš†è¿‡æ»¤å™¨çš„ä½¿ç”¨åœºæ™¯ï¼Ÿ",-1),g=n("li",null,"å¸ƒéš†è¿‡æ»¤å™¨çš„å®ç°åŸç†å’Œæ–¹å¼ï¼Ÿ",-1),f=n("li",null,"å¦‚ä½•æé«˜å¸ƒéš†è¿‡æ»¤å™¨çš„å‡†ç¡®æ€§ï¼Ÿ",-1),w=n("li",null,"æœ‰å“ªäº›ä¸­å“ˆå¸Œè®¡ç®—æ–¹å¼ï¼Ÿ",-1),_={href:"https://github.com/RedisBloom/RedisBloom",target:"_blank",rel:"noopener noreferrer"};function y(x,G){const a=o("ExternalLinkIcon");return c(),l("div",null,[i,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),r,s("åšå®¢ï¼š"),n("a",k,[s("https://bugstack.cn"),t(a)])]),d,n("ul",null,[n("li",null,[s("æºç åœ°å€ï¼š"),n("a",v,[s("https://github.com/fuzhengwei/java-algorithms"),t(a)])]),n("li",null,[s("æœ¬ç« æºç ï¼š"),n("a",m,[s("https://github.com/fuzhengwei/java-algorithms/tree/main/data-structures/src/main/java/bloom_filter"),t(a)])])]),h,n("ul",null,[b,g,f,w,n("li",null,[s("éƒ½æœ‰å“ªäº›ç±»å‹çš„å¸ƒéš†è¿‡æ»¤å™¨å®ç°ï¼Ÿ"),n("em",null,[s("Google å¼€æºçš„ Guava ä¸­è‡ªå¸¦çš„å¸ƒéš†è¿‡æ»¤å™¨ã€Redis ä¸­çš„å¸ƒéš†è¿‡æ»¤å™¨("),n("a",_,[s("https://github.com/RedisBloom/RedisBloom"),t(a)]),s(")")])])])])}const B=e(u,[["render",y],["__file","2022-10-05-bloom-filter.html.vue"]]);export{B as default};
