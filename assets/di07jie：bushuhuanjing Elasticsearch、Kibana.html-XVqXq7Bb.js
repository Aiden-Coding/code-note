import{_ as i,r as l,o,c,a,b as e,d as s,f as r,e as t}from"./app-3RcBQnkC.js";const d={},p=a("h1",{id:"第07节-部署环境-elasticsearch、kibana",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#第07节-部署环境-elasticsearch、kibana","aria-hidden":"true"},"#"),e(" 第07节：部署环境 Elasticsearch、Kibana")],-1),u=a("br",null,null,-1),h={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},b=t('<blockquote><p>沉淀、分享、成长，让自己和他人都能有所收获！</p></blockquote><h2 id="一、运维日志" tabindex="-1"><a class="header-anchor" href="#一、运维日志" aria-hidden="true">#</a> 一、运维日志</h2><ul><li>在 Docker 环境安装 Elasticsearch 7.6.2 版本</li><li>对 Elasticsearch 中的 <code>x-pack-core-7.6.2.jar</code> 进行破解，满足于在安装使用 Kibana 时可以使用 JDBC 能力</li></ul><h2 id="二、安装-elasticsearch" tabindex="-1"><a class="header-anchor" href="#二、安装-elasticsearch" aria-hidden="true">#</a> 二、安装 Elasticsearch</h2><h3 id="_1-安装" tabindex="-1"><a class="header-anchor" href="#_1-安装" aria-hidden="true">#</a> 1. 安装</h3><ul><li>拉取镜像：<code>docker pull elasticsearch:7.6.2</code></li><li>执行安装：<code>docker run --name elasticsearch -d -e ES_JAVA_OPTS=&quot;-Xms128m -Xmx256m&quot; -e &quot;discovery.type=single-node&quot; -p 9200:9200 -p 9300:9300 elasticsearch:7.6.2</code> - ES_JAVA_OPTS 可按需调整 <ul><li>--name表示镜像启动后的容器名称</li><li>-d: 后台运行容器，并返回容器ID；</li><li>-e: 指定容器内的环境变量</li><li>-p: 指定端口映射，格式为：主机(宿主)端口:容器端口</li></ul></li></ul><h3 id="_2-检查" tabindex="-1"><a class="header-anchor" href="#_2-检查" aria-hidden="true">#</a> 2. 检查</h3>',7),k=a("strong",null,"运维面板",-1),m={href:"http://39.96.73.167:9000/#/containers",target:"_blank",rel:"noopener noreferrer"},v=a("strong",null,"启动信息",-1),_={href:"http://39.96.73.167:9200",target:"_blank",rel:"noopener noreferrer"},g=a("h2",{id:"三、安装-kibana",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#三、安装-kibana","aria-hidden":"true"},"#"),e(" 三、安装 Kibana")],-1),f=t(`<li><p>拉取镜像：<code>docker pull kibana:7.6.2</code></p></li><li><p>添加配置：kibana.yml</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>#
# ** THIS IS AN AUTO-GENERATED FILE **
#

# Default Kibana configuration for docker target
server.name: kibana
server.host: &quot;0&quot;
elasticsearch.hosts: [ &quot;http://39.96.73.167:9200&quot; ]
xpack.monitoring.ui.container.elasticsearch.enabled: true
# 设置中文显示
i18n.locale: &quot;zh-CN&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>配置 elasticsearch 地址</li><li>配置 zh-CN 中文显示</li></ul></li><li><p>执行安装：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>docker run <span class="token operator">-</span>d \\
  <span class="token operator">--</span>name<span class="token operator">=</span>kibana \\
  <span class="token operator">--</span>restart<span class="token operator">=</span>always \\
  <span class="token operator">-</span>p <span class="token number">5601</span><span class="token operator">:</span><span class="token number">5601</span> \\
  <span class="token operator">-</span>v <span class="token operator">/</span>data<span class="token operator">/</span>kibana<span class="token operator">/</span>config<span class="token operator">/</span>kibana<span class="token punctuation">.</span>yml<span class="token operator">:</span><span class="token operator">/</span>usr<span class="token operator">/</span>share<span class="token operator">/</span>kibana<span class="token operator">/</span>config<span class="token operator">/</span>kibana<span class="token punctuation">.</span>yml \\
  kibana<span class="token operator">:</span><span class="token number">7.6</span><span class="token number">.2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>`,3),x={href:"http://39.96.73.167:5601/app/kibana#/home",target:"_blank",rel:"noopener noreferrer"};function E(q,j){const n=l("ExternalLinkIcon");return o(),c("div",null,[p,a("p",null,[e("作者：小傅哥 "),u,e("博客："),a("a",h,[e("https://bugstack.cn"),s(n)])]),b,a("p",null,[k,e("：portainer "),a("a",m,[e("http://39.96.73.167:9000/#/containers"),s(n)])]),r(" ![](/images/article/project/lottery/Part-5/7-01.png) "),a("p",null,[v,e("："),a("a",_,[e("http://39.96.73.167:9200"),s(n)])]),r(" ![](/images/article/project/lottery/Part-5/7-02.png) "),g,a("ul",null,[f,a("li",null,[a("p",null,[e("访问验证："),a("a",x,[e("http://39.96.73.167:5601/app/kibana#/home"),s(n)])])])]),r(" ![](/images/article/project/lottery/Part-5/7-03.png) ")])}const N=i(d,[["render",E],["__file","di07jie：bushuhuanjing Elasticsearch、Kibana.html.vue"]]);export{N as default};
