import{_ as p,r as t,o as r,c as l,a as s,b as a,d as e,e as o}from"./app-3RcBQnkC.js";const c={},i=s("h1",{id:"cloudreve-自建云盘实践-我说了没人能限得了我的容量和速度",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#cloudreve-自建云盘实践-我说了没人能限得了我的容量和速度","aria-hidden":"true"},"#"),a(" Cloudreve 自建云盘实践，我说了没人能限得了我的容量和速度！")],-1),u=s("br",null,null,-1),k={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=s("br",null,null,-1),h={href:"https://mp.weixin.qq.com/s/gzUrFexHcyCrw7XZ_L7N7w",target:"_blank",rel:"noopener noreferrer"},m=s("blockquote",null,[s("p",null,"沉淀、分享、成长，让自己和他人都能有所收获！😄")],-1),b=s("iframe",{id:"B-Video",src:"//player.bilibili.com/player.html?aid=676376354&bvid=BV1UU4y1u7sR&cid=436918474&page=1",scrolling:"no",border:"0",frameborder:"no",framespacing:"0",allowfullscreen:"true",width:"100%",height:"480"}," ",-1),v=o('<h2 id="一、前言" tabindex="-1"><a class="header-anchor" href="#一、前言" aria-hidden="true">#</a> 一、前言</h2><p><code>为啥要用自建网盘，市面上的云盘不香了？</code></p><p>每一个用户需求的背后都是因为有场景存在，而这些差异化的场景也都是因为不同的用户类型产生的。</p><p>就像我作为技术号主想分享一些自己总结的资料，放到一些云盘以后有时候会被其他不知道从哪冒出来的小伙伴给举报，举报链接就取消了，取消了链接也就影响了我的资料分享。同时我可能还希望我的分享内容能被记录到下载次数、允许几次下载、下载时是否要做一些引流动作等等。</p><p>所以类似这样的特殊场景下就需要自建网盘来维护个人需要的资料，与之类似的还有一些公司或者组织都会建相对私域的网盘功能服务功能，给予内部用户使用。</p><p><strong>所以</strong>，也并不一定市面的网盘不香了，只是因为我有需要自建网盘。在这条路上我尝试过自建、kodexplorer、Owncloud等，恰巧最近发现了 Cloudreve 尝试体验后感觉更香，支持的功能更多。所以准备给小伙伴分享下关于 Cloudreve 的安装、配置和使用，也让有需要的小伙伴可以尝尝鲜。</p><h2 id="二、cloudreve-介绍" tabindex="-1"><a class="header-anchor" href="#二、cloudreve-介绍" aria-hidden="true">#</a> 二、Cloudreve 介绍</h2><p><strong>Cloudreve</strong>，帮助您以最低的成本快速搭建公私兼备的网盘系统。</p><p><img src="https://bugstack.cn/assets/images/story/story-1-1.png" alt=""></p><h3 id="🔉-功能" tabindex="-1"><a class="header-anchor" href="#🔉-功能" aria-hidden="true">#</a> 🔉 功能</h3><p><img src="https://bugstack.cn/assets/images/story/story-1-2.png" alt=""></p><h3 id="✨-特性" tabindex="-1"><a class="header-anchor" href="#✨-特性" aria-hidden="true">#</a> ✨ 特性</h3><ul><li>☁️ 支持本机、从机、七牛、阿里云 OSS、腾讯云 COS、又拍云、OneDrive (包括世纪互联版) 作为存储端</li><li>📤 上传/下载 支持客户端直传，支持下载限速</li><li>💾 可对接 Aria2 离线下载</li><li>📚 在线 压缩/解压缩、多文件打包下载</li><li>💻 覆盖全部存储策略的 WebDAV 协议支持</li><li>⚡ 拖拽上传、目录上传、流式上传处理</li><li>🗃️ 文件拖拽管理</li><li>👩‍👧‍👦 多用户、用户组</li><li>🔗 创建文件、目录的分享链接，可设定自动过期</li><li>👁️‍🗨️ 视频、图像、音频、文本、Office 文档在线预览</li><li>🎨 自定义配色、黑暗模式、PWA 应用、全站单页应用</li><li>🚀 All-In-One 打包，开箱即用</li></ul><h3 id="📌-资料" tabindex="-1"><a class="header-anchor" href="#📌-资料" aria-hidden="true">#</a> 📌 资料</h3>',14),g={href:"https://cloudreve.org",target:"_blank",rel:"noopener noreferrer"},_={href:"https://docs.cloudreve.org/getting-started/install",target:"_blank",rel:"noopener noreferrer"},f={href:"https://forum.cloudreve.org/",target:"_blank",rel:"noopener noreferrer"},x={href:"https://github.com/cloudreve/Cloudreve",target:"_blank",rel:"noopener noreferrer"},w={href:"https://demo.cloudreve.org",target:"_blank",rel:"noopener noreferrer"},y=s("h2",{id:"三、环境准备",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#三、环境准备","aria-hidden":"true"},"#"),a(" 三、环境准备")],-1),C=s("p",null,[s("img",{src:"https://bugstack.cn/assets/images/story/story-1-3.png",alt:""})],-1),I={href:"https://console.cloud.tencent.com/lighthouse/instance/index",target:"_blank",rel:"noopener noreferrer"},S=s("li",null,"已备案过的域名，如果不需要域名访问，可以直接使用云服务提供的公网IP",-1),j={href:"https://github.com/cloudreve/Cloudreve/releases",target:"_blank",rel:"noopener noreferrer"},q=o('<p><em>本章节的案例是基于腾讯云的，如果你使用的是其他云服务器，找到对应的位置配置即可。这些云服务使用方式基本大同小异，遇到问题可以联系对应的云服务客服，不要联系我哈哈哈😄</em></p><h2 id="四、宝塔配置" tabindex="-1"><a class="header-anchor" href="#四、宝塔配置" aria-hidden="true">#</a> 四、宝塔配置</h2><p>宝塔是一个简单好用的Linux/Windows服务器运维管理面板，在宝塔后台页面上可以非常方便的安全软件和配置环境。一般可以在云服务器上安装宝塔，有一些厂商也把宝塔集成到自己的云服务器上了。</p><h3 id="_1-获取用户名和密码" tabindex="-1"><a class="header-anchor" href="#_1-获取用户名和密码" aria-hidden="true">#</a> 1. 获取用户名和密码</h3><p><img src="https://bugstack.cn/assets/images/story/story-1-4.png" alt=""></p>',5),z={href:"https://console.cloud.tencent.com/lighthouse/instance/detail?rid=8&id=lhins-90pixwzq&tab=application",target:"_blank",rel:"noopener noreferrer"},L=o(`<li>进入服务的应用管理会看到<code>应用内软件信息：宝塔</code>，在这里点击<strong>登录</strong>按钮后，会获取到宝塔的登录地址、用户名和密码信息「<em>这些信息可以后期在宝塔后台修改</em>」。<div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token operator">*</span> <span class="token class-name">Socket</span> connection established <span class="token operator">*</span>
 <span class="token class-name">Last</span> login<span class="token operator">:</span> <span class="token class-name">Sat</span> <span class="token class-name">Apr</span> <span class="token number">10</span> <span class="token number">09</span><span class="token operator">:</span><span class="token number">33</span><span class="token operator">:</span><span class="token number">50</span> <span class="token number">2021</span> from <span class="token number">119.29</span><span class="token number">.96</span><span class="token number">.147</span>
 <span class="token punctuation">[</span>lighthouse<span class="token annotation punctuation">@VM</span><span class="token operator">-</span><span class="token number">8</span><span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span>centos <span class="token operator">~</span><span class="token punctuation">]</span>$ sudo <span class="token operator">/</span>etc<span class="token operator">/</span>init<span class="token punctuation">.</span>d<span class="token operator">/</span>bt <span class="token keyword">default</span>
 <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
 <span class="token constant">BT</span><span class="token operator">-</span><span class="token class-name">Panel</span> <span class="token keyword">default</span> info<span class="token operator">!</span>
 <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
 外网面板地址<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">80.71</span><span class="token number">.255</span><span class="token number">.122</span><span class="token operator">:</span><span class="token number">8888</span><span class="token operator">/</span>cloudtencent
 内网面板地址<span class="token operator">:</span> http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token number">10.0</span><span class="token number">.8</span><span class="token number">.9</span><span class="token operator">:</span><span class="token number">8888</span><span class="token operator">/</span>cloudtencent
 <span class="token operator">*</span>以下仅为初始默认账户密码，若无法登录请执行bt命令重置账户<span class="token operator">/</span>密码登录
 username<span class="token operator">:</span> <span class="token number">3</span>kkjecc3
 password<span class="token operator">:</span> <span class="token number">3f</span><span class="token number">7d</span><span class="token number">2743018</span>b
 <span class="token class-name">If</span> you cannot access the panel<span class="token punctuation">,</span>
 release the following panel port <span class="token punctuation">[</span><span class="token number">8888</span><span class="token punctuation">]</span> in the security group
 若无法访问面板，请检查防火墙<span class="token operator">/</span>安全组是否有放行面板<span class="token punctuation">[</span><span class="token number">8888</span><span class="token punctuation">]</span>端口
 <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li>`,1),P=o('<h3 id="_2-8888-端口授权" tabindex="-1"><a class="header-anchor" href="#_2-8888-端口授权" aria-hidden="true">#</a> 2. 8888 端口授权</h3><p><img src="https://bugstack.cn/assets/images/story/story-1-5.png" alt=""></p><ul><li>在获取到面板的用户名和密码后，还不能直接访问，因为你的端口还没有授权开通。</li><li>这时可以在云服务平台上，点击<code>防火墙</code>这个配置，添加 8888 端口。</li></ul><h3 id="_3-登录宝塔后台" tabindex="-1"><a class="header-anchor" href="#_3-登录宝塔后台" aria-hidden="true">#</a> 3. 登录宝塔后台</h3>',4),U={href:"http://80.71.255.122:8888/cloudtencent",target:"_blank",rel:"noopener noreferrer"},V=s("code",null,"你需要更换为自己的地址",-1),A=o(`<p><img src="https://bugstack.cn/assets/images/story/story-1-6.png" alt=""></p><h2 id="五、服务安装" tabindex="-1"><a class="header-anchor" href="#五、服务安装" aria-hidden="true">#</a> 五、服务安装</h2><p>在宝塔面板的左侧菜单栏有一个终端菜单，点击进入是一个黑窗口，接下来我们就在这里安装整个服务。</p><h3 id="_1-在宝塔终端查看服务内核" tabindex="-1"><a class="header-anchor" href="#_1-在宝塔终端查看服务内核" aria-hidden="true">#</a> 1. 在宝塔终端查看服务内核</h3><p>因为不同云服务下可能是 adm 或者 arm 架构，对应下载的 Cloudreve 也会有所不同 <code>cloudreve_版本号_操作系统_CPU架构.tar.gz</code>，所以这里我们需要使用 <code>arch</code> 命令查看下服务信息。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Last</span> failed login<span class="token operator">:</span> <span class="token class-name">Sat</span> <span class="token class-name">Apr</span> <span class="token number">10</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">38</span><span class="token operator">:</span><span class="token number">41</span> <span class="token constant">CST</span> <span class="token number">2021</span> from <span class="token number">194.165</span><span class="token number">.16</span><span class="token number">.68</span> on ssh<span class="token operator">:</span>notty
<span class="token class-name">There</span> were <span class="token number">8</span> failed login attempts since the last successful <span class="token class-name"><span class="token namespace">login<span class="token punctuation">.</span></span>
Last</span> login<span class="token operator">:</span> <span class="token class-name">Sat</span> <span class="token class-name">Apr</span> <span class="token number">10</span> <span class="token number">09</span><span class="token operator">:</span><span class="token number">57</span><span class="token operator">:</span><span class="token number">33</span> <span class="token number">2021</span> from <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
<span class="token punctuation">[</span>root<span class="token annotation punctuation">@VM</span><span class="token operator">-</span><span class="token number">8</span><span class="token operator">-</span><span class="token number">9</span><span class="token operator">-</span>centos <span class="token operator">~</span><span class="token punctuation">]</span># arch
x86_64
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>x86_64：代表 amd64</li><li>aarch64：代表 arm64</li></ul><h3 id="_2-下载和安装" tabindex="-1"><a class="header-anchor" href="#_2-下载和安装" aria-hidden="true">#</a> 2. 下载和安装</h3><p><img src="https://bugstack.cn/assets/images/story/story-1-7.png" alt=""></p>`,9),N={href:"https://github.com/cloudreve/Cloudreve/releases/download/3.3.1/cloudreve_3.3.1_linux_amd64.tar.gz",target:"_blank",rel:"noopener noreferrer"},O=o(`<p><strong>安装命令</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>mkdir <span class="token operator">/</span>www<span class="token operator">/</span>wwwroot<span class="token operator">/</span>cloudreve    # 创建一个新文件夹存放程序
cd <span class="token operator">/</span>www<span class="token operator">/</span>wwwroot<span class="token operator">/</span>cloudreve           # 进入这个文件夹
wget https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>github<span class="token punctuation">.</span>com<span class="token operator">/</span>cloudreve<span class="token operator">/</span><span class="token class-name">Cloudreve</span><span class="token operator">/</span>releases<span class="token operator">/</span>download<span class="token operator">/</span><span class="token number">3.3</span><span class="token number">.1</span><span class="token operator">/</span>cloudreve_3<span class="token punctuation">.</span><span class="token number">3.1_l</span>inux_amd64<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz # 下载你复制的链接
tar <span class="token operator">-</span>zxvf cloudreve_3<span class="token punctuation">.</span><span class="token number">3.1_l</span>inux_amd64<span class="token punctuation">.</span>tar<span class="token punctuation">.</span>gz   # 解压获取到的主程序
chmod <span class="token operator">+</span>x <span class="token punctuation">.</span>/cloudreve                         				  # 赋予执行权限
<span class="token punctuation">.</span>/cloudreve                                 						 # 启动 <span class="token class-name">Cloudreve</span>

# 运行信息截取
<span class="token punctuation">[</span><span class="token class-name">Info</span><span class="token punctuation">]</span>    <span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59</span> 初始化数据库连接
<span class="token punctuation">[</span><span class="token class-name">Info</span><span class="token punctuation">]</span>    <span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59</span> 开始进行数据库初始化<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span><span class="token class-name">Info</span><span class="token punctuation">]</span>    <span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59</span> 初始管理员账号：admin<span class="token annotation punctuation">@cloudreve.org</span>
<span class="token punctuation">[</span><span class="token class-name">Info</span><span class="token punctuation">]</span>    <span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59</span> 初始管理员密码：<span class="token class-name">U4BfStlm</span>
<span class="token punctuation">[</span><span class="token class-name">Info</span><span class="token punctuation">]</span>    <span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">00</span> 数据库初始化结束
<span class="token punctuation">[</span><span class="token class-name">Info</span><span class="token punctuation">]</span>    <span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">00</span> 初始化任务队列，<span class="token class-name">WorkerNum</span> <span class="token operator">=</span> <span class="token number">10</span>
<span class="token punctuation">[</span><span class="token class-name">Info</span><span class="token punctuation">]</span>    <span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">00</span> 初始化定时任务<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">[</span><span class="token class-name">Info</span><span class="token punctuation">]</span>    <span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">00</span> 当前运行模式：<span class="token class-name">Master</span>
<span class="token punctuation">[</span><span class="token class-name">Info</span><span class="token punctuation">]</span>    <span class="token number">2021</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">10</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">00</span> 开始监听 <span class="token operator">:</span><span class="token number">5212</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>wget，替换为你的 Cloudreve 地址</li><li>tar，是对应名称一起替换</li><li>最后把这些命令复制到你的终端黑窗口，它就开始运行安装了。<strong>安装完成以后你会得到一个初始的用户名和密码，复制粘贴保存起来</strong></li></ul><h3 id="_3-开放端口-5212" tabindex="-1"><a class="header-anchor" href="#_3-开放端口-5212" aria-hidden="true">#</a> 3. 开放端口 5212</h3><ul><li>Cloudreve 安装完成以后，访问地址为你的服务IP:5212，但此时5212并不能直接访问还需要授权。 <img src="https://bugstack.cn/assets/images/story/story-1-8.png" alt=""></li><li>仅在宝塔后台授权还不够，还需要在云服务平台的防火墙进行授权，如下： <img src="https://bugstack.cn/assets/images/story/story-1-9.png" alt=""></li></ul><h3 id="_4-登录服务" tabindex="-1"><a class="header-anchor" href="#_4-登录服务" aria-hidden="true">#</a> 4. 登录服务</h3><ul><li>地址：http://80.71.255.122:5212</li></ul><p><img src="https://bugstack.cn/assets/images/story/story-1-10.png" alt=""></p><ul><li>如果一切顺利现在你就可以使用自己的网盘了，但有一点要知道如果你还需要设置域名，那么这个时候先不要使用，先去设置域名，否则一些图片在IP下上传和在域名下上传，分享是有问题的。</li></ul><h2 id="六、进程守护" tabindex="-1"><a class="header-anchor" href="#六、进程守护" aria-hidden="true">#</a> 六、进程守护</h2><p>其实在服务安装完成后就已经可以正常使用了，但我们很难保证宝塔面板不被重启或者出现异常时也难免要我们自己再启动云盘服务。那么，就需要一个守护进程来自动重启服务。</p><p>在宝塔面板的软件商店中，找到 <code>Supervisor</code> 安装。Supervisor是用Python开发的一套通用的进程管理程序，能将一个普通的命令行进程变为后台daemon，并监控进程状态，异常退出时能自动重启。</p><h3 id="_1-supervisor-配置" tabindex="-1"><a class="header-anchor" href="#_1-supervisor-配置" aria-hidden="true">#</a> 1. Supervisor 配置</h3><p><img src="https://bugstack.cn/assets/images/story/story-1-11.png" alt=""></p><ul><li>名称：Cloudreve</li><li>启动用户：root <em>默认的</em></li><li>运行目录：/www/wwwroot/cloudreve/</li><li>启动命令：/www/wwwroot/cloudreve/cloudreve</li></ul><h3 id="_2-supervisor-启动" tabindex="-1"><a class="header-anchor" href="#_2-supervisor-启动" aria-hidden="true">#</a> 2. Supervisor 启动</h3><p><img src="https://bugstack.cn/assets/images/story/story-1-12.png" alt=""></p><ul><li>配置守护进程后，点开宝塔面板右上角的重启，进入后<code>重启服务</code></li><li>重启后再进入到宝塔面板就会看到守护进程已经在启动了，现在启动这个事就交给了 Supervisor 管理</li></ul><h2 id="七、配置域名" tabindex="-1"><a class="header-anchor" href="#七、配置域名" aria-hidden="true">#</a> 七、配置域名</h2><h3 id="_1-解析域名" tabindex="-1"><a class="header-anchor" href="#_1-解析域名" aria-hidden="true">#</a> 1. 解析域名</h3><p><img src="https://bugstack.cn/assets/images/story/story-1-13.png" alt=""></p><ul><li>在配置域名之前，需要在你已经准备好的域名下配置一个A记录解析，这样后面才能配置反向代理。</li></ul><h3 id="_2-反向代理" tabindex="-1"><a class="header-anchor" href="#_2-反向代理" aria-hidden="true">#</a> 2. 反向代理</h3><p><img src="https://bugstack.cn/assets/images/story/story-1-14.png" alt=""></p>`,24),B=s("li",null,[a("点击宝塔面板左侧菜单中的"),s("code",null,"网站"),a("按钮，添加一个站点。站点里的域名就是配置解析域名时的信息，我的是"),s("code",null,"pan.itedus.cn")],-1),T=s("li",null,"配置完站点后就需要给这个站点设置一个反向代理，点击它的设置即可进入。在反向代理中添加并设置目标URL：127.0.0.1:5212",-1),M={href:"http://pan.itedus.cn/s/qofO",target:"_blank",rel:"noopener noreferrer"},W=o('<h2 id="八、数据库切换" tabindex="-1"><a class="header-anchor" href="#八、数据库切换" aria-hidden="true">#</a> 八、数据库切换</h2><p>系统默认的数据库是自带的 SQLite，你可改为 Mysql，如下：</p><p><img src="https://bugstack.cn/assets/images/story/story-1-15.png" alt=""></p><ol><li>数据库类型，目前支持 sqlite | mysql Type = mysql</li><li>用户名 User = Cloudreve</li><li>密码 Password = Cloudreve</li><li>数据库地址 Host = 127.0.0.1</li><li>数据库名称 Name = Cloudreve</li><li>数据表前缀 TablePrefix = cd_</li></ol><ul><li>切换完记得使用命令的方式进行重启，因为此时它需要重新创建账号和密码</li><li>如果你没有看见账号和密码，那么可以把创建的数据库删掉，重新来一次</li></ul><h2 id="九、总结" tabindex="-1"><a class="header-anchor" href="#九、总结" aria-hidden="true">#</a> 九、总结</h2><ul><li>关于 Cloudreve 云盘的安装和使用就演示到这里了，如果你感兴趣也可以自己搭建一个。另外 Cloudreve 可以获取到它的源码，在源码的基础上可以添加一些想要的功能，比如在下载的时候设置为关注某些东西在下载等等。</li><li>除了 Cloudreve 云盘还可以尝试下有道云，这个云盘直接在简单的服务器上就可以直接安装，也可以自动升级，使用起来会简单一些。</li><li>无论是云服务还是各类工具，多尝试一些这样的东西，可以给自己增加很多其他知识面的理解。也许弄着弄着，你就不只是一个简单的CRUD开发工程师了，可能还是运维、产品、业务！</li></ul>',7);function D(E,H){const n=t("ExternalLinkIcon");return r(),l("div",null,[i,s("p",null,[a("作者：小傅哥 "),u,a("博客："),s("a",k,[a("https://bugstack.cn"),e(n)]),d,a("原文："),s("a",h,[a("https://mp.weixin.qq.com/s/gzUrFexHcyCrw7XZ_L7N7w"),e(n)])]),m,b,v,s("ol",null,[s("li",null,[a("官网："),s("a",g,[a("https://cloudreve.org"),e(n)])]),s("li",null,[a("文档："),s("a",_,[a("https://docs.cloudreve.org/getting-started/install"),e(n)])]),s("li",null,[a("社区："),s("a",f,[a("https://forum.cloudreve.org"),e(n)])]),s("li",null,[a("源码："),s("a",x,[a("https://github.com/cloudreve/Cloudreve"),e(n)])]),s("li",null,[a("演示："),s("a",w,[a("https://demo.cloudreve.org"),e(n)])])]),y,C,s("ol",null,[s("li",null,[a("云服务器资源或本地服务器，推荐腾讯云轻量服务器，内含宝塔组件，算是是几个云服务里最简单的："),s("a",I,[a("https://console.cloud.tencent.com/lighthouse/instance/index"),e(n)])]),S,s("li",null,[a("Cloudreve安装包："),s("a",j,[a("https://github.com/cloudreve/Cloudreve/releases"),e(n)])])]),q,s("ul",null,[s("li",null,[a("地址："),s("a",z,[a("https://console.cloud.tencent.com/lighthouse/instance/detail?rid=8&id=lhins-90pixwzq&tab=application"),e(n)])]),L]),P,s("p",null,[a("地址："),s("a",U,[a("http://80.71.255.122:8888/cloudtencent"),e(n)]),a(" - "),V,a(" 说明：在初次进入宝塔时会有一些提示和软件安装，选择自己需要的安装即可。 页面：")]),A,s("p",null,[a("确定好我们的云服务架构后，选择对应的 Cloudreve 版本，复制地址。我的是："),s("a",N,[a("https://github.com/cloudreve/Cloudreve/releases/download/3.3.1/cloudreve_3.3.1_linux_amd64.tar.gz"),e(n)])]),O,s("ul",null,[B,T,s("li",null,[a("最后，如果你的域名已经解析完成，那么现在你就可以通过域名访问你的云盘服务了，还可以上传和分享文件。例如我分享的文件："),s("a",M,[a("http://pan.itedus.cn/s/qofO"),e(n)])])]),W])}const F=p(c,[["render",D],["__file","2021-04-11-Cloudreve zijianyunpanshijian，woshuoliaomeirennenxiandeliaowoderonglianghesudu！.html.vue"]]);export{F as default};
