import{_ as t,r as e,o,c as p,a as n,b as a,d as c,e as i}from"./app-3RcBQnkC.js";const l={},u=n("h1",{id:"ç¬¬8èŠ‚-é€‰å®šå¯¹è±¡æ‰¹é‡ç»‡å…¥-x-set-y-get-ä»£ç -è‡ªåŠ¨ç”Ÿæˆvo2dto",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ç¬¬8èŠ‚-é€‰å®šå¯¹è±¡æ‰¹é‡ç»‡å…¥-x-set-y-get-ä»£ç -è‡ªåŠ¨ç”Ÿæˆvo2dto","aria-hidden":"true"},"#"),a(" ç¬¬8èŠ‚ï¼šé€‰å®šå¯¹è±¡æ‰¹é‡ç»‡å…¥â€œx.set(y.get)â€ä»£ç ï¼Œè‡ªåŠ¨ç”Ÿæˆvo2dto")],-1),r=n("br",null,null,-1),d={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},k=i(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>ç»™ä½ æœºä¼šï¼Œä½ ä¹Ÿä¸ä¸­ç”¨å•Š</code></p><p>è¿™äº›å¹´ä»äº‹ç¼–ç¨‹å¼€å‘ä»¥æ¥ï¼Œæˆ‘å¥½åƒå‘ç°äº†å¤§éƒ¨åˆ†ç ”å‘é‚£äº›ä¸æ„¿æ„å¹²çš„äº‹ï¼Œéƒ½æˆå°±äº†åˆ«äººã€‚<strong>å°±åƒéƒ¨ç½²æœåŠ¡éº»çƒ¦ï¼Œæœ‰äº†Docker</strong>ã€<strong>ç®€å•CRUDä¸æƒ³å¼€å‘ï¼Œæœ‰äº†ä½ä»£ç </strong>ã€<strong>ç»™æ–¹æ³•ä»£ç åŠ ç›‘æ§ç¹çã€æœ‰äº†éå…¥ä¾µçš„å…¨é“¾è·¯ç›‘æ§</strong>ã€‚</p><p>è€Œè¿™äº›åŸæœ¬ä½ ä¹Ÿåœ¨å¹²çš„äº‹æƒ…ï¼Œå› ä¸ºæ²¡æœ‰æƒ³æ³•ã€æ²¡æœ‰åˆ›æ–°ã€æ²¡æœ‰æ€è€ƒï¼Œä¹Ÿå¯èƒ½æ˜¯æ²¡æœ‰èƒ½åŠ›ï¼Œæ‰€ä»¥ä¸€ç›´éƒ½æ˜¯åœ¨æ¬ç –ã€ç ç –ã€ç Œç –ï¼Œååå¤å¤ã€æ¥æ¥å›å›ã€‚é”®ç›˜æ•²çš„æ˜¯è¶Šæ¥è¶Šå¿«äº†ï¼Œä»£ç æçš„æ˜¯è¶Šæ¥è¶Šçƒ‚äº†ã€‚è–ªèµ„æ²¡æä¸Šå»ï¼Œå¤´å‘æ˜¯è¶Šæ¥è¶Šå°‘äº†ã€‚</p><p>å¯¹äºæƒ³èµ°æŠ€æœ¯è·¯çº¿çš„ç å†œï¼Œåƒä¸‡ä¸è¦åªæ˜¯åœç•™åœ¨ä¸šåŠ¡åŠŸèƒ½çš„é€»è¾‘å¼€å‘ä¸Šï¼Œåªæœ‰å½“ä½ æœ‰äº†å…±æ€§å‡ç»ƒçš„é€»è¾‘æ€ç»´ï¼Œæ‰ä¼šé€æ­¥æ€è€ƒæ€ä¹ˆæŠŠä¸€ä»¶é‡å¤çš„äº‹åšæˆä¸€ä¸ªé€šç”¨çš„æœåŠ¡æˆ–è€…ç»„ä»¶ï¼Œè€Œè¿™äº›ä¸œè¥¿çš„è½åœ°ä¸ä»…éœ€è¦ä½ ä¼šå†™ä»£ç ï¼Œè¿˜è¦ä¼šæ€è€ƒæ›´è¦ä¼šå»ç´¢å¼•ä¸€äº›ä½ éœ€è¦çš„æŠ€æœ¯ï¼Œå¹¶ç”¨è‡ªå­¦çš„æ–¹å¼æ¥è¡¥å……è¿™éƒ¨åˆ†æŠ€èƒ½ã€‚</p><h2 id="äºŒã€éœ€æ±‚ç›®çš„" tabindex="-1"><a class="header-anchor" href="#äºŒã€éœ€æ±‚ç›®çš„" aria-hidden="true">#</a> äºŒã€éœ€æ±‚ç›®çš„</h2><p>ä½ æƒ³å†™å¯¹è±¡é—´çš„<code>getã€set</code>å—ï¼Ÿçƒ¦ï¼Œçƒ¦æ­»äº†ï¼Œå°¤å…¶æ˜¯åœ¨DDDå››å±‚æ¶æ„ä¸‹ï¼Œæœ‰äº†å¤šå±‚é˜²æ±¡å¤„ç†ï¼Œä¸€ä¼šä¸€ä¸ªvo2dtoã€ä¸€ä¼šä¸€ä¸ªvo2doã€ä¸€ä¼šä¸€ä¸ªdo2poï¼Œè™½ç„¶æœ‰å¾ˆå¤šå·¥å…·çš„æ“ä½œï¼Œä½†è¿˜æ˜¯å¾—å†™å‘€ã€‚</p><p>æ€ä¹ˆåŠï¼Ÿä¸è¦æ…Œï¼Œè¿™æ˜¯æœºä¼šå‘€ï¼Œæˆ‘ä»¬åšä¸ªæ’ä»¶æå®šå®ƒï¼Œè®©å®ƒå¯ä»¥è‡ªåŠ¨çš„ç»™æˆ‘ç”Ÿæˆ<code>getã€set</code>ä»£ç ï¼Œåœ¨IDEA Pluginçš„å¤„ç†ä¸‹ï¼Œé€‰æ‹©å¥½éœ€è¦ç”Ÿæˆå¯¹è±¡ä»£ç çš„é”šç‚¹ï¼Œå¤åˆ¶ä¸‹è½¬æ¢å¯¹è±¡ï¼Œè‡ªåŠ¨ç»‡å…¥ä»£ç ï¼Œ1sé’Ÿæå®šï¼</p><h2 id="ä¸‰ã€æ¡ˆä¾‹å¼€å‘" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€æ¡ˆä¾‹å¼€å‘" aria-hidden="true">#</a> ä¸‰ã€æ¡ˆä¾‹å¼€å‘</h2><h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>guide<span class="token operator">-</span>idea<span class="token operator">-</span>plugin<span class="token operator">-</span>vo2dto
â”œâ”€â”€ <span class="token punctuation">.</span>gradle
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â””â”€â”€ java
    â”‚   	â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>guide<span class="token punctuation">.</span>idea<span class="token punctuation">.</span>plugin 
    â”‚       	â”œâ”€â”€ action
    â”‚       	â”‚	â””â”€â”€ <span class="token class-name">Vo2DtoGenerateAction</span><span class="token punctuation">.</span>java     
    â”‚       	â”œâ”€â”€ application
    â”‚       	â”‚	â””â”€â”€ <span class="token class-name">IGenerateVo2Dto</span><span class="token punctuation">.</span>java      
    â”‚       	â”œâ”€â”€ domain
    â”‚       	â”‚	â”œâ”€â”€ model
    â”‚       	â”‚	â”‚	â”œâ”€â”€ <span class="token class-name">GenerateContext</span><span class="token punctuation">.</span>java     
    â”‚       	â”‚	â”‚	â”œâ”€â”€ <span class="token class-name">GetObjConfigDO</span><span class="token punctuation">.</span>java      
    â”‚       	â”‚	â”‚	â””â”€â”€ <span class="token class-name">SetObjConfigDO</span><span class="token punctuation">.</span>java       
    â”‚       	â”‚	â””â”€â”€ service   
    â”‚       	â”‚	 	â”œâ”€â”€ impl     
    â”‚       	â”‚	 	â”‚	â””â”€â”€ <span class="token class-name">GenerateVo2DtoImpl</span><span class="token punctuation">.</span>java    
    â”‚       	â”‚	 	â””â”€â”€ <span class="token class-name">AbstractGenerateVo2Dto</span><span class="token punctuation">.</span>java      
    â”‚       	â””â”€â”€ infrastructure   
    â”‚       	 	â””â”€â”€ <span class="token class-name">Utils</span><span class="token punctuation">.</span>java    
    â”œâ”€â”€ resources
    â”‚   â””â”€â”€ <span class="token constant">META</span><span class="token operator">-</span><span class="token constant">INF</span>
    â”‚       â””â”€â”€ plugin<span class="token punctuation">.</span>xml 
    â”œâ”€â”€ build<span class="token punctuation">.</span>gradle  
    â””â”€â”€ gradle<span class="token punctuation">.</span>properties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æºç è·å–</strong>ï¼š#å…¬ä¼—å·ï¼š<code>bugstackè™«æ´æ ˆ</code> å›å¤ï¼š<code>idea</code> å³å¯ä¸‹è½½å…¨éƒ¨ IDEA æ’ä»¶å¼€å‘æºç </p><p>åœ¨æ­¤ IDEA æ’ä»¶å·¥ç¨‹ä¸­ï¼Œä¸»è¦åˆ†ä¸º4å—åŒºåŸŸï¼š</p><ul><li>actionï¼šæä¾›èœå•æ çª—ä½“ï¼Œåœ¨æ’ä»¶ä¸­æˆ‘ä»¬æŠŠè¿™ä¸ªèœå•æ é…ç½®åˆ° <code>Generate</code> ä¸‹ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸ä½ ç”Ÿæˆ getã€setã€constructor æ–¹æ³•çš„åœ°æ–¹ã€‚</li><li>applicationï¼šåº”ç”¨å±‚å®šä¹‰æ¥å£ï¼Œè¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªç”¨äºç”Ÿæˆä»£ç å¹¶ç»‡å…¥åˆ°é”šç‚¹çš„æ–¹æ³•æ¥å£ã€‚</li><li>domianï¼šé¢†åŸŸå±‚ä¸“é—¨å¤„ç†ä»£ç çš„ç”Ÿæˆå’Œç»‡å…¥åŠ¨ä½œï¼Œè¿™ä¸€å±‚æŠŠä»£ç çš„ä¸­é”šç‚¹ä½ç½®è·å–ã€å‰ªåˆ‡æ¿ä¿¡æ¯å¤åˆ¶ã€åº”ç”¨ä¸Šä¸‹æ–‡ã€ç±»ä¸­getã€setçš„è§£æï¼Œä»¥åŠæœ€ç»ˆæŠŠç”Ÿæˆä»£ç ç»‡å…¥åˆ°é”šç‚¹åçš„æ“ä½œã€‚</li><li>infrastructureï¼šåœ¨åŸºç¡€å±‚æä¾›äº†å·¥å…·ç±»ï¼Œç”¨äºè·å–å‰ªåˆ‡æ¿ä¿¡æ¯å’Œé”šç‚¹ä½ç½®åˆ¤æ–­ç­‰æ“ä½œã€‚</li></ul><h3 id="_2-ç»‡å…¥ä»£ç æ¥å£" tabindex="-1"><a class="header-anchor" href="#_2-ç»‡å…¥ä»£ç æ¥å£" aria-hidden="true">#</a> 2. ç»‡å…¥ä»£ç æ¥å£</h3><p><strong>cn.bugstack.guide.idea.plugin.application.IGenerateVo2Dto</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IGenerateVo2Dto</span> <span class="token punctuation">{</span>

    <span class="token keyword">void</span> <span class="token function">doGenerate</span><span class="token punctuation">(</span><span class="token class-name">Project</span> project<span class="token punctuation">,</span> <span class="token class-name">DataContext</span> dataContext<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å®šä¹‰æ¥å£å…¶å®éå¸¸é‡è¦çš„ä¸€æ­¥ï¼Œå› ä¸ºè¿™æ ·ä¸€æ­¥å°±æŠŠç”Ÿæˆçš„æ ‡å‡†å®šä¹‰ä¸‹æ¥äº†ï¼Œæ‰€æœ‰çš„ç”ŸæˆåŠ¨ä½œéƒ½è¦ä»è¿™ä¸ªæ¥å£å‘èµ·ã€‚<em>å­¦ä¹ æºç ä¹Ÿä¸€æ ·ï¼Œä½ è¦æ‰¾åˆ°ä¸€ä¸ªæ ¸å¿ƒçš„å…¥å£ç‚¹ï¼Œæ‰èƒ½æ›´å¥½çš„å¼€å§‹å­¦ä¹ </em></li></ul><h3 id="_3-å®šä¹‰æ¨¡æ¿æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_3-å®šä¹‰æ¨¡æ¿æ–¹æ³•" aria-hidden="true">#</a> 3. å®šä¹‰æ¨¡æ¿æ–¹æ³•</h3><p>å› ä¸ºç”Ÿæˆä»£ç å¹¶ç»‡å…¥é”šç‚¹ä½ç½®çš„æ“ä½œï¼Œæ•´ä¸ªæ¥çœ‹å…¶å®ä¹Ÿæ˜¯ä¸€å¥—æµç¨‹æ“ä½œï¼Œå› ä¸ºåœ¨è¿™ä¸ªè¿‡ç¨‹éœ€è¦ï¼›è·å–ä¸Šä¸‹æ–‡ä¿¡æ¯(ä¹Ÿå°±æ˜¯å·¥ç¨‹å¯¹è±¡)ã€ç»™å½“å‰é”šç‚¹ä½ç½®çš„ç±»æå– set æ–¹æ³•é›†åˆã€ä¹‹ååœ¨ç»™<code>Ctrl+C</code>å‰ªåˆ‡æ¿ä¸Šçš„ä¿¡æ¯è¯»å–å‡ºæ¥æå– get æ–¹æ³•é›†åˆï¼Œç¬¬å››æ­¥æŠŠsetã€getè¿›è¡Œç»„åˆå¹¶ç»‡å…¥ä»£ç åˆ°é”šç‚¹ä½ç½®ã€‚æ•´ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="https://bugstack.cn/images/article/assembly/assembly-211214-6-01.png" alt=""></p><ul><li>é‚£ä¹ˆåœ¨ä½¿ç”¨æ¨¡æ¿æ–¹æ³•åï¼Œå°±å¯ä»¥éå¸¸å®¹æ˜“çš„æŠŠå†™åœ¨ä¸€ä¸ªç±»é‡Œçš„æˆç‰‡çš„ä»£ç æŒ‰ç…§èŒè´£è¿›è¡Œæ‹†åˆ†ã€‚</li><li>åŒæ—¶å› ä¸ºæœ‰äº†æ¨¡æ¿çš„å®šä¹‰ï¼Œä¹Ÿå°±å®šä¹‰å‡ºäº†æ•´ä¸ªä¸€å¥—æ ‡å‡†æµç¨‹ï¼Œåœ¨æµç¨‹è§„èŒƒä¸‹æ‰§è¡Œä»£ç ï¼Œåç»­å†è¡¥å……é€»è¾‘è¿­ä»£åŠŸèƒ½ä¹Ÿä¼šæ›´åŠ å®¹æ˜“ã€‚</li></ul><h3 id="_4-ä»£ç ç»‡å…¥é”šç‚¹" tabindex="-1"><a class="header-anchor" href="#_4-ä»£ç ç»‡å…¥é”šç‚¹" aria-hidden="true">#</a> 4. ä»£ç ç»‡å…¥é”šç‚¹</h3><p>å…³äºä»£ç ç»‡å…¥é”šç‚¹å‰ï¼Œæˆ‘ä»¬åœ¨æ¨¡æ¿ç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œéœ€è¦å®ç°æ¥å£è¿›è¡Œå¤„ç†ï¼Œé‡ç‚¹åŒ…æ‹¬ï¼š</p><ol><li>é€šè¿‡ <code>CommonDataKeys.EDITOR.getData(dataContext)</code>ã€<code>CommonDataKeys.PSI_ELEMENT.getData(dataContext)</code> å°è£… GenerateContext å¯¹è±¡ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ä¸€äº›ç±»ã€é”šç‚¹ä½ç½®ã€æ–‡æ¡£ç¼–è¾‘çš„å¯¹è±¡ã€‚</li><li>é€šè¿‡ PsiClass è·å–å…‰æ ‡ä½ç½®å¯¹åº”çš„ Class ç±»ä¿¡æ¯ï¼Œåœ¨é€šè¿‡ <code>psiClass.getMethods()</code> è¯»å–å¯¹è±¡æ–¹æ³•ï¼ŒæŠŠ set æ–¹æ³•è¿‡æ»¤å‡ºæ¥ï¼Œå°è£…åˆ°é›†åˆä¸­ã€‚</li><li>é€šè¿‡ <code>Toolkit.getDefaultToolkit().getSystemClipboard()</code> è·å–å‰ªåˆ‡æ¿ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯ä½ åœ¨é”šç‚¹ä½ç½®ç»™å¯¹è±¡ç”Ÿæˆ <code>x.set(y.get)</code> æ—¶ï¼Œå¤åˆ¶çš„ Y y å¯¹è±¡ï¼Œå¹¶å¼€å§‹æå– get æ–¹æ³•ï¼ŒåŒæ ·å°è£…åˆ°é›†åˆä¸­ã€‚</li><li>é‚£ä¹ˆæœ€åå°±æ˜¯ä»£ç çš„ç»„è£…å’Œç»‡å…¥åŠ¨ä½œäº†ï¼Œè¿™éƒ¨åˆ†æˆ‘ä»¬çš„ä»£ç å¦‚ä¸‹ï¼›</li></ol><p><strong>cn.bugstack.guide.idea.plugin.domain.service.impl.GenerateVo2DtoImpl</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">weavingSetGetCode</span><span class="token punctuation">(</span><span class="token class-name">GenerateContext</span> generateContext<span class="token punctuation">,</span> <span class="token class-name">SetObjConfigDO</span> setObjConfigDO<span class="token punctuation">,</span> <span class="token class-name">GetObjConfigDO</span> getObjConfigDO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Application</span> application <span class="token operator">=</span> <span class="token class-name">ApplicationManager</span><span class="token punctuation">.</span><span class="token function">getApplication</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è·å–ç©ºæ ¼ä½ç½®é•¿åº¦</span>
    <span class="token keyword">int</span> distance <span class="token operator">=</span> <span class="token class-name">Utils</span><span class="token punctuation">.</span><span class="token function">getWordStartOffset</span><span class="token punctuation">(</span>generateContext<span class="token punctuation">.</span><span class="token function">getEditorText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> generateContext<span class="token punctuation">.</span><span class="token function">getOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">-</span> generateContext<span class="token punctuation">.</span><span class="token function">getStartOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    application<span class="token punctuation">.</span><span class="token function">runWriteAction</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token class-name">StringBuilder</span> blankSpace <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> distance<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            blankSpace<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">int</span> lineNumberCurrent <span class="token operator">=</span> generateContext<span class="token punctuation">.</span><span class="token function">getDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getLineNumber</span><span class="token punctuation">(</span>generateContext<span class="token punctuation">.</span><span class="token function">getOffset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> setMtdList <span class="token operator">=</span> setObjConfigDO<span class="token punctuation">.</span><span class="token function">getParamList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> param <span class="token operator">:</span> setMtdList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">int</span> lineStartOffset <span class="token operator">=</span> generateContext<span class="token punctuation">.</span><span class="token function">getDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getLineStartOffset</span><span class="token punctuation">(</span>lineNumberCurrent<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token class-name">WriteCommandAction</span><span class="token punctuation">.</span><span class="token function">runWriteCommandAction</span><span class="token punctuation">(</span>generateContext<span class="token punctuation">.</span><span class="token function">getProject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
                generateContext<span class="token punctuation">.</span><span class="token function">getDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">insertString</span><span class="token punctuation">(</span>lineStartOffset<span class="token punctuation">,</span> blankSpace <span class="token operator">+</span> setObjConfigDO<span class="token punctuation">.</span><span class="token function">getClazzParamName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span> setObjConfigDO<span class="token punctuation">.</span><span class="token function">getParamMtdMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;(&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> getObjConfigDO<span class="token punctuation">.</span><span class="token function">getParamMtdMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> getObjConfigDO<span class="token punctuation">.</span><span class="token function">getClazzParam</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span> getObjConfigDO<span class="token punctuation">.</span><span class="token function">getParamMtdMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;()&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;);\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                generateContext<span class="token punctuation">.</span><span class="token function">getEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCaretModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">moveToOffset</span><span class="token punctuation">(</span>lineStartOffset <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                generateContext<span class="token punctuation">.</span><span class="token function">getEditor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getScrollingModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollToCaret</span><span class="token punctuation">(</span><span class="token class-name">ScrollType</span><span class="token punctuation">.</span><span class="token constant">MAKE_VISIBLE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç»‡å…¥ä»£ç çš„æµç¨‹åŠ¨ä½œï¼Œä¸»è¦æ˜¯å¯¹setæ–¹æ³•é›†åˆè¿›è¡Œéå†ï¼ŒæŠŠå¯¹åº”çš„<code>x.set(y.get)</code>é€šè¿‡ <code>document.insertString</code> åˆ°å…·ä½“çš„ä½ç½®å’Œä»£ç ã€‚</li><li>æœ€ç»ˆæ‰€æœ‰ç”Ÿæˆçš„ä»£ç æ–¹æ³•ç»‡å…¥å®Œæˆï¼Œå³å®Œæˆäº†æ•´ä¸ª <code>x.set(y.get)</code> çš„è¿‡ç¨‹ã€‚</li></ul><h3 id="_5-é…ç½®èœå•å…¥å£" tabindex="-1"><a class="header-anchor" href="#_5-é…ç½®èœå•å…¥å£" aria-hidden="true">#</a> 5. é…ç½®èœå•å…¥å£</h3><p><strong>plugin.xml</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token generics"><span class="token punctuation">&lt;</span>actions<span class="token punctuation">&gt;</span></span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token class-name">Add</span> your actions here <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>action id<span class="token operator">=</span><span class="token string">&quot;Vo2DtoGenerateAction&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;cn.bugstack.guide.idea.plugin.action.Vo2DtoGenerateAction&quot;</span>
            text<span class="token operator">=</span><span class="token string">&quot;Vo2Dto - å°å‚…å“¥&quot;</span> description<span class="token operator">=</span><span class="token string">&quot;Vo2Dto generate util&quot;</span> icon<span class="token operator">=</span><span class="token string">&quot;/icons/logo.png&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>add<span class="token operator">-</span><span class="token keyword">to</span><span class="token operator">-</span>group group<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">&quot;GenerateGroup&quot;</span> anchor<span class="token operator">=</span><span class="token string">&quot;last&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>keyboard<span class="token operator">-</span>shortcut keymap<span class="token operator">=</span><span class="token string">&quot;$default&quot;</span> first<span class="token operator">-</span>keystroke<span class="token operator">=</span><span class="token string">&quot;ctrl shift K&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>action<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>actions<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™æ¬¡æˆ‘ä»¬ç»™ç”Ÿæˆ <code>x.set(y.get)</code> ä»£ç çš„æ“ä½œåŠ ä¸ªå¿«æ·é”®ï¼Œå¯ä»¥è®©æˆ‘ä»¬æ›´åŠ æ–¹ä¾¿çš„è¿›è¡Œæ“ä½œã€‚</li></ul><h2 id="å››ã€æµ‹è¯•éªŒè¯" tabindex="-1"><a class="header-anchor" href="#å››ã€æµ‹è¯•éªŒè¯" aria-hidden="true">#</a> å››ã€æµ‹è¯•éªŒè¯</h2><p>ç‚¹å‡» <code>Plugin</code> å¯åŠ¨ IDEA æ’ä»¶ï¼Œä¹‹åæœ‰<code>2æ­¥</code>æ“ä½œï¼›</p><ol><li>å¤åˆ¶ä½ éœ€è¦è¢«è½¬æ¢çš„å¯¹è±¡ï¼Œå› ä¸ºå¤åˆ¶ä»¥åå°±å¯ä»¥è¢«æ’ä»¶è·å–åˆ°å‰ªåˆ‡æ¿ä¿¡æ¯äº†ï¼Œä¹Ÿå°±èƒ½æå–åˆ°getæ–¹æ³•é›†åˆã€‚</li><li>æŠŠé¼ æ ‡å®šä¹‰åˆ°éœ€è¦è½¬æ¢è®¾ç½®å€¼çš„å¯¹è±¡ï¼Œä¹‹åé¼ æ ‡å³é”®ï¼Œé€‰æ‹© <code>Generate</code> -&gt; <code>Vo2Dto - å°å‚…å“¥</code></li></ol><h3 id="_1-å¤åˆ¶å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_1-å¤åˆ¶å¯¹è±¡" aria-hidden="true">#</a> 1. å¤åˆ¶å¯¹è±¡</h3><p><img src="https://bugstack.cn/images/article/assembly/assembly-211214-6-02.png" alt=""></p><h3 id="_2-ç”Ÿæˆå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_2-ç”Ÿæˆå¯¹è±¡" aria-hidden="true">#</a> 2. ç”Ÿæˆå¯¹è±¡</h3><p><img src="https://bugstack.cn/images/article/assembly/assembly-211214-6-03.png" alt=""></p><h3 id="_3-æœ€ç»ˆæ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#_3-æœ€ç»ˆæ•ˆæœ" aria-hidden="true">#</a> 3. æœ€ç»ˆæ•ˆæœ</h3><p><img src="https://bugstack.cn/images/article/assembly/assembly-211214-6-04.png" alt=""></p><ul><li>æœ€ç»ˆä½ å°±å¯ä»¥çœ‹åˆ°å·²ç»æŠŠä½ å…¨éƒ¨çš„å¯¹è±¡è½¬æ¢ï¼Œè‡ªåŠ¨ç”Ÿæˆå‡ºæ¥ä»£ç äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆé¦™ã€‚</li><li>å¦‚æœä½ ç›´æ¥ä½¿ç”¨å¿«æ·é”® <code>Ctrl + Shift + K</code> ä¹Ÿæ˜¯å¯ä»¥è‡ªåŠ¨ç”Ÿæˆçš„ã€‚</li></ul><h2 id="äº”ã€æ‰©å±•æ¥å£" tabindex="-1"><a class="header-anchor" href="#äº”ã€æ‰©å±•æ¥å£" aria-hidden="true">#</a> äº”ã€æ‰©å±•æ¥å£</h2><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td>è·å–å½“å‰ç¼–è¾‘çš„æ–‡ä»¶, é€šè¿‡PsiFileå¯è·å¾—PsiClass, PsiFieldç­‰</td><td><code>PsiFile psiFile = e.getData(LangDataKeys.PSI_FILE);</code></td></tr><tr><td>è·å–å½“å‰çš„projectå¯¹è±¡</td><td><code>Project project = e.getProject();</code></td></tr><tr><td>è·å–æ•°æ®ä¸Šä¸‹æ–‡</td><td><code>DataContext dataContext = e.getDataContext();</code></td></tr><tr><td>è·å–åˆ°æ•°æ®ä¸Šä¸‹æ–‡åï¼Œé€šè¿‡CommonDataKeyså¯¹è±¡å¯ä»¥è·å¾—è¯¥Fileçš„æ‰€æœ‰ä¿¡æ¯</td><td><code>Editor editor = CommonDataKeys.EDITOR.getData(dataContext);&lt;br /&gt;PsiFile psiFile = CommonDataKeys.PSI_FILE.getData(dataContext);&lt;br /&gt;VirtualFile virtualFile = CommonDataKeys.VIRTUAL_FILE.getData(dataContext);</code></td></tr><tr><td>GlobalSearchScopeä¸­æœ‰ProjectåŸŸï¼ŒMouduleåŸŸï¼ŒFileåŸŸç­‰ç­‰</td><td><code>PsiFile[] psiFiles = FilenameIndex.getFilesByName(project, name, GlobalSearchScope);</code></td></tr><tr><td>ç±»ä¼¼äºIDEä¸­çš„Find Usagesæ“ä½œ</td><td><code>Query&lt;PsiReference&gt; search = ReferencesSearch.search(PsiElement);</code></td></tr><tr><td>é‡å‘½å</td><td><code>RenameRefactoring newName = RefactoringFactory.getInstance(Project).createRename(PsiElement, &quot;newName&quot;);</code></td></tr><tr><td>æœç´¢ä¸€ä¸ªç±»çš„æ‰€æœ‰å­ç±»ï¼Œé‡è½½æ–¹æ³•è¾ƒå¤šï¼Œå…·ä½“ä¸å†ä¸€ä¸€åˆ—å‡º</td><td><code>Query&lt;PsiClass&gt; search = ClassInheritorsSearch.search(PsiClass);</code></td></tr><tr><td>æ ¹æ®ç±»çš„å…¨é™å®šåæŸ¥è¯¢PsiClassï¼Œä¸‹é¢è¿™ä¸ªæ–¹æ³•æ˜¯æŸ¥è¯¢ProjectåŸŸ</td><td><code>PsiClass psiClass = JavaPsiFacade.getInstance(project).findClass(classQualifiedName, GlobalSearchScope.projectScope(project));</code></td></tr><tr><td>è·å–Javaç±»æ‰€åœ¨çš„Package</td><td><code>PsiPackage psiPackage = JavaPsiFacade.getInstance(Project).findPackage(classQualifiedName);</code></td></tr><tr><td>æŸ¥æ‰¾è¢«ç‰¹å®šæ–¹æ³•é‡å†™çš„æ–¹æ³•</td><td><code>Query&lt;PsiMethod&gt; search = OverridingMethodsSearch.search(PsiMethod);</code></td></tr></tbody></table><h2 id="å…­ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#å…­ã€æ€»ç»“" aria-hidden="true">#</a> å…­ã€æ€»ç»“</h2><ul><li>æœ¬ç« èŠ‚ä¸­æˆ‘ä»¬æ¶‰åŠäº†ä¸å°‘å¯¹å·¥ç¨‹å¯¹è±¡çš„ç±»å’Œæ–¹æ³•è¿›è¡Œæ“ä½œçš„å¤„ç†ï¼Œè¿™äº›å†…å®¹çš„å®è·µä¹Ÿéå¸¸é€‚åˆä½ åœ¨å…¶ä»–åœºæ™¯ä½¿ç”¨ï¼Œæ¯”å¦‚ç»™å·¥ç¨‹çš„æ¥å£ç”Ÿæˆä¸€äº›è‡ªåŠ¨åŒ–APIçš„æ“ä½œã€‚</li><li>åœ¨ç»™å¯¹è±¡ç”Ÿæˆ <code>x.set(y.get)</code> çš„æ—¶å€™ï¼Œæˆ‘ä¹Ÿåœ¨æ€è€ƒè¯¥æ€ä¹ˆæ›´åˆç†çš„æŠŠè½¬æ¢å¯¹è±¡ä»£å…¥åˆ°æ’ä»¶çš„ä»£ç é€»è¾‘ä¸­ï¼Œå¯èƒ½ä¼šæƒ³åˆ°æ˜¯é€šè¿‡å¼¹çª—é…ç½®æˆ–è€…ä»£ç æ‰«æåˆ°ä¸Šä¸€è¡Œï¼Œä½†è¿™æ ·çš„æ–¹å¼ç»ˆç©¶æ˜¯ä¸èˆ’æœçš„ï¼Œè€ƒè™‘åˆ°å®é™…è‡ªå·±ç¼–ç çš„ä¹ æƒ¯æ“ä½œï¼Œå…¶å®æˆ‘ä»¬åšè¿™æ­¥çš„æ—¶å€™ï¼Œå¤åˆ¶æ˜¯ç¬¬ä¸€æ­¥åŠ¨ä½œï¼Œä¸ºäº†æ›´å¥½çš„ä½“éªŒï¼Œæ‰€ä»¥è¿™é‡Œé€‰æ‹©äº†ç”¨å¤åˆ¶æ¥å¤„ç†è¿™å—çš„è¿æ¥æ€§é—®é¢˜ã€‚</li><li>æœ¬ç³»åˆ—çš„ IDEA Plugin å¼€å‘éƒ½ä»¥éµå¾ª DDD å·¥ç¨‹ç»“æ„æ€æƒ³ä¸ºè®¾è®¡å’Œå®ç°ï¼Œè™½ç„¶æ•´ä½“å†…å®¹çœ‹ä¸Šå»ä¹Ÿä¸å¤æ‚ï¼Œä½†å¸Œæœ›è¿™äº›æ¡†æ¶çš„æ²‰æ·€å¯ä»¥ä¸º DDD è½åœ°é“ºè·¯ï¼Œè®©æ›´å¤šçš„å·¥ç¨‹ç ”å‘äººå‘˜é€‚åº” DDD ç»“æ„ã€‚</li></ul>`,47);function g(m,v){const s=e("ExternalLinkIcon");return o(),p("div",null,[u,n("p",null,[a("ä½œè€…ï¼šå°å‚…å“¥ "),r,a("åšå®¢ï¼š"),n("a",d,[a("https://bugstack.cn"),c(s)])]),k])}const h=t(l,[["render",g],["__file","2021-12-14-ã€ŠIntelliJ IDEA chajiankaifaã€‹diliujieï¼šyizhirudaimadefangshiï¼Œzidongchulivo2dto.html.vue"]]);export{h as default};
