import{_ as p,r as c,o,c as l,a as n,b as s,d as t,e}from"./app-3RcBQnkC.js";const i={},u=n("h1",{id:"ç¬¬5èŠ‚-å¼€å‘å·¥å…·æ å’Œtabé¡µ-å±•ç¤ºè‚¡ç¥¨è¡Œæƒ…å’Œkçº¿",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ç¬¬5èŠ‚-å¼€å‘å·¥å…·æ å’Œtabé¡µ-å±•ç¤ºè‚¡ç¥¨è¡Œæƒ…å’Œkçº¿","aria-hidden":"true"},"#"),s(" ç¬¬5èŠ‚ï¼šå¼€å‘å·¥å…·æ å’ŒTabé¡µï¼Œå±•ç¤ºè‚¡ç¥¨è¡Œæƒ…å’ŒKçº¿")],-1),k=n("br",null,null,-1),d={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},r=n("br",null,null,-1),v={href:"https://mp.weixin.qq.com/s/V-32cMb3WLDUJA_yfQc4fw",target:"_blank",rel:"noopener noreferrer"},m=e(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>æ²¡æ‹›äº†ï¼Œä¸å†™ç‚¹åˆºæ¿€çš„ï¼Œä½ æ€»æ˜¯ä¸å¥½å¥½çœ‹ï¼</code></p><p>ä»¥å‰ï¼Œæˆ‘ä¸æ‡‚ã€‚å†™çš„æŠ€æœ¯å°±æ˜¯æŠ€æœ¯å†…å®¹ï¼Œå†™çš„åœºæ™¯å°±æ˜¯åœºæ™¯åˆ†æï¼Œä½†ä»è¯»è€…çš„é˜…è¯»æˆ‘å‘ç°ï¼Œå¤§å®¶æ›´å–œæ¬¢çš„æ˜¯æŠ€æœ¯ä¸åœºæ™¯ç»“åˆï¼Œå°¤å…¶æ˜¯ç”¨æŠ€æœ¯ç»“åˆé‚£äº›ç¾ç¾ç­”ç­”çš„åœºæ™¯ï¼Œè™½ç„¶å˜´ä¸Šéƒ½ä¸è¯´ã€‚</p><p>æœ¬ç« èŠ‚ä¸»è¦æ˜¯æƒ³ç»™å¤§å®¶ä»‹ç»å…³äºåœ¨ IDEA æ’ä»¶å¼€å‘ä¸­å¦‚ä½•ä½¿ç”¨å·¥å…·æ å’ŒTabé¡µï¼Œæ¥å¡«å……åœ¨ IDEA ä¸­åº•éƒ¨çš„çª—ä½“ï¼Œå°±åƒ IDEA ä¸­çš„æ§åˆ¶å°ä¸€æ ·ã€‚ä½†å°±è¿™ä¹ˆå†™å¥½åƒæ˜¯å¤Ÿå‘›èƒ½æœ‰äººçœ‹ï¼Œå› ä¸ºå¤§å®¶åªä»æŠ€æœ¯ç‚¹æ¥çœ‹ï¼Œå¾ˆéš¾å‘ç°è¿™é‡Œé¢æœ‰ä»€ä¹ˆåº”ç”¨åœºæ™¯ï¼Œå³ä½¿çœ‹äº†å¥½åƒä¹Ÿä¸çŸ¥é“è¿™æŠ€æœ¯èƒ½å¹²å•¥ã€‚</p><p><strong>é‚£å’‹åŠ</strong>ï¼Œæ•´ç‚¹<code>åˆºæ¿€</code>çš„å§ã€‚å¤§å®¶ä¸æ˜¯å–œæ¬¢<code>èµ”é’±ç‚’è‚¡</code>å—ï¼Œé‚£å°±æŠŠ<code>è‚¡ç¥¨è¡Œæƒ…</code>å’Œ<code>Kçº¿å±•ç¤º</code>ç»“åˆåˆ°IDEAæ’ä»¶å¼€å‘ä¸­ã€‚å¯ä»¥è®©å­¦ä¹ æ’ä»¶çš„ä¼™ä¼´ï¼Œéƒ½èƒ½åœ¨å†™ä»£ç ç–²æƒ«çš„æ—¶å€™è¿˜èƒ½çœ‹ä¸€çœ¼è‚¡ç¥¨ï¼Œä¹Ÿè®¸åœ¨å…³é”®çš„æ—¶å€™è¿˜èƒ½æé†’ä½ èµ¶ç´§æŠ›å‡ºå»ï¼</p><h2 id="äºŒã€éœ€æ±‚ç›®çš„" tabindex="-1"><a class="header-anchor" href="#äºŒã€éœ€æ±‚ç›®çš„" aria-hidden="true">#</a> äºŒã€éœ€æ±‚ç›®çš„</h2><p>å®‰å…¨èµ·è§ï¼Œéœ€è¦åœ¨ IDEA ä¸­ä»¥ä¸€ä¸ªæ¯”è¾ƒéšç§˜çš„è§’è½ï¼Œå¼€å‘è‚¡ç¥¨æ’ä»¶ï¼Œè®©ç‚’è‚¡çš„åŒå­¦å¯ä»¥åœ¨ç´§å¼ ç¼–ç CRUDä¹‹ä½™ï¼Œä¸è¦å¿˜è®°è‡ªå·±å…³æ³¨çš„è‚¡ç¥¨è´­ä¹°å’ŒæŠ›å”®ã€‚</p><p>é‚£ä¹ˆä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦å‡ ä¸ªæŠ€æœ¯ç‚¹ï¼ŒåŒ…æ‹¬ï¼šè‚¡ç¥¨æ•°æ®æ¥å£ã€æŸ¥è¯¢å¯¹è±¡å°è£…ã€IDEA åº•éƒ¨çª—ä½“å’Œå·¥å…·æ å¼€å‘ã€å®šæ—¶ä»»åŠ¡æ‰«æã€Swing UIã€è‚¡ç¥¨ä»£ç é…ç½®å’Œä¿å­˜ã€çª—ä½“æŒ‰é’®äº‹ä»¶ç›‘å¬ç­‰ã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±ç»“åˆè¿™äº›æŠ€æœ¯ç‚¹ï¼Œæ¥è§£å†³å®é™…çš„åœºæ™¯é—®é¢˜ï¼Œçœ‹çœ‹å¦‚ä½•åœ¨ IDEA ä¸­å¼€å‘ä¸€ä¸ªè‚¡ç¥¨æ’ä»¶ã€‚</p><h2 id="ä¸‰ã€æ¡ˆä¾‹å¼€å‘" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€æ¡ˆä¾‹å¼€å‘" aria-hidden="true">#</a> ä¸‰ã€æ¡ˆä¾‹å¼€å‘</h2><h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>guide<span class="token operator">-</span>idea<span class="token operator">-</span>plugin<span class="token operator">-</span>tab
â”œâ”€â”€ <span class="token punctuation">.</span>gradle
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â””â”€â”€ java
    â”‚   	â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>guide<span class="token punctuation">.</span>idea<span class="token punctuation">.</span>plugin 
    â”‚       	â”œâ”€â”€ domain
    â”‚       	â”‚	â”œâ”€â”€ model
    â”‚       	â”‚	â”‚	â”œâ”€â”€ aggregates
    â”‚       	â”‚	â”‚	â”‚	â””â”€â”€ <span class="token class-name">StockResult</span><span class="token punctuation">.</span>java    
    â”‚       	â”‚	â”‚	â””â”€â”€ vo  
    â”‚       	â”‚	â”‚	 	â”œâ”€â”€ <span class="token class-name">Data</span><span class="token punctuation">.</span>java 
    â”‚       	â”‚	â”‚	 	â”œâ”€â”€ <span class="token class-name">GoPicture</span><span class="token punctuation">.</span>java     
    â”‚       	â”‚	â”‚	 	â””â”€â”€ <span class="token class-name">Stock</span><span class="token punctuation">.</span>java       
    â”‚       	â”‚	â””â”€â”€ service   
    â”‚       	â”‚	 	â”œâ”€â”€ impl     
    â”‚       	â”‚	 	â”‚	â””â”€â”€ <span class="token class-name">StockImpl</span><span class="token punctuation">.</span>java    
    â”‚       	â”‚	 	â””â”€â”€ <span class="token class-name">IStock</span>      
    â”‚       	â”œâ”€â”€ factory
    â”‚       	â”‚	â””â”€â”€ <span class="token class-name">TabFactory</span><span class="token punctuation">.</span>java  
    â”‚       	â”œâ”€â”€ infrastructure
    â”‚       	â”‚	â”œâ”€â”€ <span class="token class-name">DataSetting</span><span class="token punctuation">.</span>java       
    â”‚       	â”‚	â””â”€â”€ <span class="token class-name">DataState</span><span class="token punctuation">.</span>java     
    â”‚       	â”œâ”€â”€ <span class="token keyword">module</span>
    â”‚       	â”‚	â”œâ”€â”€ <span class="token class-name">RefreshBar</span><span class="token punctuation">.</span>java   
    â”‚       	â”‚	â”œâ”€â”€ <span class="token class-name">SettingBar</span><span class="token punctuation">.</span>java    
    â”‚       	â”‚	â””â”€â”€ <span class="token class-name">ViewBars</span><span class="token punctuation">.</span>java         
    â”‚       	â””â”€â”€ ui
    â”‚       	â”‚	â”œâ”€â”€ <span class="token class-name">ConsoleUI</span><span class="token punctuation">.</span>java 
    â”‚       	â”‚	â”œâ”€â”€ <span class="token class-name">ConsoleUI</span><span class="token punctuation">.</span>form
    â”‚       	â”‚	â”œâ”€â”€ <span class="token class-name">GidConfig</span><span class="token punctuation">.</span>java  
    â”‚       	â”‚	â””â”€â”€ <span class="token class-name">GidConfig</span><span class="token punctuation">.</span>form
    â”‚       	â””â”€â”€ <span class="token class-name">Config</span>    
    â”œâ”€â”€ resources
    â”‚   â””â”€â”€ <span class="token constant">META</span><span class="token operator">-</span><span class="token constant">INF</span>
    â”‚       â””â”€â”€ plugin<span class="token punctuation">.</span>xml 
    â”œâ”€â”€ build<span class="token punctuation">.</span>gradle  
    â””â”€â”€ gradle<span class="token punctuation">.</span>properties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æºç è·å–</strong>ï¼š#å…¬ä¼—å·ï¼š<code>bugstackè™«æ´æ ˆ</code> å›å¤ï¼š<code>idea</code> å³å¯ä¸‹è½½å…¨éƒ¨ IDEA æ’ä»¶å¼€å‘æºç </p><p>åœ¨æ­¤ IDEA æ’ä»¶å·¥ç¨‹ä¸­ï¼Œä¸»è¦åˆ†ä¸º5å—åŒºåŸŸï¼š</p><ul><li>domainï¼šé¢†åŸŸå±‚ï¼Œæä¾›æŸ¥è¯¢è‚¡ç¥¨æ¥å£çš„æ•°æ®æœåŠ¡ï¼Œå¦‚æœä½ æ˜¯åšçš„ä¸€äº›å…¶ä»–å·¥å…·å‹åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥æŠŠä¸šåŠ¡ç±»çš„å†…å®¹æ”¾åˆ° domain ä¸­å®ç°ã€‚</li><li>factoryï¼šå·¥å‚å±‚ï¼Œè¿™é‡Œä¸»è¦æä¾›çš„æ˜¯ä¸€ä¸ªå·¥å…·çª—ä½“ç”Ÿæˆçš„å…¥å£å¯¹è±¡ï¼Œæ¥åˆ›å»ºå‡ºæˆ‘ä»¬è‡ªå·±æ·»åŠ çš„çª—ä½“å†…å®¹ã€‚</li><li>infrastructureï¼šåŸºç¡€å±‚ï¼Œæä¾›äº†æ•°æ®å­˜æ”¾å¯¹è±¡ï¼Œè¿™ä¸ªæ•°æ®å¯¹è±¡æ˜¯ä¸€ä¸ªå¯ä»¥è½ç›˜çš„æ“ä½œï¼Œåˆ›å»ºå¥½çš„ç±»é…ç½®åˆ° plugin.xml ä¸­å³å¯ã€‚<em>è¿™æ ·æˆ‘ä»¬é…ç½®å¥½è‚¡ç¥¨ä»£ç åï¼Œå…³æœºé‡å¯ IDEA ä¹Ÿå¯ä»¥æŠŠé…ç½®è¯»å–å‡ºæ¥</em></li><li>moduleï¼šæ¨¡å—ï¼Œæä¾›ç”¨äº UI çª—ä½“ä½¿ç”¨çš„ä¸€äº›å·¥å…·é¡µæ“ä½œã€‚æ¯”å¦‚è¿™é‡Œçš„ ViewBars ä¼šåœ¨ TabFactory ä¸­å®ä¾‹åŒ–ï¼Œç”¨äºå±•ç¤ºå‡ºä½ æ·»åŠ çš„çª—ä½“ã€‚</li><li>uiï¼šè¿™ä¸€éƒ¨åˆ†ä½¿ç”¨çš„æ˜¯ IDEA ä¸­è‡ªåŠ¨æ‹–æ‹½ç”Ÿæˆçš„çª—ä½“ï¼Œå…å»äº†æ‰‹å†™çš„å¤æ‚æ€§ï¼Œä¸€äº›ç®€å•çš„é¡µé¢ç›´æ¥æ‹–æ‹½å°±å¯ä»¥ã€‚<em>è¿™ä¹Ÿæ˜¯ä¸€ç§ä½ä»£ç å“¦ï¼</em></li></ul><p><strong>æ¥ä¸‹æ¥</strong>ï¼Œæˆ‘ä»¬å°±åˆ†åˆ«çœ‹ä¸‹æ¯ä¸ªæ ¸å¿ƒåŠŸèƒ½ç‚¹çš„å®ç°è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä½ å¯ä»¥æå‰æŠŠä»£ç ä¸‹è½½ä¸‹æ¥ï¼Œå¯¹ç…§ç€å­¦ä¹ ä¼šæ›´åŠ å®¹æ˜“ç†è§£ã€‚</p><p><img src="https://bugstack.cn/images/article/assembly/assembly-211118-3-01.png" alt=""></p><ol><li>å®ç° ToolWindowFactory å¼€å‘ä¸€ä¸ªåº•éƒ¨çš„çª—ä½“ï¼Œç”¨äºæ‰¿è½½æ‰€éœ€çš„å†…å®¹</li><li>å·¦ä¾§æ˜¯ä¾§è¾¹å·¥å…·æ ï¼Œé…ç½®è‡ªé€‰è‚¡ã€åˆ·æ–°è‚¡ç¥¨æŒ‡æ•°</li><li>å³ä¾§æ˜¯2ä¸ª tab é¡µï¼Œåˆ†åˆ«ç”¨äºå±•ç¤ºè‚¡ç¥¨æ•°æ®å’ŒKçº¿å›¾ï¼Œè¿™é‡Œçš„æ•°æ®åˆ™éœ€è¦é€šè¿‡è‚¡ç¥¨æ¥å£æ¥æä¾›</li></ol><h3 id="_2-tab-é¡µçª—ä½“" tabindex="-1"><a class="header-anchor" href="#_2-tab-é¡µçª—ä½“" aria-hidden="true">#</a> 2. tab é¡µçª—ä½“</h3><p>é¦–å…ˆè¿™é‡Œæˆ‘ä»¬å…ˆä½¿ç”¨ IDEA æ’ä»¶å¼€å‘ä¸­ï¼ŒSwing UI åŠŸèƒ½ï¼Œæ‹–æ‹½å‡º2ä¸ªç®€å•çš„çª—ä½“ã€‚æœ‰äº†è¿™æ ·çš„ä¸€ä¸ªåŸºæœ¬ç»“æ„å¤§å®¶çš„è„‘å­é‡Œåº”è¯¥å°±å¯ä»¥<code>æœ‰ç”»é¢</code>äº†ã€‚</p><h4 id="_2-1-è‡ªé€‰è‚¡é…ç½®çª—ä½“" tabindex="-1"><a class="header-anchor" href="#_2-1-è‡ªé€‰è‚¡é…ç½®çª—ä½“" aria-hidden="true">#</a> 2.1 è‡ªé€‰è‚¡é…ç½®çª—ä½“</h4><p><img src="https://bugstack.cn/images/article/assembly/assembly-211118-3-04.png" alt=""></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GidConfig</span> <span class="token keyword">implements</span> <span class="token class-name">Configurable</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">JPanel</span> mainPanel<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">JPanel</span> settingPanel<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">JLabel</span> gidLabel<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">JTextField</span> gidTextField<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">ConsoleUI</span> consoleUI<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">GidConfig</span><span class="token punctuation">(</span><span class="token class-name">ConsoleUI</span> consoleUI<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>consoleUI <span class="token operator">=</span> consoleUI<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">JTextField</span> <span class="token function">getGidTextField</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> gidTextField<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ConfigurationException</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> gidList <span class="token operator">=</span> <span class="token class-name">DataSetting</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getGids</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        gidList<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> gids <span class="token operator">=</span> gidTextField<span class="token punctuation">.</span><span class="token function">getText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> gid <span class="token operator">:</span> gids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            gidList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>gid<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// åˆ·æ–°æ•°æ®</span>
        consoleUI<span class="token punctuation">.</span><span class="token function">addRows</span><span class="token punctuation">(</span>gidList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ GidConfig å¯¹åº”çš„ java ç±»ä¸­ï¼Œå¯ä»¥å¯¹ä¸€äº›çª—ä½“ä¸­å‡ºç°çš„å±æ€§è¿›è¡Œè·å–ã€‚å½“ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªçª—ä½“çš„ç¡®è®¤æŒ‰é’®åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ apply ä¸­æ‹¿åˆ°ç”¨æˆ·é…ç½®çš„è‚¡ç¥¨ä»£ç ï¼Œå¹¶å¯¹å…¶è¿›è¡Œè¯»å–å’Œè®¾ç½®è‚¡ç¥¨æ•°æ®ã€‚</li></ul><h4 id="_2-2-è‚¡ç¥¨å±•ç¤ºçª—ä½“" tabindex="-1"><a class="header-anchor" href="#_2-2-è‚¡ç¥¨å±•ç¤ºçª—ä½“" aria-hidden="true">#</a> 2.2 è‚¡ç¥¨å±•ç¤ºçª—ä½“</h4><p><img src="https://bugstack.cn/images/article/assembly/assembly-211118-3-05.png" alt=""></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConsoleUI</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">JTabbedPane</span> tabbedPane1<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">JPanel</span> one<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">JPanel</span> two<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">JLabel</span> picMin<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">JTable</span> table<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">JLabel</span> picDay<span class="token punctuation">;</span>

    <span class="token comment">// æŸ¥è¯¢æ•°æ®æœåŠ¡</span>
    <span class="token keyword">private</span> <span class="token class-name">IStock</span> stock <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StockImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">DefaultTableModel</span> defaultTableModel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultTableModel</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;è‚¡ç¥¨&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ä»£ç &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æœ€æ–°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ¶¨è·Œ&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;æ¶¨å¹…&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ConsoleUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// åˆå§‹æ•°æ®</span>
        table<span class="token punctuation">.</span><span class="token function">setModel</span><span class="token punctuation">(</span>defaultTableModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">addRows</span><span class="token punctuation">(</span><span class="token class-name">DataSetting</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getGids</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// æ·»åŠ äº‹ä»¶</span>
        table<span class="token punctuation">.</span><span class="token function">addMouseListener</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MouseAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mouseClicked</span><span class="token punctuation">(</span><span class="token class-name">MouseEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">int</span> row <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">getSelectedRow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">Object</span> value <span class="token operator">=</span> table<span class="token punctuation">.</span><span class="token function">getValueAt</span><span class="token punctuation">(</span>row<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">GoPicture</span> goPicture <span class="token operator">=</span> stock<span class="token punctuation">.</span><span class="token function">queryGidGoPicture</span><span class="token punctuation">(</span>value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">try</span> <span class="token punctuation">{</span>
                    <span class="token comment">// åˆ†é’ŸKçº¿</span>
                    picMin<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">545</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    picMin<span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>goPicture<span class="token punctuation">.</span><span class="token function">getMinurl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                    <span class="token comment">// å½“æ—¥Kçº¿</span>
                    picDay<span class="token punctuation">.</span><span class="token function">setSize</span><span class="token punctuation">(</span><span class="token number">545</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    picDay<span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ImageIcon</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URL</span><span class="token punctuation">(</span>goPicture<span class="token punctuation">.</span><span class="token function">getDayurl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">MalformedURLException</span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    m<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">JTabbedPane</span> <span class="token function">getPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> tabbedPane1<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addRows</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> gids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æŸ¥è¯¢</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Data</span><span class="token punctuation">&gt;</span></span> dataList <span class="token operator">=</span> stock<span class="token punctuation">.</span><span class="token function">queryPresetStockData</span><span class="token punctuation">(</span>gids<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// æ¸…ç©º</span>
        <span class="token keyword">int</span> rowCount <span class="token operator">=</span> defaultTableModel<span class="token punctuation">.</span><span class="token function">getRowCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> rowCount<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            defaultTableModel<span class="token punctuation">.</span><span class="token function">removeRow</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// æ·»åŠ </span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Data</span> data <span class="token operator">:</span> dataList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            defaultTableModel<span class="token punctuation">.</span><span class="token function">addRow</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span><span class="token function">getGid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span><span class="token function">getNowPri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span><span class="token function">getIncrease</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data<span class="token punctuation">.</span><span class="token function">getIncrePer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            table<span class="token punctuation">.</span><span class="token function">setModel</span><span class="token punctuation">(</span>defaultTableModel<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å±•ç¤ºè‚¡ç¥¨çš„çª—ä½“å¯¹åº”çš„ ConsoleUI ç±»ï¼Œä¸»è¦è´Ÿè´£æ•°æ®çš„æ¸²æŸ“ã€æ›´æ–°å’Œå¯¹æ¯æ¡æ•°æ®çš„äº‹ä»¶æ“ä½œï¼Œå½“ç”¨æˆ·ç‚¹å‡»æŸä¸€æ¡æ•°æ®ä»¥åï¼Œå°±å¯ä»¥åˆ° <code>Kçº¿</code> é¡µä¸­çœ‹åˆ°å¯¹åº”çš„è‚¡ç¥¨æŒ‡æ•°äº†ã€‚</li></ul><h3 id="_3-è‚¡ç¥¨æ¡†ä½“è®¾ç½®" tabindex="-1"><a class="header-anchor" href="#_3-è‚¡ç¥¨æ¡†ä½“è®¾ç½®" aria-hidden="true">#</a> 3. è‚¡ç¥¨æ¡†ä½“è®¾ç½®</h3><p>åœ¨å¼€å‘å®Œ UI çª—ä½“åï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½¿ç”¨ä¸€ä¸ª SimpleToolWindowPanel çš„ç»§æ‰¿å®ç°ç±»ï¼Œæ‰¿è½½å·¥å…·æ å’Œé¡µé¢çš„è®¾ç½®ã€‚</p><h4 id="_3-1-è®¾ç½®-å·¥å…·æ " tabindex="-1"><a class="header-anchor" href="#_3-1-è®¾ç½®-å·¥å…·æ " aria-hidden="true">#</a> 3.1 è®¾ç½®-å·¥å…·æ </h4><p><strong>cn.bugstack.guide.idea.plugin.module.SettingBar</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SettingBar</span> <span class="token keyword">extends</span> <span class="token class-name">DumbAwareAction</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">ViewBars</span> panel<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">SettingBar</span><span class="token punctuation">(</span><span class="token class-name">ViewBars</span> panel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;é…ç½®è‚¡ç¥¨&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Click to setting&quot;</span><span class="token punctuation">,</span> <span class="token class-name">IconLoader</span><span class="token punctuation">.</span><span class="token function">getIcon</span><span class="token punctuation">(</span><span class="token string">&quot;/icons/config.svg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>panel <span class="token operator">=</span> panel<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">AnActionEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ShowSettingsUtil</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">editConfigurable</span><span class="token punctuation">(</span>panel<span class="token punctuation">.</span><span class="token function">getProject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">GidConfig</span><span class="token punctuation">(</span>panel<span class="token punctuation">.</span><span class="token function">getConsoleUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è®¾ç½®å·¥å…·æ ä½äºè‡ªå®šä¹‰æ’ä»¶é¢æ¿ä¸­æœ€å·¦ä¾§çš„ä½ç½®ï¼Œç”¨äºè®¾ç½®è‡ªé€‰è‚¡ç¥¨ä»£ç ã€‚</li><li>é€šè¿‡åœ¨æ–¹æ³• <code>actionPerformed</code> ä¸­ä½¿ç”¨ <code>ShowSettingsUtil</code> å·¥å…·ç±»å¯åŠ¨ UI çª—ä½“ã€‚</li></ul><h4 id="_3-2-åˆ·æ–°-å·¥å…·æ " tabindex="-1"><a class="header-anchor" href="#_3-2-åˆ·æ–°-å·¥å…·æ " aria-hidden="true">#</a> 3.2 åˆ·æ–°-å·¥å…·æ </h4><p><strong>cn.bugstack.guide.idea.plugin.module.RefreshBar</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RefreshBar</span> <span class="token keyword">extends</span> <span class="token class-name">DumbAwareAction</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">ViewBars</span> panel<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">RefreshBar</span><span class="token punctuation">(</span><span class="token class-name">ViewBars</span> panel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">&quot;åˆ·æ–°æŒ‡æ•°&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Click to refresh&quot;</span><span class="token punctuation">,</span> <span class="token class-name">IconLoader</span><span class="token punctuation">.</span><span class="token function">getIcon</span><span class="token punctuation">(</span><span class="token string">&quot;/icons/refresh.svg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>panel <span class="token operator">=</span> panel<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">actionPerformed</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">AnActionEvent</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        panel<span class="token punctuation">.</span><span class="token function">getConsoleUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addRows</span><span class="token punctuation">(</span><span class="token class-name">DataSetting</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getGids</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨åˆ·æ–°å·¥å…·æ ä¸­ä¸»è¦æ˜¯ç”¨äºæ‰‹åŠ¨è§¦å‘åˆ·æ–°è‚¡ç¥¨æœ€æ–°ç»“æœï¼Œä¹‹æ‰€ä»¥ä½¿ç”¨æ‰‹åŠ¨åˆ·æ–°ä¸»è¦æ˜¯è¿™ä¸ªæ¥å£æœ‰æŸ¥è¯¢æ¬¡æ•°é™åˆ¶ï¼Œå¦‚æœæ˜¯å®šæ—¶ä»»åŠ¡ä¸€ç›´è·‘ï¼Œä¸€ä¼š100æ¬¡çš„æŸ¥è¯¢é™åˆ¶å°±ç”¨å®Œäº†ã€‚<em>ä¸è¿‡æˆ‘ä»¬è¿™é‡Œä¹Ÿæ˜¯ä¸ºäº†ä½“ç°ä¸“æ å†…å¯¹æŠ€æœ¯çš„ä½¿ç”¨ï¼Œå¢åŠ å¤šä¸ªè®¾ç½®æŒ‰é’®ï¼Œå°±æ›´å®¹æ˜“çŸ¥é“å¦‚ä½•æ·»åŠ äº†</em></li></ul><h4 id="_3-3-çª—ä½“å¡«å……é¢æ¿" tabindex="-1"><a class="header-anchor" href="#_3-3-çª—ä½“å¡«å……é¢æ¿" aria-hidden="true">#</a> 3.3 çª—ä½“å¡«å……é¢æ¿</h4><p><strong>cn.bugstack.guide.idea.plugin.module.ViewBars</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ViewBars</span> <span class="token keyword">extends</span> <span class="token class-name">SimpleToolWindowPanel</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Project</span> project<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ConsoleUI</span> consoleUI<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ViewBars</span><span class="token punctuation">(</span><span class="token class-name">Project</span> project<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>project <span class="token operator">=</span> project<span class="token punctuation">;</span>
        consoleUI <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConsoleUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// è®¾ç½®çª—ä½“ä¾§è¾¹æ æŒ‰é’®</span>
        <span class="token class-name">DefaultActionGroup</span> group <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultActionGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        group<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SettingBar</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        group<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">RefreshBar</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">ActionToolbar</span> toolbar <span class="token operator">=</span> <span class="token class-name">ActionManager</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createActionToolbar</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> group<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        toolbar<span class="token punctuation">.</span><span class="token function">setTargetComponent</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setToolbar</span><span class="token punctuation">(</span>toolbar<span class="token punctuation">.</span><span class="token function">getComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// æ·»åŠ </span>
        <span class="token class-name">JBSplitter</span> splitter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JBSplitter</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        splitter<span class="token punctuation">.</span><span class="token function">setSplitterProportionKey</span><span class="token punctuation">(</span><span class="token string">&quot;main.splitter.key&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        splitter<span class="token punctuation">.</span><span class="token function">setFirstComponent</span><span class="token punctuation">(</span>consoleUI<span class="token punctuation">.</span><span class="token function">getPanel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        splitter<span class="token punctuation">.</span><span class="token function">setProportion</span><span class="token punctuation">(</span><span class="token number">0.3f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setContent</span><span class="token punctuation">(</span>splitter<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Project</span> <span class="token function">getProject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> project<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">ConsoleUI</span> <span class="token function">getConsoleUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> consoleUI<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨å¡«å……é¢æ¿ä¸­ä¸»è¦æ˜¯åœ¨æˆ‘ä»¬è‡ªå®šä¹‰çš„æ’ä»¶ä¸­ï¼Œåœ¨å·¦ä¾§æ·»åŠ å·¥å…·æ ï¼Œå…¶ä½™ä½ç½®æ·»åŠ è‚¡ç¥¨å±•ç¤ºé¢æ¿ã€‚</li><li><code>DefaultActionGroup</code> ä¸­å¯ä»¥ä»¥æ­¤æ·»åŠ è®¾ç½®å’Œåˆ·æ–°æŒ‰é’®ï¼Œå¹¶æœ€ç»ˆå¡«å……åˆ° <code>ActionToolbar</code> é‡Œå»ï¼Œè¿™æ ·å°±è®¾ç½®å®Œæˆäº†ã€‚</li><li><code>JBSplitter</code> æ˜¯ä¸€ä¸ªåˆ†å‰²çº¿ï¼Œå³ä¾§å¡«å……ä¸Šæˆ‘ä»¬çš„è‚¡ç¥¨æŒ‡æ•°å±•ç¤ºé¢æ¿ <code>splitter.setFirstComponent(consoleUI.getPanel())</code></li></ul><h3 id="_4-å¡«å……ä¸»é¢æ¿åˆ°ideaå·¥å…·æ " tabindex="-1"><a class="header-anchor" href="#_4-å¡«å……ä¸»é¢æ¿åˆ°ideaå·¥å…·æ " aria-hidden="true">#</a> 4. å¡«å……ä¸»é¢æ¿åˆ°IDEAå·¥å…·æ </h3><h4 id="_4-1-çª—ä½“å·¥å‚" tabindex="-1"><a class="header-anchor" href="#_4-1-çª—ä½“å·¥å‚" aria-hidden="true">#</a> 4.1 çª—ä½“å·¥å‚</h4><p><strong>cn.bugstack.guide.idea.plugin.factory.TabFactory</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TabFactory</span> <span class="token keyword">implements</span> <span class="token class-name">ToolWindowFactory</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createToolWindowContent</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">Project</span> project<span class="token punctuation">,</span> <span class="token annotation punctuation">@NotNull</span> <span class="token class-name">ToolWindow</span> toolWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// çª—ä½“</span>
        <span class="token class-name">ViewBars</span> viewPanel <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ViewBars</span><span class="token punctuation">(</span>project<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–å†…å®¹å·¥å‚çš„å®ä¾‹</span>
        <span class="token class-name">ContentFactory</span> contentFactory <span class="token operator">=</span> <span class="token class-name">ContentFactory</span><span class="token punctuation">.</span><span class="token constant">SERVICE</span><span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å– ToolWindow æ˜¾ç¤ºçš„å†…å®¹</span>
        <span class="token class-name">Content</span> content <span class="token operator">=</span> contentFactory<span class="token punctuation">.</span><span class="token function">createContent</span><span class="token punctuation">(</span>viewPanel<span class="token punctuation">,</span> <span class="token string">&quot;è‚¡ç¥¨&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½® ToolWindow æ˜¾ç¤ºçš„å†…å®¹</span>
        toolWindow<span class="token punctuation">.</span><span class="token function">getContentManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addContent</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// å®šæ—¶ä»»åŠ¡ï¼Œè‡ªåŠ¨åˆ·æ–°è‚¡ç¥¨</span>
        <span class="token comment">/* å› æ¯æ—¥æŸ¥è¯¢æ¬¡æ•°é™åˆ¶ï¼Œè¿™é‡Œå°±ä¸å¼€å®šæ—¶ä»»åŠ¡äº†ï¼Œç”¨æˆ·å¯ä»¥è‡ªè¡Œç”³è¯· https://dashboard.juhe.cn/home
        Timer timer = new Timer();
        timer.schedule(new TimerTask() {
            @Override
            public void run() {
                viewPanel.getConsoleUI().addRows(DataSetting.getInstance().getGids());
            }
        }, 3000, 2000);*/</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ TabFactory ä¸­ä¸»è¦åŒ…æ‹¬ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯æŠŠ ViewBars å¡«å……åˆ°æ•´ä¸ª toolWindow ä¸­ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯æˆ‘ä»¬ç›®å‰å·²ç»æ³¨é‡Šæ‰çš„åˆ·æ–°è‚¡ç¥¨æ•°æ®çš„å®šæ—¶ä»»åŠ¡ã€‚</li><li>è¿™é‡Œç”±äºè‚¡ç¥¨æ¥å£æŸ¥è¯¢æ¬¡æ•°é™åˆ¶ï¼Œæ‰€ä»¥å°±æŠŠå®šæ—¶ä»»åŠ¡æ³¨é‡Šæ‰äº†ï¼Œå¦åˆ™ä¸€ä¼šå°±æŠŠå¯ç”¨æ¬¡æ•°è·‘æ²¡äº†ã€‚</li></ul><h4 id="_4-2-é…ç½®çª—ä½“" tabindex="-1"><a class="header-anchor" href="#_4-2-é…ç½®çª—ä½“" aria-hidden="true">#</a> 4.2 é…ç½®çª—ä½“</h4><p><strong>plugin.xml</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>idea-plugin</span><span class="token punctuation">&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extensions</span> <span class="token attr-name">defaultExtensionNs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.intellij<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Add your extensions here --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>toolWindow</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>XUtil<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">canCloseContents</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">anchor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>bottom<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">factoryClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.guide.idea.plugin.factory.TabFactory<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/icons/stock.png<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>extensions</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>idea-plugin</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œæˆ‘ä»¬æŠŠçª—ä½“é…ç½®åˆ°æ•´ä¸ª IDEA ç•Œé¢çš„æœ€ä¸‹æ–¹ <code>anchor=&quot;bottom&quot;</code> <em>è¿™ä¸ªä½ç½®æ—¢æ–¹ä¾¿åˆæœ€å®‰å…¨</em></li></ul><h3 id="_5-æ•°æ®æŒä¹…åŒ–é…ç½®" tabindex="-1"><a class="header-anchor" href="#_5-æ•°æ®æŒä¹…åŒ–é…ç½®" aria-hidden="true">#</a> 5. æ•°æ®æŒä¹…åŒ–é…ç½®</h3><ul><li>å½“æˆ‘ä»¬ä½¿ç”¨ IDEA è¿›è¡Œé…ç½®ä¸€äº›åŸºæœ¬å‚æ•°åï¼Œä¾‹å¦‚ï¼šMavenã€Gradleã€Gitã€ç­¾åä¿¡æ¯ç­‰ï¼Œåœ¨æ—¥å¸¸çš„å…³é—­å’Œé‡å¯ IDEA æ—¶ï¼Œè¿™äº›é…ç½®ä¿¡æ¯æ˜¯ä¼šä¿å­˜ä¸‹æ¥çš„ï¼Œè€Œä¸ä¼šè¯´å…³é—­å°±æ²¡äº†ã€‚</li><li>é‚£ä¹ˆæˆ‘ä»¬å¼€å‘çš„è¿™æ¬¾æ’ä»¶éœ€è¦åšçš„ä¸€äº›è‡ªé€‰è‚¡ç¥¨ä»£ç é…ç½®ï¼Œä¹Ÿè¦è¿›è¡Œä¿å­˜ï¼Œå¦åˆ™ä¸èƒ½æ¯æ¬¡éƒ½åœ¨ IDEA å¯åŠ¨æ—¶é‡æ–°è®¾ç½®ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° <code>plugin.xml</code> ä¸­ <code>applicationService</code> é…ç½®ä¸Šå®ç°äº† <code>PersistentStateComponent</code> çš„æ•°æ®è®¾ç½®å­˜æ”¾ç±»ã€‚</li></ul><h4 id="_5-1-å¯¹è±¡æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_5-1-å¯¹è±¡æ•°æ®" aria-hidden="true">#</a> 5.1 å¯¹è±¡æ•°æ®</h4><p><strong>cn.bugstack.guide.idea.plugin.infrastructure.DataState</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataState</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> gids <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getGids</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> gids<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setGids</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> gids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>gids <span class="token operator">=</span> gids<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™ä¸ªæ˜¯æ•°æ®å¯¹è±¡ç±»ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œè®¾ç½®ä½ éœ€è¦çš„å±æ€§å­˜æ”¾ï¼Œå°±åƒ gids ä¸€æ ·ï¼Œç”¨äºå­˜æ”¾ç”¨æˆ·é…ç½®çš„è‚¡ç¥¨ä»£ç é›†åˆã€‚</li></ul><h4 id="_5-2-æŒä¹…æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_5-2-æŒä¹…æ•°æ®" aria-hidden="true">#</a> 5.2 æŒä¹…æ•°æ®</h4><p><strong>cn.bugstack.guide.idea.plugin.infrastructure.DataSetting</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@State</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;DataSetting&quot;</span><span class="token punctuation">,</span>storages <span class="token operator">=</span> <span class="token annotation punctuation">@Storage</span><span class="token punctuation">(</span><span class="token string">&quot;plugin.xml&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataSetting</span> <span class="token keyword">implements</span> <span class="token class-name">PersistentStateComponent</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DataState</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">DataState</span> state <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">DataSetting</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">ServiceManager</span><span class="token punctuation">.</span><span class="token function">getService</span><span class="token punctuation">(</span><span class="token class-name">DataSetting</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Nullable</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">DataState</span> <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">loadState</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">DataState</span> state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> state<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

     <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">getGids</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> state<span class="token punctuation">.</span><span class="token function">getGids</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>DataSetting ç±»éœ€è¦ä½¿ç”¨åˆ° IDEA æ’ä»¶å¼€å‘çš„æä¾›çš„æ³¨è§£ @State é…ç½®æŒä¹…å¯¹è±¡</li><li>æ­¤å¤–è¿˜éœ€è¦æä¾›ä¸€ä¸ª getInstance æ–¹æ³•æ¥è·å–æ•°æ®å¯¹è±¡å®ä¾‹ï¼Œé‚£ä¹ˆåœ¨æˆ‘ä»¬å®é™…ä½¿ç”¨çš„æ—¶å€™å°±å¯ä»¥æ‹¿åˆ°æˆ‘ä»¬é…ç½®çš„å¯¹è±¡äº†å¹¶è¿›è¡Œè®¾ç½®å’Œè¯»å–æ•°æ®ã€‚</li></ul><h4 id="_5-3-plugin-xml-é…ç½®" tabindex="-1"><a class="header-anchor" href="#_5-3-plugin-xml-é…ç½®" aria-hidden="true">#</a> 5.3 plugin.xml é…ç½®</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extensions</span> <span class="token attr-name">defaultExtensionNs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.intellij<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Add your extensions here --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>applicationService</span> <span class="token attr-name">serviceImplementation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.guide.idea.plugin.infrastructure.DataSetting<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>extensions</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨åˆ›å»ºå¥½æ•°æ®è®¾ç½®ç±»ä»¥åï¼Œåˆ™éœ€è¦ä½¿ç”¨ applicationService æ ‡ç­¾æŠŠä½ çš„ç±»é…ç½®åˆ° plugin.xml ä¸­ extensions é‡Œé¢ã€‚</li></ul><h3 id="_6-è‚¡ç¥¨æ¥å£" tabindex="-1"><a class="header-anchor" href="#_6-è‚¡ç¥¨æ¥å£" aria-hidden="true">#</a> 6. è‚¡ç¥¨æ¥å£</h3><h4 id="_6-1-æŠ€æœ¯è°ƒç ”" tabindex="-1"><a class="header-anchor" href="#_6-1-æŠ€æœ¯è°ƒç ”" aria-hidden="true">#</a> 6.1 æŠ€æœ¯è°ƒç ”</h4>`,67),b=n("li",null,[n("p",null,[s("æ— è®ºä»€ä¹ˆåŠŸèƒ½å¼€å‘ï¼Œåœ¨å¼€å§‹ä¹‹å‰éƒ½éœ€è¦æŠŠè¿™äº›"),n("code",null,"é›¶ç¢çš„äº‹æƒ…"),s("å¤„ç†å®Œï¼Œæ‰èƒ½è¿›è¡Œä»£ç å¼€å‘ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿå«åšæŠ€æœ¯è°ƒç ”åˆ°è®¾è®¡å’Œè¯„å®¡ã€‚å°±åƒç°åœ¨æˆ‘ä»¬éœ€è¦è¿›è¡Œè‚¡ç¥¨ä¿¡æ¯çš„æŸ¥è¯¢ï¼Œé‚£ä¹ˆå°±éœ€è¦æ‰¾åˆ°ä¸€ä¸ªå¯ä»¥æä¾›æ•°æ®æŸ¥è¯¢çš„æ¥å£ï¼Œçœ‹çœ‹è¿™ä¸ªæ¥å£å¦‚ä½•ç”³è¯·ä½¿ç”¨ï¼Œä»¥åŠè¿”å›çš„å¯¹è±¡éƒ½æœ‰å“ªäº›å­—æ®µï¼Œæ˜¯å¦ç¬¦åˆæˆ‘ä»¬çš„é¢„æœŸã€‚")])],-1),g=n("li",null,[n("p",null,[s("è¿™é‡Œå°å‚…å“¥æ‰¾åˆ°äº†ä¸€ä¸ªèšåˆæ•°æ®çš„æ¥å£ï¼Œä¸è¿‡åªèƒ½å…è´¹"),n("code",null,"100æ¬¡/å¤©"),s("è°ƒç”¨ï¼Œå¦‚æœä½ æœ‰æ›´å¥½çš„å¯ä»¥æ›´æ¢ä¸‹ã€‚")]),n("p",null,[n("img",{src:"https://bugstack.cn/images/article/assembly/assembly-211118-3-02.png",alt:""})])],-1),h={href:"http://web.juhe.cn:8080/finance/stock/hs?gid=sz000651&key=%E8%87%AA%E5%B7%B1%E7%94%B3%E8%AF%B7",target:"_blank",rel:"noopener noreferrer"},w=n("li",null,[n("p",null,"æ•°æ®ï¼š"),n("p",null,[n("img",{src:"https://bugstack.cn/images/article/assembly/assembly-211118-3-03.png",alt:""})])],-1),f=e(`<h4 id="_6-2-æœåŠ¡å°è£…" tabindex="-1"><a class="header-anchor" href="#_6-2-æœåŠ¡å°è£…" aria-hidden="true">#</a> 6.2 æœåŠ¡å°è£…</h4><p>æœ‰äº†è‚¡ç¥¨çš„æŸ¥è¯¢æ¥å£ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å¯¹æ•°æ®åšä¸€ä¸ªæŸ¥è¯¢å’Œå¯¹è±¡è½¬æ¢äº†ã€‚</p><p><strong>cn.bugstack.guide.idea.plugin.domain.service.impl.StockImpl</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StockImpl</span> <span class="token keyword">implements</span> <span class="token class-name">IStock</span> <span class="token punctuation">{</span>

    <span class="token comment">// è‡ªè¡Œç”³è¯·ï¼Œè‚¡ç¥¨APIï¼Œæ›¿æ¢keyå³å¯ã€ä¸€å¤©å¯å…è´¹è°ƒç”¨100æ¬¡ã€‘ï¼šhttps://dashboard.juhe.cn/home/</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">&quot;4bc57728***********f0595&quot;</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Data</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryPresetStockData</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> gids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Data</span><span class="token punctuation">&gt;</span></span> dataList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> gid <span class="token operator">:</span> gids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">StockResult</span> stockResult <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token class-name">HttpUtil</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://web.juhe.cn:8080/finance/stock/hs?gid=&quot;</span> <span class="token operator">+</span> gid <span class="token operator">+</span> <span class="token string">&quot;&amp;key=&quot;</span> <span class="token operator">+</span> key<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">StockResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Stock</span><span class="token punctuation">[</span><span class="token punctuation">]</span> stocks <span class="token operator">=</span> stockResult<span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Stock</span> stock <span class="token operator">:</span> stocks<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                dataList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>stock<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> dataList<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿™é‡Œæˆ‘ä»¬åœ¨ domain é¢†åŸŸå±‚ä¸­å®šä¹‰æ•°æ® vo å¯¹è±¡ï¼Œä»¥åŠæä¾›è‚¡ç¥¨æŸ¥è¯¢æœåŠ¡çš„å°è£…ã€‚è¿™æ ·è°ƒç”¨æ–¹å°±å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä»½æ•°æ®äº†ï¼Œå¦‚æœä½ æ˜¯å…¶ä»–å‚å•†æä¾›çš„è‚¡ç¥¨æŸ¥è¯¢æ¥å£ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå°è£…å’Œæ›´æ¢ï¼Œåšä¸€ä¸ªæ¥å£é€‚é…å±‚ã€‚</li></ul><h2 id="å››ã€æµ‹è¯•éªŒè¯" tabindex="-1"><a class="header-anchor" href="#å››ã€æµ‹è¯•éªŒè¯" aria-hidden="true">#</a> å››ã€æµ‹è¯•éªŒè¯</h2><p><img src="https://bugstack.cn/images/article/assembly/assembly-211118-3-06.png" alt=""></p><ul><li>å¦‚æœä½ ä¸‹è½½å·¥ç¨‹åæ²¡æœ‰ Plugin å’Œä¸€ä¸ªç»¿è‰²ç®­å¤´ï¼Œé‚£ä¹ˆå¯ä»¥æŒ‰ç…§å›¾è‡ªå·±é…ç½® <code>:runIde</code> è¿™æ ·å°±å¯ä»¥è¿è¡Œäº†ã€‚</li></ul><p><strong>è¿è¡Œæ•ˆæœ</strong> - æ¿€åŠ¨äººå¿ƒçš„æ—¶åˆ»åˆ°äº†ï¼Œå†ä¹Ÿä¸ç”¨æ‹…å¿ƒå†™ä»£ç å½±å“çœ‹è‚¡ç¥¨äº†å“¦</p><h3 id="_1-é…ç½®è‚¡ç¥¨" tabindex="-1"><a class="header-anchor" href="#_1-é…ç½®è‚¡ç¥¨" aria-hidden="true">#</a> 1. é…ç½®è‚¡ç¥¨</h3><p><img src="https://bugstack.cn/images/article/assembly/assembly-211118-3-07.png" alt=""></p><ul><li>é¦–å…ˆä½ éœ€è¦åœ¨è¿™é‡Œé…ç½®ä½ å…³æ³¨çš„è‚¡ç¥¨ä»£ç ï¼Œæˆ‘é…ç½®äº†3ä¸ªæˆ‘çœ‹å¥½çš„ã€‚</li></ul><h3 id="_2-è‡ªé€‰è‚¡æŒ‡æ•°" tabindex="-1"><a class="header-anchor" href="#_2-è‡ªé€‰è‚¡æŒ‡æ•°" aria-hidden="true">#</a> 2. è‡ªé€‰è‚¡æŒ‡æ•°</h3><p><img src="https://bugstack.cn/images/article/assembly/assembly-211118-3-08.png" alt=""></p><ul><li>é…ç½®å¥½ä»¥åä½ å°±å¯ä»¥çœ‹åˆ°è‡ªå·±çš„è‡ªé€‰è‚¡æŒ‡æ•°äº†ï¼Œé€‰ä¸­ä¸€æ¡ä»¥åï¼Œåœ¨ç‚¹å‡»Kçº¿ã€‚</li><li>å½“ä½ éœ€è¦çœ‹æœ€æ–°æ•°æ®çš„æ—¶å€™ï¼Œå¯ä»¥ç‚¹å·¦ä¾§çš„åˆ·æ–°æŒ‰é’®ã€‚</li></ul><h3 id="_3-kçº¿" tabindex="-1"><a class="header-anchor" href="#_3-kçº¿" aria-hidden="true">#</a> 3. Kçº¿</h3><p><img src="https://bugstack.cn/images/article/assembly/assembly-211118-3-09.png" alt=""></p><ul><li>ç°åœ¨è¿™ä¸ªå°±æ˜¯å¯¹åº”çš„ Kçº¿ï¼Œæ˜¯ä¸æ˜¯è¿˜æŒºé¦™çš„ã€‚ç›®å‰æ˜¯åŠ äº†æœ€è¿‘Kçº¿å’Œæ—¥Kçº¿ï¼Œä½ è¿˜å¯ä»¥æ‰©å±•å…¶ä»–ç»´åº¦çš„å›¾ã€‚</li></ul><h2 id="äº”ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#äº”ã€æ€»ç»“" aria-hidden="true">#</a> äº”ã€æ€»ç»“</h2><ul><li>æœ¬ç« èŠ‚æˆ‘ä»¬ä½¿ç”¨åˆ°äº†åœ¨ IDEA çª—ä½“ä¸­æ·»åŠ ç¨å¾®å¤æ‚ä¸€äº›çš„é¡µé¢ç»“æ„ï¼Œæœ‰ä¾§è¾¹æ ã€æœ‰Tabé¡µï¼Œå¹¶åœ¨éœ€è¦åœ¨è¿™äº›é¡µé¢ä½“ä¸­è¿›è¡Œäº¤äº’å’Œé€šä¿¡ã€‚æ­¤å¤–è¿˜æ˜¯ç”¨åˆ°äº†æ•°æ®çš„å­˜å‚¨è®¾ç½®ï¼Œè¿™ä¸ªåœ¨å¾ˆå¤šæ—¶å€™å¼€å‘IDEAæ’ä»¶é‡Œéƒ½ä¼šç”¨åˆ°ã€‚</li><li>åƒæ˜¯è¿™æ ·çš„æŠ€æœ¯å®è·µä¸åªæ˜¯å¯ä»¥ç”¨äºå±•ç¤ºè‚¡ç¥¨æ•°æ®ï¼Œä½ è¿˜å¯ä»¥ç»“åˆè‡ªå·±æ‰€éœ€æ‰©å±•å±äºä½ å®é™…åœºæ™¯ä¸­éœ€è¦çš„å†…å®¹ï¼Œæ¯”å¦‚å¼€å‘ä¸€ä¸ªæ•°æ®é›†ä¸­æŸ¥è¯¢æ’ä»¶ï¼Œå¯ä»¥æŸ¥è¯¢æ•°æ®åº“ã€ESã€Redisç­‰ï¼Œä¹Ÿå¯ä»¥æ˜¯æ‰€æœ‰çš„å·¥å…·ç±»é›†åˆé¡µï¼Œè¿™äº›å†…å®¹ä¼šæ›´æœ‰æŠ€æœ¯ä»·å€¼ã€‚</li><li>å½“ä½ è‡ªå·±å¼€å§‹ä¸»åŠ¨çš„å‘ä½ å­¦ä¹ åˆ°çš„ä¸€äº›æºç ã€æ¡†æ¶ã€ç»„ä»¶ã€é¡¹ç›®ç­‰ä¸­æ·»åŠ è‡ªå·±æƒ³è¦çš„åŠŸèƒ½æ—¶ï¼Œå°±æ˜¯ä½ çœŸçš„å¼€å§‹å­¦ä¹ äº†ï¼Œå¦åˆ™ä¸€ä¸ªå†…å®¹çœ‹è¿‡æ²¡å¤šä¹…ä¹Ÿå°±å¿˜è®°äº†ã€‚</li></ul>`,20);function y(_,I){const a=c("ExternalLinkIcon");return o(),l("div",null,[u,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),k,s("åšå®¢ï¼š"),n("a",d,[s("https://bugstack.cn"),t(a)]),r,s("åŸæ–‡ï¼š"),n("a",v,[s("https://mp.weixin.qq.com/s/V-32cMb3WLDUJA_yfQc4fw"),t(a)])]),m,n("ul",null,[b,g,n("li",null,[n("p",null,[s("æ¥å£ï¼š"),n("a",h,[s("http://web.juhe.cn:8080/finance/stock/hs?gid=sz000651&key=è‡ªå·±ç”³è¯·"),t(a)]),s(" - è¿™é‡Œçš„ key éœ€è¦è‡ªå·±ç”³è¯·")])]),w]),f])}const S=p(i,[["render",y],["__file","2021-11-18-ã€ŠIntelliJ IDEA chajiankaifaã€‹disanjieï¼škaifagongjulanheTabyeï¼ŒzhanshigupiaoxingqingheKxian.html.vue"]]);export{S as default};
