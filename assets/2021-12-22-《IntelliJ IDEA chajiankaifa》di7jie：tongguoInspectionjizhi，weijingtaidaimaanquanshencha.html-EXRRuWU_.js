import{_ as p,r as e,o,c,a as n,b as a,d as t,e as l}from"./app-3RcBQnkC.js";const u={},i=n("h1",{id:"ç¬¬9èŠ‚-é€šè¿‡inspectionæœºåˆ¶-å¯¹é™æ€ä»£ç å®‰å…¨å®¡æŸ¥",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ç¬¬9èŠ‚-é€šè¿‡inspectionæœºåˆ¶-å¯¹é™æ€ä»£ç å®‰å…¨å®¡æŸ¥","aria-hidden":"true"},"#"),a(" ç¬¬9èŠ‚ï¼šé€šè¿‡Inspectionæœºåˆ¶ï¼Œå¯¹é™æ€ä»£ç å®‰å…¨å®¡æŸ¥")],-1),r=n("br",null,null,-1),k={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=l(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>çœŸèƒ½é—¹ï¼Œæ€•å–‡å–‡è›„ï¼Œè¿˜ä¸ç§ç¨»å­äº†ï¼Ÿ</code></p><p>å–‡å–‡è›„ï¼Œæ˜¯ä¸œåŒ—çš„ä¸€ç§å®³è™«ï¼Œç»å¸¸åœ¨ç§æ°´ç¨»çš„å­£èŠ‚ï¼Œåœ¨æ± åŸ‚å­ä¸Šç›—æ´ï¼Œå¯¼è‡´ç¨»ç”°é‡Œçš„æ°´æ‚„æ‚„çš„æµæ²¡äº†ï¼Œå½±å“ç¨»è‹—å‘è‚²ã€‚</p><p>åæ¥å‘ç°åŸæ¥å†™ä»£ç ï¼Œä¹Ÿèƒ½ç¢°è§â€œè²è²è›„â€ï¼Œæ— è®ºä½ å†™çš„æ˜¯ä»€ä¹ˆåŠŸèƒ½ã€å“ªç§æŠ€æœ¯ã€ä½œä½•ç›®çš„ï¼Œè²è²è›„æ€»èƒ½ç»™ç›—å‡ ä¸ªæ´å‡ºæ¥ã€‚â€œä½ è¿™å·²ç»æœ‰å…¶ä»–çš„æŸæŸäº†ä½ æ€ä¹ˆè¿˜é€ è½®å­â€ã€â€œä½ è¿™æ–¹æ¡ˆä¸è¡Œç¨‹åºå‘˜ä¸è¦æµªè´¹æ—¶é—´â€ã€â€œä¹Ÿæ²¡çœ‹å‡ºæ¥ä½ è¿™æœ‰å•¥ä¼˜åŠ¿å’Œä»·å€¼å‘€æ€ä¹ˆç»™ä¸šåŠ¡èµ‹èƒ½â€ï¼Œè¿™ç§è¯å¬ä¸Šå»â€œè´¼â€æœ‰é“ç†ï¼Œå¹çš„å®å½“çš„ï¼Œä½†è®©ä»–å»åšåˆèƒ½æçš„ç¨€çš„å›Šçš„ã€‚</p><p>æ‰€ä»¥ï¼Œè¿œç¦»è²è²è›„ï¼Œåšä½ æƒ³åšçš„ã€æä½ æƒ³æçš„ã€å­¦ä½ æƒ³å­¦çš„ï¼ŒçŸ¥è¯†æ˜¯ä¸æ–­æ²‰æ·€çš„ç§¯ç´¯ã€æ–¹æ¡ˆæ˜¯ç§¯ç´¯åçš„åˆ›é€ ã€‚</p><h2 id="äºŒã€éœ€æ±‚ç›®çš„" tabindex="-1"><a class="header-anchor" href="#äºŒã€éœ€æ±‚ç›®çš„" aria-hidden="true">#</a> äºŒã€éœ€æ±‚ç›®çš„</h2><p>æ€ä¹ˆåŠï¼Œéƒ½æœ‰æ ‡å‡†çš„ç ”å‘è§„èŒƒï¼Œä½†è¿˜æ˜¯æ²¡æ³•æ§åˆ¶ä½åˆ°å…·ä½“çš„æ¯ä¸ªç ”å‘ä¸‹ï¼Œç»™å†™å‡ºä»€ä¹ˆä»£ç äº†ã€‚</p><p>æœ‰æ—¶å€™æ ‡å‡†åªæ˜¯æ–‡æ¡£ï¼Œçœ‹å’Œæ‰§è¡Œçš„è¿™ä¸ªè¿‡ç¨‹ä¸­å°±ä¼šä¸€å®šçš„è½¬è¡Œå¤±æ•ˆæ€§ï¼Œä½ å¯èƒ½ä¼šæƒ³åŠ æ‰‹æ®µï¼›è¯„å®¡ã€æ‰£é’±ã€ç½šç»©æ•ˆã€æ£€è®¨ç­‰ç­‰ï¼Œä½†è¿™æ ·å¯èƒ½è¿˜åªæ˜¯å¢åŠ è¿‡ç¨‹æˆæœ¬ï¼Œæœ€ç»ˆæ•ˆæœä¹Ÿä¸ä¼šå¤ªå¥½ã€‚ä¸å¤ªå¯èƒ½ä¸€ä¸ªå†™ä»£ç è¿˜å¾—é…ä¸€ä¸ªä¿å§†ï¼Œæ‰€ä»¥å°±åƒ p3cã€pmd-ideaï¼Œè¿™æ ·çš„æ’ä»¶å‡ºæ¥äº†ï¼Œå¸®åŠ©ç¨‹åºå‘˜æŠŠä»£ç å†™å¥½ï¼Œæ²»ç†æ‰ä¸€äº›ä¸åˆæ ‡å‡†çš„é—®é¢˜ä»£ç ã€‚</p><p>é‚£ä¹ˆï¼Œä½ å¥½å¥‡è¿™ä¸ªäº‹æ˜¯æ€ä¹ˆå¹²çš„å—ï¼Œæ€ä¹ˆä½ å°±åœ¨ IDEA å†™ä»£ç ï¼Œå®ƒå°±èƒ½ç»™ä½ æ£€æµ‹å‡ºæ¥ï¼Œå‘Šè¯‰ä½ æœ‰é—®é¢˜ï¼Œå¹¶æé†’ä½ ä¿®æ”¹ä»¥åŠæœ‰äº›è¿˜å¯ä»¥ä¸€é”®å¸®åŠ©ä½ ä¿®æ”¹å‘¢ï¼Ÿé‚£å¦‚æœä½ æƒ³å†å¢åŠ ç‚¹ä½ ä»¬å…¬å¸ä¸ªæ€§çš„è¦æ±‚çš„æ—¶å€™ï¼Œæ€ä¹ˆæ‰©å±•å‘¢ï¼Ÿ<strong>æœ¬ç« èŠ‚æˆ‘ä»¬å°±ä½¿ç”¨ IDEA æ’ä»¶å¼€å‘èƒ½åŠ›ï¼ŒæŠŠè¿™ä¸ªäº‹åŠå–½</strong></p><h2 id="ä¸‰ã€æ¡ˆä¾‹å¼€å‘" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€æ¡ˆä¾‹å¼€å‘" aria-hidden="true">#</a> ä¸‰ã€æ¡ˆä¾‹å¼€å‘</h2><h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>guide<span class="token operator">-</span>idea<span class="token operator">-</span>plugin<span class="token operator">-</span>pmd
â”œâ”€â”€ <span class="token punctuation">.</span>gradle
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â””â”€â”€ java
    â”‚   	â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>guide<span class="token punctuation">.</span>idea<span class="token punctuation">.</span>plugin 
    â”‚       	â”œâ”€â”€ rule
    â”‚       	â”‚	â”œâ”€â”€ <span class="token class-name">FastJsonAutoType</span><span class="token punctuation">.</span>java
    â”‚       	â”‚	â”œâ”€â”€ <span class="token class-name">HardcodedIp</span><span class="token punctuation">.</span>java
    â”‚       	â”‚	â””â”€â”€ <span class="token class-name">ReplacePseudorandomGenerator</span><span class="token punctuation">.</span>java
    â”‚       	â””â”€â”€ utils
    â”‚       	 	â””â”€â”€ <span class="token class-name">InspectionBundle</span><span class="token punctuation">.</span>java
    â”œâ”€â”€ resources
    â”‚   â”œâ”€â”€ inspectionDescriptions
    â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">FastJsonAutoType</span><span class="token punctuation">.</span>html
    â”‚   â”‚   â”œâ”€â”€ <span class="token class-name">HardcodedIp</span><span class="token punctuation">.</span>html  
    â”‚   â”‚   â””â”€â”€ <span class="token class-name">ReplacePseudorandomGenerator</span><span class="token punctuation">.</span>html
    â”‚   â””â”€â”€ <span class="token constant">META</span><span class="token operator">-</span><span class="token constant">INF</span>
    â”‚       â””â”€â”€ plugin<span class="token punctuation">.</span>xml 
    â”œâ”€â”€ build<span class="token punctuation">.</span>gradle  
    â””â”€â”€ gradle<span class="token punctuation">.</span>properties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æºç è·å–</strong>ï¼š#å…¬ä¼—å·ï¼š<code>bugstackè™«æ´æ ˆ</code> å›å¤ï¼š<code>idea</code> å³å¯ä¸‹è½½å…¨éƒ¨ IDEA æ’ä»¶å¼€å‘æºç </p><p>åœ¨æ­¤ IDEA æ’ä»¶å·¥ç¨‹ä¸­ï¼Œä¸»è¦åˆ†ä¸º3å—åŒºåŸŸï¼š</p><ul><li>ruleï¼šè§„åˆ™é…ç½®åŒºåŸŸï¼Œä»¥ç»§æ‰¿ IDEA åŸç”Ÿ Inspection æ£€æŸ¥ç±»ï¼Œæ‰©å±•è‡ªèº«éœ€è¦æ‰«æçš„ä»£ç ç‰‡æ®µï¼Œè¿›è¡Œè­¦å‘Šã€æ³¨é‡Šã€ä¿®å¤ã€‚</li><li>inspectionDescriptionsï¼šæ˜¯å¯¹åº”çš„è­¦å‘Šæ³¨é‡Šï¼Œç¼–å†™åˆ° html ä¸­ï¼Œæœ€ç»ˆå±•ç¤ºåˆ° IDEA ä¸‹å¯¹åº”çš„é—®é¢˜ä»£ç ç‰‡æ®µä¸Šã€‚</li><li>plugin.xmlï¼šä¸­éœ€è¦é…ç½® localInspection ä¹Ÿå°±æ˜¯é…ç½®ä½ è‡ªå®šä¹‰çš„ä»£ç æ£€æµ‹å®ç°ç±»ã€‚</li></ul><h3 id="_2-ä¼ªéšæœºæ•°æ£€æµ‹" tabindex="-1"><a class="header-anchor" href="#_2-ä¼ªéšæœºæ•°æ£€æµ‹" aria-hidden="true">#</a> 2. ä¼ªéšæœºæ•°æ£€æµ‹</h3><p><strong>ç›®çš„</strong>ï¼šæŠŠä»£ç ä¸­çš„ <code>new Random</code> ä¸å®‰å…¨ä¼ªéšæœºæ•°è­¦å‘Šå¹¶æä¾›ä¿®å¤ï¼Œå¤„ç†ä¸º <code>new SecureRandom</code></p><p><strong>RandomRule</strong></p><p><img src="https://bugstack.cn/images/article/assembly/assembly-211222-7-01.png" alt=""></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">PsiElementFactory</span> factory <span class="token operator">=</span> <span class="token class-name">JavaPsiFacade</span><span class="token punctuation">.</span><span class="token function">getElementFactory</span><span class="token punctuation">(</span>project<span class="token punctuation">)</span><span class="token punctuation">;</span>
typeElement<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>factory<span class="token punctuation">.</span><span class="token function">createTypeElementFromText</span><span class="token punctuation">(</span><span class="token string">&quot;SecureRandom&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">PsiNewExpression</span> secureNewExp <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">PsiNewExpression</span><span class="token punctuation">)</span> factory<span class="token punctuation">.</span><span class="token function">createExpressionFromText</span><span class="token punctuation">(</span><span class="token string">&quot;new SecureRandom()&quot;</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
newExp<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>secureNewExp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡ç»§æ‰¿ <code>AbstractBaseJavaLocalInspectionTool</code> Override <code>buildVisitor</code> æ–¹æ³•ï¼Œæ‰©å±•æ£€æµ‹ä»£ç ã€‚<em>å½“ä½ å†™äº†è¿™æ®µæ–¹æ³•åï¼ŒIDEA ä¼šæŠŠä¸€è¡Œè¡Œçš„ä»£ç éƒ½é€šè¿‡è¿™ä¸ªæ–¹æ³•ä¼ è¿›æ¥</em></li><li>åœ¨ <code>visitNewExpression</code> æ–¹æ³•ä¸­æ‰©å±•è‡ªèº«çš„æ£€æµ‹å¤„ç†ï¼Œé‡åˆ°äº†å“ªç§ä»£ç ç‰‡æ®µï¼Œè¦æä¾›ä»€ä¹ˆæ ·çš„æé†’ä»¥åŠæé†’çš„çº§åˆ«ï¼Œæœ€åæ˜¯æä¾›ä¸€ä¸ª Fix ä¿®å¤èƒ½åŠ›ï¼Œè¿™ä¸ªä¿®å¤èƒ½åŠ›å°±åœ¨æ›¿æ¢è¿™æ®µä»£ç ç‰‡æ®µï¼Œé€šè¿‡è¿˜å¯ä»¥æ“ä½œå¼•å…¥æ–°åŒ…çš„åŠ¨ä½œ <code>import xxx</code></li></ul><h3 id="_3-fastjsonæ£€æµ‹" tabindex="-1"><a class="header-anchor" href="#_3-fastjsonæ£€æµ‹" aria-hidden="true">#</a> 3. FastJsonæ£€æµ‹</h3><p><strong>ç›®çš„</strong>ï¼š<code>com.alibaba:fastjson</code> åœ¨å¼€å¯ AutoTypeSupport æ—¶ï¼Œå­˜åœ¨ååºåˆ—åŒ–é£é™©ã€‚å¦‚æœç¨‹åºä¸­æœ‰ <code>ParserConfig.getGlobalInstance().setAutoTypeSupport(true);</code> ä»£ç ç›´æ¥æé†’åˆ é™¤å¤„ç†ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">PsiElementVisitor</span> <span class="token function">buildVisitor</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NotNull</span> <span class="token class-name">ProblemsHolder</span> holder<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isOnTheFly<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">JavaElementVisitor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">visitMethodCallExpression</span><span class="token punctuation">(</span><span class="token class-name">PsiMethodCallExpression</span> expression<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasFullQualifiedName</span><span class="token punctuation">(</span>expression<span class="token punctuation">,</span> <span class="token string">&quot;com.alibaba.fastjson.parser.ParserConfig&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;setAutoTypeSupport&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">PsiExpression</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> expression<span class="token punctuation">.</span><span class="token function">getArgumentList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getExpressions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span>
                        args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">instanceof</span> <span class="token class-name">PsiLiteralExpression</span> <span class="token operator">&amp;&amp;</span>
                        <span class="token class-name">Boolean</span><span class="token punctuation">.</span><span class="token constant">TRUE</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">PsiLiteralExpression</span><span class="token punctuation">)</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    holder<span class="token punctuation">.</span><span class="token function">registerProblem</span><span class="token punctuation">(</span>
                            expression<span class="token punctuation">,</span>
                            <span class="token string">&quot;FastJson unserialization risk&quot;</span><span class="token punctuation">,</span>
                            <span class="token class-name">ProblemHighlightType</span><span class="token punctuation">.</span><span class="token constant">GENERIC_ERROR_OR_WARNING</span><span class="token punctuation">,</span>
                            <span class="token keyword">new</span> <span class="token class-name">DeleteElementQuickFix</span><span class="token punctuation">(</span>expression<span class="token punctuation">,</span> <span class="token string">&quot;!Fix: remove setAutoTypeSupport&quot;</span><span class="token punctuation">)</span>
                    <span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ•´ä¸ªå¯¹ä»£ç æ£€æµ‹çš„æ“ä½œåŸºæœ¬éƒ½æ˜¯ç±»ä¼¼çš„ï¼Œè¿™ä¸ªæ— éä¹Ÿæ˜¯æ£€æµ‹å‡ºä»£ç åº“ï¼Œå¹¶è¿›è¡Œåˆ é™¤çš„æé†’å¤„ç† <code>DeleteElementQuickFix</code></li></ul><h3 id="_4-æé†’æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_4-æé†’æ¨¡æ¿" aria-hidden="true">#</a> 4. æé†’æ¨¡æ¿</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>b</span><span class="token punctuation">&gt;</span></span>å°å‚…å“¥-æé†’:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>b</span><span class="token punctuation">&gt;</span></span> ä¸å®‰å…¨çš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>java.util.Random ä¾èµ–ä¸€ä¸ªå¯è¢«é¢„æµ‹çš„ä¼ªéšæœºæ•°ç”Ÿæˆå™¨ã€‚<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> #629460<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>æœ€ä½³å®è·µ:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">font-size</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span></span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>ä½¿ç”¨java.security.SecureRandom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æé†’æ¨¡æ¿éœ€è¦ç¼–å†™ html æ ¼å¼çš„å†…å®¹ï¼Œè¿™ä¸ªå†…å®¹ä¼šè¢«å±•ç¤ºåˆ°é”™è¯¯ä»£ç çš„è¯¦æƒ…é‡Œã€‚<em>åé¢æˆ‘ä»¬åšæµ‹è¯•çš„å¯ä»¥æŸ¥çœ‹</em></li></ul><h3 id="_5-æ£€æµ‹é…ç½®" tabindex="-1"><a class="header-anchor" href="#_5-æ£€æµ‹é…ç½®" aria-hidden="true">#</a> 5. æ£€æµ‹é…ç½®</h3><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extensions</span> <span class="token attr-name">defaultExtensionNs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.intellij<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localInspection</span>
            <span class="token attr-name">language</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JAVA<span class="token punctuation">&quot;</span></span>       <span class="token attr-name">groupPath</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Java<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">groupName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-PMD<span class="token punctuation">&quot;</span></span>   <span class="token attr-name">enabledByDefault</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>   <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ERROR<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">bundle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>InspectionBundle<span class="token punctuation">&quot;</span></span>     <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>replace.pseudorandom.generator.name<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">implementationClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.guide.idea.plugin.rule.RandomRule<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localInspection</span>
            <span class="token attr-name">language</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JAVA<span class="token punctuation">&quot;</span></span>       <span class="token attr-name">groupPath</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Java<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">groupName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-PMD<span class="token punctuation">&quot;</span></span>   <span class="token attr-name">enabledByDefault</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>   <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ERROR<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">bundle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>InspectionBundle<span class="token punctuation">&quot;</span></span>     <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fastjson.auto.type.name<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">implementationClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.guide.idea.plugin.rule.FastJsonRule<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>localInspection</span>
            <span class="token attr-name">language</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>JAVA<span class="token punctuation">&quot;</span></span>      <span class="token attr-name">groupPath</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Java<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">groupName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-PMD<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">enabledByDefault</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>     <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>WARNING<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">bundle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>InspectionBundle<span class="token punctuation">&quot;</span></span>     <span class="token attr-name">key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hardcoded.ip.name<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">implementationClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.guide.idea.plugin.rule.IPRule<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>extensions</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>åœ¨ plugin.xml ä¸­é…ç½®æˆ‘ä»¬è‡ªå·±å¼€å‘å¥½çš„ä»£ç é™æ€æ£€æµ‹å¯¹è±¡ï¼Œè¿™æ ·ä½ çš„æ£€æµ‹ç±»å°±ç”Ÿæ•ˆäº†ã€‚</li></ul><h2 id="å››ã€æµ‹è¯•éªŒè¯" tabindex="-1"><a class="header-anchor" href="#å››ã€æµ‹è¯•éªŒè¯" aria-hidden="true">#</a> å››ã€æµ‹è¯•éªŒè¯</h2><p><strong>å¯åŠ¨æ’ä»¶</strong></p><p><img src="https://bugstack.cn/images/article/assembly/assembly-211222-7-02.png" alt=""></p><ul><li>å¦‚æœä½ ä¸‹è½½ä»£ç åï¼Œæ²¡æœ‰ Plugin å¯ä»¥è‡ªå·±é…ç½®ä¸€ä¸‹ï¼Œåœ¨ Tasks ä¸­é…ç½® <code>:runIde</code></li></ul><p><strong>é”™è¯¯æé†’</strong></p><p><img src="https://bugstack.cn/images/article/assembly/assembly-211222-7-03.png" alt=""></p><p><strong>é”™è¯¯è¯¦æƒ…</strong></p><p><img src="https://bugstack.cn/images/article/assembly/assembly-211222-7-04.png" alt=""></p><ul><li>å½“ä½ ç‚¹å‡» Fixï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å°±å¯ä»¥è¿›è¡Œè‡ªåŠ¨æ›¿æ¢ä»£ç å¹¶ä¿®å¤äº†ï¼Œå°±æ˜¯æŠŠ <code>Random random = new Random()</code> æ›¿æ¢ä¸º <code>SecureRandom random = new SecureRandom();</code></li><li>å…¶ä»–2ä¸ªä¹Ÿå¯ä»¥åœ¨è·å–ä»£ç åè¿›è¡Œæµ‹è¯•éªŒè¯ï¼Œä¸€ä¸ªæ˜¯IPï¼Œå¦å¤–ä¸€ä¸ªæ˜¯ä½¿ç”¨ <code>ParserConfig.getGlobalInstance().setAutoTypeSupport(true);</code> çš„é”™è¯¯æé†’ã€‚</li></ul><h2 id="äº”ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#äº”ã€æ€»ç»“" aria-hidden="true">#</a> äº”ã€æ€»ç»“</h2>`,42),m=n("li",null,"æœ¬ç« èŠ‚æˆ‘ä»¬å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨ IDEA åŸç”Ÿ Inspection æ£€æŸ¥æœºåˆ¶ï¼Œæ‰©å±•æˆ‘ä»¬è‡ªå·±éœ€è¦æ·»åŠ çš„ä»£ç æ£€æµ‹é€»è¾‘ï¼Œä»¥åŠä½¿ç”¨ LocalQuickFix çš„å®ç°ç±»ï¼Œåšä»£ç çš„æ›¿æ¢å’Œå¼•å…¥å“åº”åŒ…çš„æ“ä½œã€‚",-1),v=n("li",null,"å¦å¤–å¯¹äºä»£ç æ£€æµ‹ï¼Œè¿˜æœ‰ä¸€ä¸ªæ›´åŠ æ ‡å‡†çš„å·¥å…·å« PMD å®ƒæ˜¯ä¸€æ¬¾é‡‡ç”¨ BSD åè®®çš„ä»£ç æ£€æŸ¥å·¥å…·ï¼Œä½ å¯ä»¥æ‰©å±•å®ç°ä¸ºè‡ªå·±çš„æ ‡å‡†å’Œè§„èŒƒä»¥åŠå®Œå–„ä¸ªæ€§çš„æé†’å’Œä¿®å¤æ“ä½œã€‚",-1),g={href:"https://github.com/ybroeker/pmd-idea",target:"_blank",rel:"noopener noreferrer"};function b(h,q){const s=e("ExternalLinkIcon");return o(),c("div",null,[i,n("p",null,[a("ä½œè€…ï¼šå°å‚…å“¥ "),r,a("åšå®¢ï¼š"),n("a",k,[a("https://bugstack.cn"),t(s)])]),d,n("ul",null,[m,v,n("li",null,[a("åƒ p3c å°±æ˜¯ä¸€æ¬¾é™æ€ä»£ç æ£€æµ‹å·¥å…·ï¼Œç”¨çš„äººä¹Ÿéå¸¸å¤šï¼Œä¸è¿‡å®ƒçš„æ’ä»¶å¼€å‘ä¸æ˜¯åŸºäº Java å®ç°çš„ï¼Œä»£ç å¼€å‘ä¸Šä¹Ÿå¹¶æ²¡æœ‰ä¸€äº›æ³¨é‡Šã€‚æ‰€ä»¥éå¸¸å»ºè®®é˜…è¯» pmd-ideaï¼Œè¿™æ¬¾ä»£ç å†™çš„éå¸¸å¥½ï¼ŒæŠ½è±¡å……è¶³ã€ç»“æ„æ¸…æ™°ã€å†…å®¹å®Œæ•´ï¼š"),n("a",g,[a("https://github.com/ybroeker/pmd-idea"),t(s)])])])])}const f=p(u,[["render",b],["__file","2021-12-22-ã€ŠIntelliJ IDEA chajiankaifaã€‹di7jieï¼štongguoInspectionjizhiï¼Œweijingtaidaimaanquanshencha.html.vue"]]);export{f as default};
