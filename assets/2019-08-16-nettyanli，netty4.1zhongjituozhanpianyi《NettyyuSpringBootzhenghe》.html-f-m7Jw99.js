import{_ as p,r as t,o as e,c as o,a as n,b as s,d as c,e as l}from"./app-3RcBQnkC.js";const u={},i=n("h1",{id:"nettyæ¡ˆä¾‹-netty4-1ä¸­çº§æ‹“å±•ç¯‡ä¸€ã€Šnettyä¸springbootæ•´åˆã€‹",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#nettyæ¡ˆä¾‹-netty4-1ä¸­çº§æ‹“å±•ç¯‡ä¸€ã€Šnettyä¸springbootæ•´åˆã€‹","aria-hidden":"true"},"#"),s(" nettyæ¡ˆä¾‹ï¼Œnetty4.1ä¸­çº§æ‹“å±•ç¯‡ä¸€ã€ŠNettyä¸SpringBootæ•´åˆã€‹")],-1),k=n("br",null,null,-1),r={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},m=l(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="å‰è¨€ä»‹ç»" tabindex="-1"><a class="header-anchor" href="#å‰è¨€ä»‹ç»" aria-hidden="true">#</a> å‰è¨€ä»‹ç»</h2><p>åœ¨å®é™…çš„å¼€å‘ä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¯¹nettyæœåŠ¡è¿›è¡Œæ›´å¤šçš„æ“ä½œï¼ŒåŒ…æ‹¬ï¼›è·å–å®ƒçš„çŠ¶æ€ä¿¡æ¯ã€å¯åŠ¨/åœæ­¢ã€å¯¹å®¢æˆ·ç«¯ç”¨æˆ·å¼ºåˆ¶ä¸‹çº¿ç­‰ç­‰ï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦æŠŠnettyæœåŠ¡åŠ å…¥åˆ°webç³»ç»Ÿä¸­ï¼Œé‚£ä¹ˆæœ¬ç« èŠ‚ä»‹ç»å¦‚ä½•å°†Nettyä¸SpringBootæ•´åˆã€‚</p><blockquote><p>Spring Bootæ˜¯ç”±Pivotalå›¢é˜Ÿæä¾›çš„å…¨æ–°æ¡†æ¶ï¼Œå…¶è®¾è®¡ç›®çš„æ˜¯ç”¨æ¥ç®€åŒ–æ–°Springåº”ç”¨çš„åˆå§‹æ­å»ºä»¥åŠå¼€å‘è¿‡ç¨‹ã€‚è¯¥æ¡†æ¶ä½¿ç”¨äº†ç‰¹å®šçš„æ–¹å¼æ¥è¿›è¡Œé…ç½®ï¼Œä»è€Œä½¿å¼€å‘äººå‘˜ä¸å†éœ€è¦å®šä¹‰æ ·æ¿åŒ–çš„é…ç½®ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼ŒSpring Bootè‡´åŠ›äºåœ¨è“¬å‹ƒå‘å±•çš„å¿«é€Ÿåº”ç”¨å¼€å‘é¢†åŸŸ(rapid application development)æˆä¸ºé¢†å¯¼è€…ã€‚</p></blockquote><h2 id="å¼€å‘ç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#å¼€å‘ç¯å¢ƒ" aria-hidden="true">#</a> å¼€å‘ç¯å¢ƒ</h2><ol><li>jdk1.8ã€jdk1.7ä»¥ä¸‹åªèƒ½éƒ¨åˆ†æ”¯æŒnettyã€‘</li><li>Netty4.1.36.Finalã€netty3.x 4.x 5æ¯æ¬¡çš„å˜åŒ–è¾ƒå¤§ï¼Œæ¥å£ç±»åä¹Ÿéšç€å˜åŒ–ã€‘</li></ol><h2 id="ä»£ç ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ä»£ç ç¤ºä¾‹" aria-hidden="true">#</a> ä»£ç ç¤ºä¾‹</h2><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">01</span>
â””â”€â”€ src
    â”œâ”€â”€ main
    â”‚   â”œâ”€â”€ java
    â”‚   â”‚   â””â”€â”€ org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>netty
    â”‚   â”‚       â”œâ”€â”€ server
    â”‚   â”‚       â”‚	â”œâ”€â”€ <span class="token class-name">MyChannelInitializer</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â”œâ”€â”€ <span class="token class-name">MyServerHandler</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â”‚	â””â”€â”€ <span class="token class-name">NettyServer</span><span class="token punctuation">.</span>java
    â”‚   â”‚       â””â”€â”€ web
    â”‚   â”‚       	â”œâ”€â”€ <span class="token class-name">NettyApplication</span><span class="token punctuation">.</span>java
    â”‚   â”‚       	â””â”€â”€ <span class="token class-name">NettyController</span><span class="token punctuation">.</span>java
    â”‚   â””â”€â”€ resource
    â”‚      	â””â”€â”€ application<span class="token punctuation">.</span>yml
    â””â”€â”€ test
         â””â”€â”€ java
             â””â”€â”€ org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>test
                 â””â”€â”€ <span class="token class-name">ApiTest</span><span class="token punctuation">.</span>java
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>MyChannelInitializer.java</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyChannelInitializer</span> <span class="token keyword">extends</span> <span class="token class-name">ChannelInitializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SocketChannel</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">initChannel</span><span class="token punctuation">(</span><span class="token class-name">SocketChannel</span> channel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// åŸºäºæ¢è¡Œç¬¦å·</span>
        channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LineBasedFrameDecoder</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è§£ç è½¬Stringï¼Œæ³¨æ„è°ƒæ•´è‡ªå·±çš„ç¼–ç æ ¼å¼GBKã€UTF-8</span>
        channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringDecoder</span><span class="token punctuation">(</span><span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è§£ç è½¬Stringï¼Œæ³¨æ„è°ƒæ•´è‡ªå·±çš„ç¼–ç æ ¼å¼GBKã€UTF-8</span>
        channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringEncoder</span><span class="token punctuation">(</span><span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// åœ¨ç®¡é“ä¸­æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„æ¥æ”¶æ•°æ®å®ç°æ–¹æ³•</span>
        channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyServerHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>MyServerHandler.java</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServerHandler</span> <span class="token keyword">extends</span> <span class="token class-name">ChannelInboundHandlerAdapter</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">MyServerHandler</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token doc-comment comment">/**
     * å½“å®¢æˆ·ç«¯ä¸»åŠ¨é“¾æ¥æœåŠ¡ç«¯çš„é“¾æ¥åï¼Œè¿™ä¸ªé€šé“å°±æ˜¯æ´»è·ƒçš„äº†ã€‚ä¹Ÿå°±æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯å»ºç«‹äº†é€šä¿¡é€šé“å¹¶ä¸”å¯ä»¥ä¼ è¾“æ•°æ®
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">channelActive</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">SocketChannel</span> channel <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SocketChannel</span><span class="token punctuation">)</span> ctx<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘Šå¼€å§‹&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘Šä¿¡æ¯ï¼šæœ‰ä¸€å®¢æˆ·ç«¯é“¾æ¥åˆ°æœ¬æœåŠ¡ç«¯&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘ŠIP:{}&quot;</span><span class="token punctuation">,</span> channel<span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘ŠPort:{}&quot;</span><span class="token punctuation">,</span> channel<span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;é“¾æ¥æŠ¥å‘Šå®Œæ¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é€šçŸ¥å®¢æˆ·ç«¯é“¾æ¥å»ºç«‹æˆåŠŸ</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;é€šçŸ¥å®¢æˆ·ç«¯é“¾æ¥å»ºç«‹æˆåŠŸ&quot;</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> channel<span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHostString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\\r\\n&quot;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * å½“å®¢æˆ·ç«¯ä¸»åŠ¨æ–­å¼€æœåŠ¡ç«¯çš„é“¾æ¥åï¼Œè¿™ä¸ªé€šé“å°±æ˜¯ä¸æ´»è·ƒçš„ã€‚ä¹Ÿå°±æ˜¯è¯´å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„å…³é—­äº†é€šä¿¡é€šé“å¹¶ä¸”ä¸å¯ä»¥ä¼ è¾“æ•°æ®
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">channelInactive</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;å®¢æˆ·ç«¯æ–­å¼€é“¾æ¥{}&quot;</span><span class="token punctuation">,</span> ctx<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">channelRead</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">,</span> <span class="token class-name">Object</span> msg<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">//æ¥æ”¶msgæ¶ˆæ¯{ä¸ä¸Šä¸€ç« èŠ‚ç›¸æ¯”ï¼Œæ­¤å¤„å·²ç»ä¸éœ€è¦è‡ªå·±è¿›è¡Œè§£ç }</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; æœåŠ¡ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š&quot;</span> <span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//é€šçŸ¥å®¢æˆ·ç«¯é“¾æ¶ˆæ¯å‘é€æˆåŠŸ</span>
        <span class="token class-name">String</span> str <span class="token operator">=</span> <span class="token string">&quot;æœåŠ¡ç«¯æ”¶åˆ°ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> msg <span class="token operator">+</span> <span class="token string">&quot;\\r\\n&quot;</span><span class="token punctuation">;</span>
        ctx<span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * æŠ“ä½å¼‚å¸¸ï¼Œå½“å‘ç”Ÿå¼‚å¸¸çš„æ—¶å€™ï¼Œå¯ä»¥åšä¸€äº›ç›¸åº”çš„å¤„ç†ï¼Œæ¯”å¦‚æ‰“å°æ—¥å¿—ã€å…³é—­é“¾æ¥
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">exceptionCaught</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> cause<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        ctx<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;å¼‚å¸¸ä¿¡æ¯ï¼š\\r\\n&quot;</span> <span class="token operator">+</span> cause<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>NettyServer.java</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">&quot;nettyServer&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NettyServer</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">NettyServer</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//é…ç½®æœåŠ¡ç«¯NIOçº¿ç¨‹ç»„</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">EventLoopGroup</span> parentGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NioEventLoopGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//NioEventLoopGroup extends MultithreadEventLoopGroup Math.max(1, SystemPropertyUtil.getInt(&quot;io.netty.eventLoopThreads&quot;, NettyRuntime.availableProcessors() * 2));</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">EventLoopGroup</span> childGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NioEventLoopGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Channel</span> channel<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">ChannelFuture</span> <span class="token function">bing</span><span class="token punctuation">(</span><span class="token class-name">InetSocketAddress</span> address<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ChannelFuture</span> channelFuture <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">ServerBootstrap</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServerBootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>parentGroup<span class="token punctuation">,</span> childGroup<span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token class-name">NioServerSocketChannel</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>    <span class="token comment">//éé˜»å¡æ¨¡å¼</span>
                    <span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token class-name">ChannelOption</span><span class="token punctuation">.</span><span class="token constant">SO_BACKLOG</span><span class="token punctuation">,</span> <span class="token number">128</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">childHandler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyChannelInitializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            channelFuture <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">syncUninterruptibly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            channel <span class="token operator">=</span> channelFuture<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">!=</span> channelFuture <span class="token operator">&amp;&amp;</span> channelFuture<span class="token punctuation">.</span><span class="token function">isSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;itstack-demo-netty server start done. {å…³æ³¨å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆï¼Œè·å–æºç }&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;itstack-demo-netty server start error. {å…³æ³¨å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆï¼Œè·å–æºç }&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> channelFuture<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> channel<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
        channel<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        parentGroup<span class="token punctuation">.</span><span class="token function">shutdownGracefully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        childGroup<span class="token punctuation">.</span><span class="token function">shutdownGracefully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token class-name">Channel</span> <span class="token function">getChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> channel<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>NettyApplication.java *SpringBootå…¥å£</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;org.itstack.demo.netty&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NettyApplication</span> <span class="token keyword">implements</span> <span class="token class-name">CommandLineRunner</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${netty.host}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> host<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${netty.port}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> port<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">NettyServer</span> nettyServer<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">NettyApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">InetSocketAddress</span> address <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InetSocketAddress</span><span class="token punctuation">(</span>host<span class="token punctuation">,</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ChannelFuture</span> channelFuture <span class="token operator">=</span> nettyServer<span class="token punctuation">.</span><span class="token function">bing</span><span class="token punctuation">(</span>address<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Runtime</span><span class="token punctuation">.</span><span class="token function">getRuntime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addShutdownHook</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> nettyServer<span class="token punctuation">.</span><span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        channelFuture<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">closeFuture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">syncUninterruptibly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>NettyController.java *WEBæ–¹æ³•</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;/nettyserver&quot;</span><span class="token punctuation">,</span> method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span><span class="token constant">GET</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NettyController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">NettyServer</span> nettyServer<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/localAddress&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;nettyServer localAddress &quot;</span> <span class="token operator">+</span> nettyServer<span class="token punctuation">.</span><span class="token function">getChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/isOpen&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;nettyServer isOpen &quot;</span> <span class="token operator">+</span> nettyServer<span class="token punctuation">.</span><span class="token function">getChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>application.yml *NettyServeræœåŠ¡ç«¯é…ç½®</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>server:
  port:8080

netty:
  host: 127.0.0.1
  port: 7397
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ApiTest.java *NettyClientå®¢æˆ·ç«¯ï¼Œç”¨äºæµ‹è¯•</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * è™«æ´æ ˆï¼šhttps://bugstack.cn
 * å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆ  ï½›è·å–å­¦ä¹ æºç ï½
 * Create by fuzhengwei on 2019
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApiTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">EventLoopGroup</span> workerGroup <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NioEventLoopGroup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">Bootstrap</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Bootstrap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>workerGroup<span class="token punctuation">)</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token class-name">NioSocketChannel</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">option</span><span class="token punctuation">(</span><span class="token class-name">ChannelOption</span><span class="token punctuation">.</span><span class="token constant">AUTO_READ</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            b<span class="token punctuation">.</span><span class="token function">handler</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChannelInitializer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SocketChannel</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token annotation punctuation">@Override</span>
                <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">initChannel</span><span class="token punctuation">(</span><span class="token class-name">SocketChannel</span> channel<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
                    <span class="token comment">// åŸºäºæ¢è¡Œç¬¦å·</span>
                    channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LineBasedFrameDecoder</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// è§£ç è½¬Stringï¼Œæ³¨æ„è°ƒæ•´è‡ªå·±çš„ç¼–ç æ ¼å¼GBKã€UTF-8</span>
                    channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringDecoder</span><span class="token punctuation">(</span><span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// è§£ç è½¬Stringï¼Œæ³¨æ„è°ƒæ•´è‡ªå·±çš„ç¼–ç æ ¼å¼GBKã€UTF-8</span>
                    channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringEncoder</span><span class="token punctuation">(</span><span class="token class-name">Charset</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;GBK&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token comment">// åœ¨ç®¡é“ä¸­æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„æ¥æ”¶æ•°æ®å®ç°æ–¹æ³•</span>
                    channel<span class="token punctuation">.</span><span class="token function">pipeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ChannelInboundHandlerAdapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token annotation punctuation">@Override</span>
                        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">channelRead</span><span class="token punctuation">(</span><span class="token class-name">ChannelHandlerContext</span> ctx<span class="token punctuation">,</span> <span class="token class-name">Object</span> msg<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
                            <span class="token comment">//æ¥æ”¶msgæ¶ˆæ¯{ä¸ä¸Šä¸€ç« èŠ‚ç›¸æ¯”ï¼Œæ­¤å¤„å·²ç»ä¸éœ€è¦è‡ªå·±è¿›è¡Œè§£ç }</span>
                            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š&quot;</span> <span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">ChannelFuture</span> f <span class="token operator">=</span> b<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token string">&quot;127.0.0.1&quot;</span><span class="token punctuation">,</span> <span class="token number">7397</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;itstack-demo-netty client start done. {å…³æ³¨å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆï¼Œè·å–æºç }&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">//å‘æœåŠ¡ç«¯å‘é€ä¿¡æ¯</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·&lt;bugstackè™«æ´æ ˆ&gt;ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€\\r\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·&lt;bugstackè™«æ´æ ˆ&gt;ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€\\r\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·&lt;bugstackè™«æ´æ ˆ&gt;ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€\\r\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·&lt;bugstackè™«æ´æ ˆ&gt;ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€\\r\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">writeAndFlush</span><span class="token punctuation">(</span><span class="token string">&quot;ä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·&lt;bugstackè™«æ´æ ˆ&gt;ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€\\r\\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            f<span class="token punctuation">.</span><span class="token function">channel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">closeFuture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">syncUninterruptibly</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
            workerGroup<span class="token punctuation">.</span><span class="token function">shutdownGracefully</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æµ‹è¯•ç»“æœ" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•ç»“æœ" aria-hidden="true">#</a> æµ‹è¯•ç»“æœ</h2><blockquote><p>å¯åŠ¨SpringBoot *NettyApplication.main &gt;run</p></blockquote><p><img src="https://bugstack.cn/assets/images/pic-content/2019/08/netty-02-1-1.png" alt=""></p><blockquote><p>å¯åŠ¨ApiTest</p></blockquote><p><img src="https://bugstack.cn/assets/images/pic-content/2019/08/netty-02-1-2.png" alt=""></p><blockquote><p>Webè®¿é—® *http://localhost:8080/nettyserver/localAddress</p></blockquote><p><img src="https://bugstack.cn/assets/images/pic-content/2019/08/netty-02-1-3.png" alt=""></p><blockquote><p>Webè®¿é—® *http://localhost:8080/nettyserver/isOpen</p></blockquote><p><img src="https://bugstack.cn/assets/images/pic-content/2019/08/netty-02-1-4.png" alt=""></p><blockquote><p>æœåŠ¡ç«¯æ‰§è¡Œç»“æœ</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>  <span class="token punctuation">.</span>   ____          _            __ _ _
 <span class="token operator">/</span>\\\\ <span class="token operator">/</span> ___&#39;_ __ _ <span class="token function">_</span><span class="token punctuation">(</span>_<span class="token punctuation">)</span>_ __  __ _ \\ \\ \\ \\
<span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token punctuation">)</span>\\___ <span class="token operator">|</span> <span class="token char">&#39;_ | &#39;</span>_<span class="token operator">|</span> <span class="token operator">|</span> &#39;_ \\<span class="token operator">/</span> _\` <span class="token operator">|</span> \\ \\ \\ \\
 \\\\<span class="token operator">/</span>  ___<span class="token punctuation">)</span><span class="token operator">|</span> <span class="token operator">|</span>_<span class="token punctuation">)</span><span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">|</span> <span class="token operator">||</span> <span class="token punctuation">(</span>_<span class="token operator">|</span> <span class="token operator">|</span>  <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
  &#39;  <span class="token operator">|</span>____<span class="token operator">|</span> <span class="token punctuation">.</span>__<span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_<span class="token operator">|</span>_<span class="token operator">|</span> <span class="token operator">|</span>_\\__<span class="token punctuation">,</span> <span class="token operator">|</span> <span class="token operator">/</span> <span class="token operator">/</span> <span class="token operator">/</span> <span class="token operator">/</span>
 <span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>_<span class="token operator">|=</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">==</span><span class="token operator">=</span><span class="token operator">|</span>___<span class="token operator">/=</span><span class="token operator">/</span>_<span class="token operator">/</span>_<span class="token operator">/</span>_<span class="token operator">/</span>
 <span class="token operator">::</span> <span class="token class-name">Spring</span> <span class="token class-name">Boot</span> <span class="token operator">::</span>        <span class="token punctuation">(</span>v2<span class="token punctuation">.</span><span class="token number">0.4</span><span class="token punctuation">.</span><span class="token constant">RELEASE</span><span class="token punctuation">)</span>

<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">57.702</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>i<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span>NettyApplication</span>      <span class="token operator">:</span> <span class="token class-name">Starting</span> <span class="token class-name">NettyApplication</span> on <span class="token constant">JRA1W11T0247</span> <span class="token keyword">with</span> <span class="token class-name">PID</span> <span class="token number">9160</span> <span class="token punctuation">(</span><span class="token class-name">E</span><span class="token operator">:</span>\\itstack\\<span class="token constant">GIT</span>\\itstack<span class="token punctuation">.</span>org\\itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty\\itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">01</span>\\target\\classes started by fuzhengwei1 in <span class="token class-name">E</span><span class="token operator">:</span>\\itstack\\<span class="token constant">GIT</span>\\itstack<span class="token punctuation">.</span>org\\itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty<span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">57.705</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>i<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span>NettyApplication</span>      <span class="token operator">:</span> <span class="token class-name">No</span> active profile set<span class="token punctuation">,</span> falling back <span class="token keyword">to</span> <span class="token keyword">default</span> profiles<span class="token operator">:</span> <span class="token keyword">default</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">57.784</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name">ConfigServletWebServerApplicationContext</span> <span class="token operator">:</span> <span class="token class-name">Refreshing</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>AnnotationConfigServletWebServerApplicationContext</span><span class="token annotation punctuation">@3e2e18f2</span><span class="token operator">:</span> startup date <span class="token punctuation">[</span><span class="token class-name">Sun</span> <span class="token class-name">Aug</span> <span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">57</span> <span class="token constant">CST</span> <span class="token number">2019</span><span class="token punctuation">]</span><span class="token punctuation">;</span> root of context hierarchy
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.065</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>w<span class="token punctuation">.</span>embedded<span class="token punctuation">.</span>tomcat<span class="token punctuation">.</span></span>TomcatWebServer</span>  <span class="token operator">:</span> <span class="token class-name">Tomcat</span> initialized <span class="token keyword">with</span> <span class="token namespace">port</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token number">8080</span> <span class="token punctuation">(</span>http<span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.090</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>StandardService</span>   <span class="token operator">:</span> <span class="token class-name">Starting</span> service <span class="token punctuation">[</span><span class="token class-name">Tomcat</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.090</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>StandardEngine</span>  <span class="token operator">:</span> <span class="token class-name">Starting</span> <span class="token class-name">Servlet</span> <span class="token class-name">Engine</span><span class="token operator">:</span> <span class="token class-name">Apache</span> <span class="token class-name">Tomcat</span><span class="token operator">/</span><span class="token number">8.5</span><span class="token number">.32</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.099</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>a<span class="token punctuation">.</span>catalina<span class="token punctuation">.</span>core<span class="token punctuation">.</span></span>AprLifecycleListener</span>   <span class="token operator">:</span> <span class="token class-name">The</span> <span class="token constant">APR</span> based <span class="token class-name">Apache</span> <span class="token class-name">Tomcat</span> <span class="token class-name">Native</span> library which allows optimal performance in production environments was not found on the java<span class="token punctuation">.</span>library<span class="token punctuation">.</span>path<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Java</span>\\jdk1<span class="token punctuation">.</span><span class="token number">8.0_45</span>\\bin<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\<span class="token class-name">Sun</span>\\<span class="token class-name">Java</span>\\bin<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\system32<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">ProgramData</span>\\<span class="token class-name">Oracle</span>\\<span class="token class-name">Java</span>\\javapath<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token class-name">Common</span> <span class="token class-name">Files</span>\\<span class="token class-name">NetSarang</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token class-name">Intel</span>\\iCLS <span class="token class-name">Client</span>\\<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Intel</span>\\iCLS <span class="token class-name">Client</span>\\<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\system32<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\<span class="token class-name">System32</span>\\<span class="token class-name">Wbem</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\windows\\<span class="token class-name">System32</span>\\<span class="token class-name">WindowsPowerShell</span>\\v1<span class="token punctuation">.</span><span class="token number">0</span>\\<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Intel</span>\\<span class="token class-name">Intel</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span> <span class="token class-name">Management</span> <span class="token class-name">Engine</span> <span class="token class-name">Components</span>\\<span class="token constant">DAL</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Intel</span>\\<span class="token class-name">Intel</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span> <span class="token class-name">Management</span> <span class="token class-name">Engine</span> <span class="token class-name">Components</span>\\<span class="token constant">IPT</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token class-name">Intel</span>\\<span class="token class-name">Intel</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span> <span class="token class-name">Management</span> <span class="token class-name">Engine</span> <span class="token class-name">Components</span>\\<span class="token constant">DAL</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token class-name">Intel</span>\\<span class="token class-name">Intel</span><span class="token punctuation">(</span><span class="token class-name">R</span><span class="token punctuation">)</span> <span class="token class-name">Management</span> <span class="token class-name">Engine</span> <span class="token class-name">Components</span>\\<span class="token constant">IPT</span><span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Java</span>\\jdk1<span class="token punctuation">.</span><span class="token number">8.0_45</span><span class="token operator">/</span>bin<span class="token punctuation">;</span><span class="token class-name">C</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">Java</span>\\jdk1<span class="token punctuation">.</span><span class="token number">8.0_45</span><span class="token operator">/</span>jre<span class="token operator">/</span>bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">SlikSvn</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">TortoiseSVN</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\apache<span class="token operator">-</span>maven<span class="token operator">-</span><span class="token number">2.2</span><span class="token number">.1</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span>\\<span class="token class-name">TortoiseGit</span>\\bin<span class="token punctuation">;</span><span class="token class-name">D</span><span class="token operator">:</span>\\<span class="token class-name">Program</span> <span class="token class-name">Files</span> <span class="token punctuation">(</span>x86<span class="token punctuation">)</span>\\<span class="token constant">SSH</span> <span class="token class-name">Communications</span> <span class="token class-name">Security</span>\\<span class="token constant">SSH</span> <span class="token class-name">Secure</span> <span class="token class-name">Shell</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.200</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>a<span class="token punctuation">.</span>c<span class="token punctuation">.</span>c<span class="token punctuation">.</span></span>C</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token class-name">Tomcat</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span>localhost<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token punctuation">[</span><span class="token operator">/</span><span class="token punctuation">]</span>       <span class="token operator">:</span> <span class="token class-name">Initializing</span> <span class="token class-name">Spring</span> embedded <span class="token class-name">WebApplicationContext</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.200</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>web<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>ContextLoader</span>            <span class="token operator">:</span> <span class="token class-name">Root</span> <span class="token class-name">WebApplicationContext</span><span class="token operator">:</span> initialization completed in <span class="token number">1419</span> ms
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.253</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>w<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ServletRegistrationBean</span>  <span class="token operator">:</span> <span class="token class-name">Servlet</span> dispatcherServlet mapped <span class="token keyword">to</span> <span class="token punctuation">[</span><span class="token operator">/</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.256</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>ost<span class="token operator">-</span>startStop<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>b<span class="token punctuation">.</span>w<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>FilterRegistrationBean</span>   <span class="token operator">:</span> <span class="token class-name">Mapping</span> filter<span class="token operator">:</span> &#39;characterEncodingFilter&#39; <span class="token keyword">to</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token comment">/*]
2019-08-04 16:39:59.257  INFO 9160 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]
2019-08-04 16:39:59.257  INFO 9160 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]
2019-08-04 16:39:59.257  INFO 9160 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]
2019-08-04 16:39:59.433  INFO 9160 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/</span>favicon<span class="token punctuation">.</span>ico<span class="token punctuation">]</span> onto handler of type <span class="token punctuation">[</span><span class="token keyword">class</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>resource<span class="token punctuation">.</span></span>ResourceHttpRequestHandler</span><span class="token punctuation">]</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.571</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerAdapter</span> <span class="token operator">:</span> <span class="token class-name">Looking</span> <span class="token keyword">for</span> <span class="token annotation punctuation">@ControllerAdvice</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span>AnnotationConfigServletWebServerApplicationContext</span><span class="token annotation punctuation">@3e2e18f2</span><span class="token operator">:</span> startup date <span class="token punctuation">[</span><span class="token class-name">Sun</span> <span class="token class-name">Aug</span> <span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">57</span> <span class="token constant">CST</span> <span class="token number">2019</span><span class="token punctuation">]</span><span class="token punctuation">;</span> root of context hierarchy
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.628</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/nettyserver/isOpen],methods=[GET]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span>NettyController</span><span class="token punctuation">.</span><span class="token function">isOpen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.629</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/nettyserver/localAddress],methods=[GET]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>itstack<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span>NettyController</span><span class="token punctuation">.</span><span class="token function">localAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.631</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/error]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Map</span><span class="token punctuation">&lt;</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>String</span><span class="token punctuation">,</span> <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>error<span class="token punctuation">.</span></span>BasicErrorController</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpServletRequest</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.632</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>m<span class="token punctuation">.</span>m<span class="token punctuation">.</span>a<span class="token punctuation">.</span></span>RequestMappingHandlerMapping</span> <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token string">&quot;{[/error],produces=[text/html]}&quot;</span> onto <span class="token keyword">public</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span>ModelAndView</span> <span class="token class-name"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>error<span class="token punctuation">.</span></span>BasicErrorController</span><span class="token punctuation">.</span><span class="token function">errorHtml</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpServletRequest</span><span class="token punctuation">,</span><span class="token class-name"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span>HttpServletResponse</span><span class="token punctuation">)</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">39</span><span class="token operator">:</span><span class="token number">59.735</span>  <span class="token constant">INFO</span> <span class="token number">9160</span> <span class="token operator">--</span><span class="token operator">-</span> <span class="token punctuation">[</span>           main<span class="token punctuation">]</span> <span class="token class-name"><span class="token namespace">o<span class="token punctuation">.</span>s<span class="token punctuation">.</span>w<span class="token punctuation">.</span>s<span class="token punctuation">.</span>handler<span class="token punctuation">.</span></span>SimpleUrlHandlerMapping</span>  <span class="token operator">:</span> <span class="token class-name">Mapped</span> <span class="token constant">URL</span> path <span class="token punctuation">[</span><span class="token operator">/</span>webjars<span class="token doc-comment comment">/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-08-04 16:39:59.736  INFO 9160 --- [           main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2019-08-04 16:39:59.847  INFO 9160 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2019-08-04 16:39:59.873  INFO 9160 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;
2019-08-04 16:39:59.876  INFO 9160 --- [           main] o.i.demo.netty.web.NettyApplication      : Started NettyApplication in 2.616 seconds (JVM running for 3.052)
2019-08-04 16:40:00.039  INFO 9160 --- [           main] o.itstack.demo.netty.server.NettyServer  : itstack-demo-netty server start done. <span class="token punctuation">{</span>å…³æ³¨å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆï¼Œè·å–æºç <span class="token punctuation">}</span>
2019-08-04 16:40:11.922  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : é“¾æ¥æŠ¥å‘Šå¼€å§‹
2019-08-04 16:40:11.922  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : é“¾æ¥æŠ¥å‘Šä¿¡æ¯ï¼šæœ‰ä¸€å®¢æˆ·ç«¯é“¾æ¥åˆ°æœ¬æœåŠ¡ç«¯
2019-08-04 16:40:11.922  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : é“¾æ¥æŠ¥å‘ŠIP:127.0.0.1
2019-08-04 16:40:11.922  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : é“¾æ¥æŠ¥å‘ŠPort:7397
2019-08-04 16:40:11.922  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : é“¾æ¥æŠ¥å‘Šå®Œæ¯•
2019-08-04 16:40:11.952  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : 2019-08-04 16:40:11 æœåŠ¡ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bugstackè™«æ´æ ˆ</span><span class="token punctuation">&gt;</span></span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€
2019-08-04 16:40:11.953  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : 2019-08-04 16:40:11 æœåŠ¡ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bugstackè™«æ´æ ˆ</span><span class="token punctuation">&gt;</span></span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€
2019-08-04 16:40:11.954  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : 2019-08-04 16:40:11 æœåŠ¡ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bugstackè™«æ´æ ˆ</span><span class="token punctuation">&gt;</span></span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€
2019-08-04 16:40:11.955  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : 2019-08-04 16:40:11 æœåŠ¡ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bugstackè™«æ´æ ˆ</span><span class="token punctuation">&gt;</span></span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€
2019-08-04 16:40:11.956  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : 2019-08-04 16:40:11 æœåŠ¡ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šä½ å¥½ï¼ŒSpringBootå¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https://bugstack.cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bugstackè™«æ´æ ˆ</span><span class="token punctuation">&gt;</span></span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€
2019-08-04 16:42:30.991  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : å¼‚å¸¸ä¿¡æ¯ï¼š
è¿œç¨‹ä¸»æœºå¼ºè¿«å…³é—­äº†ä¸€ä¸ªç°æœ‰çš„è¿æ¥ã€‚
2019-08-04 16:42:30.997  INFO 9160 --- [ntLoopGroup-3-1] o.i.demo.netty.server.MyServerHandler    : å®¢æˆ·ç«¯æ–­å¼€é“¾æ¥/127.0.0.1:7397

Process finished with exit code -1
</span></code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>å®¢æˆ·ç«¯æ‰§è¡Œç»“æœ</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11.856</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span></span>ByteBufUtil</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>maxThreadLocalCharBufferSize<span class="token operator">:</span> <span class="token number">16384</span>
itstack<span class="token operator">-</span>demo<span class="token operator">-</span>netty client start done<span class="token punctuation">.</span> <span class="token punctuation">{</span>å…³æ³¨å…¬ä¼—å·ï¼šbugstackè™«æ´æ ˆï¼Œè·å–æºç <span class="token punctuation">}</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11.897</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Recycler</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>recycler<span class="token punctuation">.</span>maxCapacityPerThread<span class="token operator">:</span> <span class="token number">4096</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11.897</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Recycler</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>recycler<span class="token punctuation">.</span>maxSharedCapacityFactor<span class="token operator">:</span> <span class="token number">2</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11.898</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Recycler</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>recycler<span class="token punctuation">.</span>linkCapacity<span class="token operator">:</span> <span class="token number">16</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11.898</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>Recycler</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>recycler<span class="token punctuation">.</span>ratio<span class="token operator">:</span> <span class="token number">8</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11.910</span> <span class="token punctuation">[</span>nioEventLoopGroup<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span></span>AbstractByteBuf</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>checkAccessible<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11.910</span> <span class="token punctuation">[</span>nioEventLoopGroup<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span></span>AbstractByteBuf</span> <span class="token operator">-</span> <span class="token operator">-</span><span class="token class-name">Dio</span><span class="token punctuation">.</span>netty<span class="token punctuation">.</span>buffer<span class="token punctuation">.</span>checkBounds<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11.912</span> <span class="token punctuation">[</span>nioEventLoopGroup<span class="token operator">-</span><span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>ResourceLeakDetectorFactory</span> <span class="token operator">-</span> <span class="token class-name">Loaded</span> <span class="token keyword">default</span> <span class="token class-name">ResourceLeakDetector</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">io<span class="token punctuation">.</span>netty<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span>ResourceLeakDetector</span><span class="token annotation punctuation">@2a2a41bc</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šé€šçŸ¥å®¢æˆ·ç«¯é“¾æ¥å»ºç«‹æˆåŠŸ <span class="token class-name">Sun</span> <span class="token class-name">Aug</span> <span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> <span class="token constant">CST</span> <span class="token number">2019</span> <span class="token number">127.0</span><span class="token number">.0</span><span class="token number">.1</span>
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šæœåŠ¡ç«¯æ”¶åˆ°ï¼š<span class="token class-name">Sun</span> <span class="token class-name">Aug</span> <span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> <span class="token constant">CST</span> <span class="token number">2019</span> ä½ å¥½ï¼Œ<span class="token class-name">SpringBoot</span>å¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>bugstack<span class="token punctuation">.</span>cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token operator">&lt;</span>bugstackè™«æ´æ ˆ<span class="token operator">&gt;</span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šæœåŠ¡ç«¯æ”¶åˆ°ï¼š<span class="token class-name">Sun</span> <span class="token class-name">Aug</span> <span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> <span class="token constant">CST</span> <span class="token number">2019</span> ä½ å¥½ï¼Œ<span class="token class-name">SpringBoot</span>å¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>bugstack<span class="token punctuation">.</span>cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token operator">&lt;</span>bugstackè™«æ´æ ˆ<span class="token operator">&gt;</span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šæœåŠ¡ç«¯æ”¶åˆ°ï¼š<span class="token class-name">Sun</span> <span class="token class-name">Aug</span> <span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> <span class="token constant">CST</span> <span class="token number">2019</span> ä½ å¥½ï¼Œ<span class="token class-name">SpringBoot</span>å¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>bugstack<span class="token punctuation">.</span>cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token operator">&lt;</span>bugstackè™«æ´æ ˆ<span class="token operator">&gt;</span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šæœåŠ¡ç«¯æ”¶åˆ°ï¼š<span class="token class-name">Sun</span> <span class="token class-name">Aug</span> <span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> <span class="token constant">CST</span> <span class="token number">2019</span> ä½ å¥½ï¼Œ<span class="token class-name">SpringBoot</span>å¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>bugstack<span class="token punctuation">.</span>cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token operator">&lt;</span>bugstackè™«æ´æ ˆ<span class="token operator">&gt;</span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€
<span class="token number">2019</span><span class="token operator">-</span><span class="token number">08</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯ï¼šæœåŠ¡ç«¯æ”¶åˆ°ï¼š<span class="token class-name">Sun</span> <span class="token class-name">Aug</span> <span class="token number">04</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">40</span><span class="token operator">:</span><span class="token number">11</span> <span class="token constant">CST</span> <span class="token number">2019</span> ä½ å¥½ï¼Œ<span class="token class-name">SpringBoot</span>å¯åŠ¨çš„nettyæœåŠ¡ç«¯ï¼Œæˆ‘æ˜¯https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>bugstack<span class="token punctuation">.</span>cnåšä¸»ï¼Œä»˜æ”¿å§”ã€‚è¿™æ˜¯æˆ‘çš„å…¬ä¼—å·<span class="token operator">&lt;</span>bugstackè™«æ´æ ˆ<span class="token operator">&gt;</span>ï¼Œå…³æ³¨æˆ‘è·å–å…¨å¥—æºç ã€‚â€œæˆ‘çš„ç»“å°¾æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦ï¼Œç”¨äºä¼ è¾“åŠåŒ…ç²˜åŒ…å¤„ç†â€

<span class="token class-name">Process</span> finished <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token operator">-</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¾®ä¿¡æœç´¢ã€Œ<strong>bugstackè™«æ´æ ˆ</strong>ã€å…¬ä¼—å·ï¼Œå…³æ³¨åå›å¤ã€Œ<strong>Nettyä¸“é¢˜æ¡ˆä¾‹</strong>ã€è·å–æœ¬æ–‡æºç &amp;æ›´å¤šåŸåˆ›ä¸“é¢˜æ¡ˆä¾‹ï¼</p>`,36);function d(v,b){const a=t("ExternalLinkIcon");return e(),o("div",null,[i,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),k,s("åšå®¢ï¼š"),n("a",r,[s("https://bugstack.cn"),c(a)])]),m])}const y=p(u,[["render",d],["__file","2019-08-16-nettyanliï¼Œnetty4.1zhongjituozhanpianyiã€ŠNettyyuSpringBootzhengheã€‹.html.vue"]]);export{y as default};
