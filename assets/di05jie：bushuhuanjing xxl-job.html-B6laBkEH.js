import{_ as o,r,o as t,c as l,a,b as s,d as n,f as p,e as c}from"./app-3RcBQnkC.js";const d={},i=a("h1",{id:"第05节-部署环境-xxl-job",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#第05节-部署环境-xxl-job","aria-hidden":"true"},"#"),s(" 第05节：部署环境 xxl-job")],-1),u=a("br",null,null,-1),x={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},b=a("blockquote",null,[a("p",null,"沉淀、分享、成长，让自己和他人都能有所收获！")],-1),k=a("h2",{id:"一、运维日志",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#一、运维日志","aria-hidden":"true"},"#"),s(" 一、运维日志")],-1),h=a("li",null,"在 Docker 容器中部署 xxl-job，在部署之前我们需要一个 Mysql 的环境，这个环境我们已经在上一章节中安装完成。",-1),_={href:"https://gitcode.net/KnowledgePlanet/Lottery/-/blob/master/doc/assets/sql/xxl-job.sql",target:"_blank",rel:"noopener noreferrer"},m=a("h2",{id:"二、导入sql",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#二、导入sql","aria-hidden":"true"},"#"),s(" 二、导入SQL")],-1),j=c(`<ul><li>我们使用本地 SQL 链接工具，并创建 xxl-job 库已经导入 xxl-job.sql 文件</li></ul><h2 id="三、安装-xxl-job" tabindex="-1"><a class="header-anchor" href="#三、安装-xxl-job" aria-hidden="true">#</a> 三、安装 xxl-job</h2><p><strong>拉取</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>docker pull xuxueli<span class="token operator">/</span>xxl<span class="token operator">-</span>job<span class="token operator">-</span>admin<span class="token operator">:</span><span class="token number">2.3</span><span class="token number">.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>部署</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>docker run <span class="token operator">-</span>e <span class="token constant">PARAMS</span><span class="token operator">=</span><span class="token string">&quot; --server.port=7397 --spring.datasource.url=jdbc:mysql://172.17.0.6:3306/xxl_job?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=GMT%2B8 --spring.datasource.username=root --spring.datasource.password=123456 --xxl.job.accessToken=xdsl3ewi3al1oehxmo68pqxer&quot;</span> <span class="token operator">-</span>p <span class="token number">7397</span><span class="token operator">:</span><span class="token number">7397</span> <span class="token operator">-</span>v <span class="token operator">/</span>logs<span class="token operator">/</span>xxl<span class="token operator">-</span>job<span class="token operator">:</span><span class="token operator">/</span>data<span class="token operator">/</span>applogs <span class="token operator">--</span>name xxl<span class="token operator">-</span>job<span class="token operator">-</span>admin <span class="token operator">--</span>restart<span class="token operator">=</span>always  <span class="token operator">-</span>d xuxueli<span class="token operator">/</span>xxl<span class="token operator">-</span>job<span class="token operator">-</span>admin<span class="token operator">:</span><span class="token number">2.3</span><span class="token number">.0</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>修改成你的数据库服务器IP、账号、密码、accessToken</li></ul>`,7);function g(v,f){const e=r("ExternalLinkIcon");return t(),l("div",null,[i,a("p",null,[s("作者：小傅哥 "),u,s("博客："),a("a",x,[s("https://bugstack.cn"),n(e)])]),b,k,a("ul",null,[h,a("li",null,[s("本章节下载了 xxl-job 2.1.2 对应 SQL 文件已经存放到这里，你可以直接打开使用："),a("a",_,[s("xxl-job.sql"),n(e)])])]),m,p(" ![](/images/article/project/lottery/Part-5/5-01.png) "),j])}const L=o(d,[["render",g],["__file","di05jie：bushuhuanjing xxl-job.html.vue"]]);export{L as default};
