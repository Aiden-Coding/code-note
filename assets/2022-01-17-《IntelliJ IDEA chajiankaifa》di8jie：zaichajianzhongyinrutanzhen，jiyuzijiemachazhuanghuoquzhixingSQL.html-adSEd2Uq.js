import{_ as p,r as e,o,c,a as n,b as s,d as t,e as l}from"./app-3RcBQnkC.js";const i={},u=n("h1",{id:"ç¬¬10èŠ‚-åœ¨æ’ä»¶ä¸­å¼•å…¥æ¢é’ˆ-åŸºäºå­—èŠ‚ç æ’æ¡©è·å–æ‰§è¡Œsql",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#ç¬¬10èŠ‚-åœ¨æ’ä»¶ä¸­å¼•å…¥æ¢é’ˆ-åŸºäºå­—èŠ‚ç æ’æ¡©è·å–æ‰§è¡Œsql","aria-hidden":"true"},"#"),s(" ç¬¬10èŠ‚ï¼šåœ¨æ’ä»¶ä¸­å¼•å…¥æ¢é’ˆï¼ŒåŸºäºå­—èŠ‚ç æ’æ¡©è·å–æ‰§è¡ŒSQL")],-1),r=n("br",null,null,-1),k={href:"https://bugstack.cn",target:"_blank",rel:"noopener noreferrer"},d=n("br",null,null,-1),m={href:"https://mp.weixin.qq.com/s/Agy6c1kx9LIhs_4PqJlNNw",target:"_blank",rel:"noopener noreferrer"},v=l(`<blockquote><p>æ²‰æ·€ã€åˆ†äº«ã€æˆé•¿ï¼Œè®©è‡ªå·±å’Œä»–äººéƒ½èƒ½æœ‰æ‰€æ”¶è·ï¼ğŸ˜„</p></blockquote><h2 id="ä¸€ã€å‰è¨€" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å‰è¨€" aria-hidden="true">#</a> ä¸€ã€å‰è¨€</h2><p><code>ç‰‡é¢äº†ï¼</code></p><p>ä¸€æœˆä¸‰èˆŸï¼Œæ‰˜å°”æ–¯æ³°è¯´ï¼šâ€œå¤šä¹ˆä¼Ÿå¤§çš„ä½œå®¶ï¼Œä¹Ÿä¸è¿‡å°±æ˜¯åœ¨ä¹¦å†™è‡ªå·±çš„ç‰‡é¢è€Œå·²â€ã€‚ä½•å†µæ˜¯æˆ‘ï¼Œä½•å†µæ˜¯æˆ‘ä»¬ï¼</p><p>è™½ç„¶æˆ‘ä»¬ä¸ä¹¦å†™æ–‡ç« ï¼Œä½†æˆ‘ä»¬å†™éœ€æ±‚ã€å†™ä»£ç ã€å†™æ³¨é‡Šï¼Œå½“æˆ‘ä»¬é‡åˆ°äº†éœ€è¦è¢«è®¨è®ºçš„é—®é¢˜ç‚¹æ—¶ï¼Œå¾€å¾€å˜æˆäº†äº‰è®ºç‚¹ã€‚è¿™ä¸ªå¥½ã€é‚£ä¸ªå·®ã€ä½ ç”¨çš„éƒ½æ˜¯å•¥å•¥å•¥ï¼</p><p>å½“ä½ æŠŠè·¯èµ°çª„äº†ï¼Œä½ æ‰€èƒ½æ¥å—åˆ°çš„æ–°çš„æ€è·¯ã€æ–°çš„æƒ³æ³•ã€æ–°çš„è§†é‡ï¼Œä»¥åŠéå¸¸é‡è¦çš„æ”¶å…¥ï¼Œä¹Ÿéƒ½ä¼šéšä¹‹å‡å°‘ã€‚åªæœ‰æ¨ªå‘å¯¹æ¯”ã€å‚è€ƒå€Ÿé‰´ã€æŸ¥æ¼è¡¥ç¼ºï¼Œæ‰èƒ½è®©ä½ çš„å¤´è„‘ä¸­ä¼šæœ‰æ›´å¤šçš„æ€è·¯ï¼Œæ— è®ºæ˜¯åœ¨å†™ä»£ç ä¸Šã€è¿˜æ˜¯åœ¨ç†è´¢ä¸Šã€è¿˜æ˜¯åœ¨ç”Ÿæ´»ä¸Šã€‚</p><h2 id="äºŒã€éœ€æ±‚ç›®çš„" tabindex="-1"><a class="header-anchor" href="#äºŒã€éœ€æ±‚ç›®çš„" aria-hidden="true">#</a> äºŒã€éœ€æ±‚ç›®çš„</h2><p>ä½ æ˜¯å¦æœ‰åœ¨ä½¿ç”¨ IntelliJ IDEA åšå¼€å‘çš„è¿‡ç¨‹ï¼Œéœ€è¦æ‹¿åˆ°æ‰§è¡Œ SQL è¯­å¥ï¼Œå¤åˆ¶å‡ºæ¥åšéªŒè¯çš„æ—¶å€™ï¼Œæ€»æ˜¯è¿™æ ·çš„è¯­å¥ï¼š<code>SELECT * FROM USER WHERE id = ? AND name = ?</code> åˆéœ€è¦è‡ªå·±æŠŠ <code>? å·</code> æ›¿æ¢æˆå…¥å‚å€¼å‘¢ï¼Ÿ</p><p><em>å½“ç„¶è¿™ä¸ªéœ€æ±‚å…¶å®å¹¶ä¸å¤§ï¼Œç”šè‡³ä½ è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–æ–¹å¼è§£å†³ã€‚é‚£ä¹ˆåœ¨æœ¬ç« èŠ‚ä¼šç»™ä½ æä¾›ä¸€ä¸ªæ–°çš„æ€è·¯ï¼Œå¯èƒ½ä½ å‡ ä¹æ˜¯æ²¡è¿‡çš„æ–¹å¼è¿›è¡Œå¤„ç†ã€‚</em></p><p>é‚£ä¹ˆåœ¨è¿™ä¸ªç« èŠ‚çš„æ¡ˆä¾‹ä¸­æˆ‘ä»¬ç”¨åˆ°åŸºäº IDEA Plugin å¼€å‘èƒ½åŠ›ï¼ŒæŠŠå­—èŠ‚ç æ’æ¡©æ¢é’ˆï¼ŒåŸºäº Javaagent çš„èƒ½åŠ›ï¼Œæ³¨å…¥åˆ°ä»£ç ä¸­ã€‚å†é€šè¿‡å¢å¼ºåçš„å­—èŠ‚ç ï¼Œè·å–åˆ° <code>com.mysql.jdbc.PreparedStatement</code> -&gt; <code>executeInternal</code> æ‰§è¡Œæ—¶çš„å¯¹è±¡ï¼Œä»è€Œæ‹¿åˆ°å¯ä»¥ç›´æ¥æµ‹è¯•çš„ SQL è¯­å¥ã€‚</p><h2 id="ä¸‰ã€æ¡ˆä¾‹å¼€å‘" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€æ¡ˆä¾‹å¼€å‘" aria-hidden="true">#</a> ä¸‰ã€æ¡ˆä¾‹å¼€å‘</h2><h3 id="_1-å·¥ç¨‹ç»“æ„" tabindex="-1"><a class="header-anchor" href="#_1-å·¥ç¨‹ç»“æ„" aria-hidden="true">#</a> 1. å·¥ç¨‹ç»“æ„</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>guide<span class="token operator">-</span>idea<span class="token operator">-</span>plugin<span class="token operator">-</span>probe
â”œâ”€â”€ <span class="token punctuation">.</span>gradle
â”œâ”€â”€ probe<span class="token operator">-</span>agent
â”‚   â”œâ”€â”€ src
â”‚   â”‚   â””â”€â”€ main
â”‚   â”‚       â””â”€â”€ java
â”‚   â”‚       	â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>guide<span class="token punctuation">.</span>idea<span class="token punctuation">.</span>plugin
â”‚   â”‚       		â”œâ”€â”€ <span class="token class-name">MonitorMethod</span><span class="token punctuation">.</span>java
â”‚   â”‚       		â””â”€â”€ <span class="token class-name">PreAgent</span><span class="token punctuation">.</span>java
â”‚   â””â”€â”€ build<span class="token punctuation">.</span>gradle
â””â”€â”€ probe<span class="token operator">-</span>plugin
â”‚   â””â”€â”€ src
â”‚   â”‚   â””â”€â”€ main
â”‚   â”‚       â”œâ”€â”€ java
â”‚   â”‚       â”‚	â””â”€â”€ cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>guide<span class="token punctuation">.</span>idea<span class="token punctuation">.</span>plugin
â”‚   â”‚       â”‚		â””â”€â”€ utils
â”‚   â”‚       â”‚		â”‚	â””â”€â”€ <span class="token class-name">PluginUtil</span><span class="token punctuation">.</span>java
â”‚   â”‚       â”‚		â””â”€â”€ <span class="token class-name">PerRun</span><span class="token punctuation">.</span>java
â”‚   â”‚       â””â”€â”€ resources
â”‚   â”‚       	â””â”€â”€ <span class="token constant">META</span><span class="token operator">-</span><span class="token constant">INF</span>
â”‚   â”‚        		â””â”€â”€ plugin<span class="token punctuation">.</span>xml
â”‚	â””â”€â”€ build<span class="token punctuation">.</span>gradle
â”œâ”€â”€ build<span class="token punctuation">.</span>gradle    
â””â”€â”€ gradle<span class="token punctuation">.</span>properties
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æºç è·å–</strong>ï¼š#å…¬ä¼—å·ï¼š<code>bugstackè™«æ´æ ˆ</code> å›å¤ï¼š<code>idea</code> å³å¯ä¸‹è½½å…¨éƒ¨ IDEA æ’ä»¶å¼€å‘æºç </p><p>åœ¨æ­¤ IDEA æ’ä»¶å·¥ç¨‹ä¸­ï¼Œå·¥ç¨‹ç»“æ„åˆ†ä¸º2å—ï¼š</p><ul><li>probe-agentï¼šæ¢é’ˆæ¨¡å—ï¼Œç”¨äºç¼–è¯‘æ‰“åŒ…æä¾›å­—èŠ‚ç å¢å¼ºæœåŠ¡ï¼Œç»™ probe-plugin æ¨¡å—ä½¿ç”¨</li><li>probe-pluginï¼šæ’ä»¶æ¨¡å—ï¼Œé€šè¿‡ <code>java.programPatcher</code> åŠ è½½å­—èŠ‚ç å¢å¼ºåŒ…ï¼Œè·å–å¹¶æ‰“å°æ‰§è¡Œæ•°æ®åº“æ“ä½œçš„ SQL è¯­å¥ã€‚</li></ul><h3 id="_2-å­—èŠ‚ç å¢å¼ºè·å–-sql" tabindex="-1"><a class="header-anchor" href="#_2-å­—èŠ‚ç å¢å¼ºè·å–-sql" aria-hidden="true">#</a> 2. å­—èŠ‚ç å¢å¼ºè·å– SQL</h3><p>æ­¤å¤„çš„å­—èŠ‚ç å¢å¼ºæ–¹å¼ï¼Œé‡‡ç”¨çš„ Byte-Buddy å­—èŠ‚ç æ¡†æ¶ï¼Œå®ƒçš„ä½¿ç”¨æ–¹å¼æ›´åŠ ç®€å•ï¼Œåœ¨ä½¿ç”¨çš„è¿‡ç¨‹ä¸­æœ‰äº›åƒä½¿ç”¨ AOP çš„æ‹¦æˆªæ–¹å¼ä¸€æ ·ï¼Œè·å–åˆ°ä½ éœ€è¦çš„ä¿¡æ¯ã€‚</p><p>æ­¤å¤–åœ¨ gradle æ‰“åŒ…æ„å»ºçš„æ—¶å€™ï¼Œéœ€è¦æ·»åŠ  <code>shadowJar</code> æ¨¡å—ï¼ŒæŠŠ <code>Premain-Class</code> æ‰“åŒ…è¿›å»ã€‚<em>è¿™éƒ¨åˆ†ä»£ç ä¸­å¯ä»¥æŸ¥çœ‹</em></p><h4 id="_2-1-æ¢é’ˆå…¥å£" tabindex="-1"><a class="header-anchor" href="#_2-1-æ¢é’ˆå…¥å£" aria-hidden="true">#</a> 2.1 æ¢é’ˆå…¥å£</h4><p><strong>cn.bugstack.guide.idea.plugin.PreAgent</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//JVM é¦–å…ˆå°è¯•åœ¨ä»£ç†ç±»ä¸Šè°ƒç”¨ä»¥ä¸‹æ–¹æ³•</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">premain</span><span class="token punctuation">(</span><span class="token class-name">String</span> agentArgs<span class="token punctuation">,</span> <span class="token class-name">Instrumentation</span> inst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AgentBuilder<span class="token punctuation">.</span>Transformer</span> transformer <span class="token operator">=</span> <span class="token punctuation">(</span>builder<span class="token punctuation">,</span> typeDescription<span class="token punctuation">,</span> classLoader<span class="token punctuation">,</span> javaModule<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> builder
                <span class="token punctuation">.</span><span class="token function">method</span><span class="token punctuation">(</span><span class="token class-name">ElementMatchers</span><span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span><span class="token string">&quot;executeInternal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// æ‹¦æˆªä»»æ„æ–¹æ³•</span>
                <span class="token punctuation">.</span><span class="token function">intercept</span><span class="token punctuation">(</span><span class="token class-name">MethodDelegation</span><span class="token punctuation">.</span><span class="token keyword">to</span><span class="token punctuation">(</span><span class="token class-name">MonitorMethod</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å§”æ‰˜</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">AgentBuilder
            <span class="token punctuation">.</span>Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token class-name">ElementMatchers</span><span class="token punctuation">.</span><span class="token function">nameStartsWith</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.PreparedStatement&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">transform</span><span class="token punctuation">(</span>transformer<span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">installOn</span><span class="token punctuation">(</span>inst<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡ Byte-buddy é…ç½®ï¼Œæ‹¦æˆªåŒ¹é…çš„ç±»å’Œæ–¹æ³•ï¼Œå› ä¸ºè¿™ä¸ªç±»å’Œæ–¹æ³•ä¸‹ï¼Œå¯ä»¥è·å–åˆ°å®Œæ•´çš„æ‰§è¡Œ SQL è¯­å¥ã€‚</li></ul><h4 id="_2-2-æ‹¦æˆª-sql" tabindex="-1"><a class="header-anchor" href="#_2-2-æ‹¦æˆª-sql" aria-hidden="true">#</a> 2.2 æ‹¦æˆª SQL</h4><p><strong>cn.bugstack.guide.idea.plugin.MonitorMethod</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RuntimeType</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Object</span> <span class="token function">intercept</span><span class="token punctuation">(</span><span class="token annotation punctuation">@This</span> <span class="token class-name">Object</span> obj<span class="token punctuation">,</span> <span class="token annotation punctuation">@Origin</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token annotation punctuation">@SuperCall</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> callable<span class="token punctuation">,</span> <span class="token annotation punctuation">@AllArguments</span> <span class="token class-name">Object</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> callable<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> originalSql <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token class-name">BeanUtil</span><span class="token punctuation">.</span><span class="token function">getFieldValue</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;originalSql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> replaceSql <span class="token operator">=</span> <span class="token class-name">ReflectUtil</span><span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;asSql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ•°æ®åº“åç§°ï¼šMysql&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;çº¿ç¨‹IDï¼š&quot;</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ—¶é—´ï¼š&quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;åŸå§‹SQLï¼š\\r\\n&quot;</span> <span class="token operator">+</span> originalSql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ›¿æ¢SQLï¼š\\r\\n&quot;</span> <span class="token operator">+</span> replaceSql<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æ‹¦æˆªæ–¹æ³•å…¥å‚æ˜¯ä¸€ç§å¯é…ç½®æ“ä½œï¼Œæ¯”å¦‚ <code>@This Object obj</code> æ˜¯ä¸ºäº†è·å–å½“å‰ç±»çš„æ‰§è¡Œå¯¹è±¡ï¼Œ<code>@Origin Method method</code> æ˜¯ä¸ºäº†è·å–æ‰§è¡Œæ–¹æ³•ã€‚</li><li>åœ¨ finally å—ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æ‹¿åˆ°å½“å‰ç±»çš„å±æ€§ä¿¡æ¯ï¼Œä»¥åŠåå°„æ‹¿åˆ°æ‰§è¡Œçš„ SQLï¼Œå¹¶åšæ‰“å°è¾“å‡ºã€‚</li></ul><h4 id="_2-3-ç¼–è¯‘æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#_2-3-ç¼–è¯‘æ‰“åŒ…" aria-hidden="true">#</a> 2.3 ç¼–è¯‘æ‰“åŒ…</h4><p>åœ¨æµ‹è¯•å’Œå¼€å‘ IDEA Plugin æ’ä»¶ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆè¿›è¡Œä¸€ä¸ªæ‰“åŒ…æ“ä½œï¼Œè¿™ä¸ªæ‰“åŒ…å°±æ˜¯æŠŠå­—èŠ‚ç å¢å¼ºçš„ä»£ç æ‰“åŒ…æ•´ä¸€ä¸ª Jar åŒ…ã€‚åœ¨ build.gradle -&gt; shadowJar</p><p><img src="https://bugstack.cn/images/article/assembly/assembly-220117-8-01.png" alt=""></p><ul><li>æ‰“åŒ…ç¼–è¯‘åï¼Œå°±å¯ä»¥åœ¨ build -&gt; libs ä¸‹çœ‹åˆ° Jarï¼š<code>probe-agent-1.0-SNAPSHOT-all.jar</code> è¿™ä¸ª Jar å°±æ˜¯ç”¨æ¥åšå­—èŠ‚ç å¢å¼ºå¤„ç†çš„ã€‚</li></ul><h4 id="_2-4-æµ‹è¯•éªŒè¯" tabindex="-1"><a class="header-anchor" href="#_2-4-æµ‹è¯•éªŒè¯" aria-hidden="true">#</a> 2.4 æµ‹è¯•éªŒè¯</h4><p>è¿™é‡Œåœ¨æŠŠå†™å¥½çš„å­—èŠ‚ç å¢å¼ºç»„ä»¶ç»™æ’ä»¶ä½¿ç”¨ä¹‹å‰ï¼Œå¯ä»¥åšä¸€ä¸ªæµ‹è¯•éªŒè¯ï¼Œé¿å…æ¯æ¬¡éƒ½éœ€è¦å¯åŠ¨æ’ä»¶æ‰èƒ½åšæµ‹è¯•ã€‚</p><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApiTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> <span class="token constant">URL</span> <span class="token operator">=</span> <span class="token string">&quot;jdbc:mysql://127.0.0.1:3306/itstack?characterEncoding=utf-8&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token constant">USER</span> <span class="token operator">=</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> <span class="token constant">PASSWORD</span> <span class="token operator">=</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">&quot;com.mysql.jdbc.Driver&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Connection</span> conn <span class="token operator">=</span> <span class="token class-name">DriverManager</span><span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token constant">URL</span><span class="token punctuation">,</span> <span class="token constant">USER</span><span class="token punctuation">,</span> <span class="token constant">PASSWORD</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> sql<span class="token operator">=</span><span class="token string">&quot;SELECT * FROM USER WHERE id = ? AND name = ?&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">PreparedStatement</span> statement <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        statement<span class="token punctuation">.</span><span class="token function">setLong</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        statement<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&quot;è°¢é£æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResultSet</span> rs <span class="token operator">=</span> statement<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">&quot;address&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>VM optionsï¼š<code>-javaagent:ä½ çš„è·¯å¾„\\libs\\probe-agent-1.0-SNAPSHOT-all.jar</code></li><li>æ³¨æ„åœ¨æµ‹è¯•è¿è¡Œçš„æ—¶å€™ï¼Œä½ è¦ç»™ ApiTest é…ç½® VM options æ‰èƒ½æ‰“å°æ‹¦æˆª SQL ä¿¡æ¯</li></ul><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>åŸå§‹<span class="token constant">SQL</span>ï¼š
<span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> <span class="token constant">USER</span> <span class="token class-name">WHERE</span> id <span class="token operator">=</span> <span class="token operator">?</span> <span class="token class-name">AND</span> name <span class="token operator">=</span> <span class="token operator">?</span>
æ›¿æ¢<span class="token constant">SQL</span>ï¼š
<span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> <span class="token constant">USER</span> <span class="token class-name">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span> <span class="token class-name">AND</span> name <span class="token operator">=</span> <span class="token char">&#39;è°¢é£æœº&#39;</span>
è°¢é£æœº åŒ—äº¬<span class="token punctuation">.</span>å¤§å…´åŒº<span class="token punctuation">.</span>é€šæ˜æ¹–å…¬å›­
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å¥½å•¦ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ‹¦æˆªå¯ä»¥å¤åˆ¶æ‰§è¡Œçš„ SQL è¯­å¥äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†åšä¸‹ IDEA Plugin çš„å¤„ç†ã€‚</li></ul><h3 id="_3-é€šè¿‡æ’ä»¶å¼€å‘å¼•å…¥æ¢é’ˆ-jar" tabindex="-1"><a class="header-anchor" href="#_3-é€šè¿‡æ’ä»¶å¼€å‘å¼•å…¥æ¢é’ˆ-jar" aria-hidden="true">#</a> 3. é€šè¿‡æ’ä»¶å¼€å‘å¼•å…¥æ¢é’ˆ Jar</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦æŠŠå¼€å‘å¥½çš„å­—èŠ‚ç å¢å¼º Jar åŒ…ï¼Œå¤åˆ¶åˆ° IDEA Plugin æ’ä»¶å¼€å‘æ¨¡å—ä¸­çš„ libs(å¯è‡ªå·±åˆ›å»º) ä¸‹ï¼Œä¹‹ååœ¨ plugin.xml é…ç½®åŠ è½½ <code>implementation fileTree(dir: &#39;libs&#39;, includes: [&#39;*jar&#39;])</code> è¿™æ ·å°±å¯ä»¥ç¨‹åºä¸­ï¼Œæ‰¾åˆ°è¿™ä¸ª jar åŒ…å¹¶é…ç½®åˆ°ç¨‹åºä¸­ã€‚</p><h4 id="_3-1-å¤åˆ¶-jar-åˆ°-libs-ä¸‹" tabindex="-1"><a class="header-anchor" href="#_3-1-å¤åˆ¶-jar-åˆ°-libs-ä¸‹" aria-hidden="true">#</a> 3.1 å¤åˆ¶ jar åˆ° libs ä¸‹</h4><p><img src="https://bugstack.cn/images/article/assembly/assembly-220117-8-02.png" alt=""></p><h4 id="_3-2-build-gradle-é…ç½®åŠ è½½" tabindex="-1"><a class="header-anchor" href="#_3-2-build-gradle-é…ç½®åŠ è½½" aria-hidden="true">#</a> 3.2 build.gradle é…ç½®åŠ è½½</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>dependencies {
    implementation fileTree(dir: &#39;libs&#39;, includes: [&#39;*jar&#39;])
}
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡ <code>implementation fileTree</code> å¼•å…¥åŠ è½½æ–‡ä»¶æ ‘çš„æ–¹å¼ï¼ŒæŠŠæˆ‘ä»¬é…ç½®å¥½çš„ Jar åŠ è½½åˆ°ç¨‹åºè¿è¡Œä¸­ã€‚</li></ul><h4 id="_3-3-ç¨‹åºä¸­å¼•å…¥-javaagent" tabindex="-1"><a class="header-anchor" href="#_3-3-ç¨‹åºä¸­å¼•å…¥-javaagent" aria-hidden="true">#</a> 3.3 ç¨‹åºä¸­å¼•å…¥ javaagent</h4><p><strong>cn.bugstack.guide.idea.plugin.PerRun</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PerRun</span> <span class="token keyword">extends</span> <span class="token class-name">JavaProgramPatcher</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">patchJavaParameters</span><span class="token punctuation">(</span><span class="token class-name">Executor</span> executor<span class="token punctuation">,</span> <span class="token class-name">RunProfile</span> configuration<span class="token punctuation">,</span> <span class="token class-name">JavaParameters</span> javaParameters<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token class-name">RunConfiguration</span> runConfiguration <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">RunConfiguration</span><span class="token punctuation">)</span> configuration<span class="token punctuation">;</span>
        <span class="token class-name">ParametersList</span> vmParametersList <span class="token operator">=</span> javaParameters<span class="token punctuation">.</span><span class="token function">getVMParametersList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        vmParametersList<span class="token punctuation">.</span><span class="token function">addParametersString</span><span class="token punctuation">(</span><span class="token string">&quot;-javaagent:&quot;</span> <span class="token operator">+</span> agentCoreJarPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
        vmParametersList<span class="token punctuation">.</span><span class="token function">addNotEmptyProperty</span><span class="token punctuation">(</span><span class="token string">&quot;guide-idea-plugin-probe.projectId&quot;</span><span class="token punctuation">,</span> runConfiguration<span class="token punctuation">.</span><span class="token function">getProject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getLocationHash</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡ç»§æ‰¿ <code>JavaProgramPatcher</code> ç±»ï¼Œå®ç° <code>patchJavaParameters</code> æ–¹æ³•ï¼Œé€šè¿‡ configuration å±æ€§æ¥é…ç½®æˆ‘ä»¬è‡ªå·±éœ€è¦è¢«åŠ è½½çš„ <code>-javaagent</code> åŒ…ã€‚</li><li>è¿™æ ·åœ¨é€šè¿‡ IDEA å·²ç»å®‰è£…æ­¤æ’ä»¶ï¼Œè¿è¡Œä»£ç çš„æ—¶å€™ï¼Œå°±ä¼šæ‰§è¡Œåˆ°è¿™ä¸ªæ‹¦æˆªå’Œæ‰“å° SQL çš„åŠŸèƒ½ã€‚</li></ul><h4 id="_3-4-plugin-xml-æ·»åŠ é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-4-plugin-xml-æ·»åŠ é…ç½®" aria-hidden="true">#</a> 3.4 plugin.xml æ·»åŠ é…ç½®</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>extensions</span> <span class="token attr-name">defaultExtensionNs</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.intellij<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- Add your extensions here --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>java.programPatcher</span> <span class="token attr-name">implementation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cn.bugstack.guide.idea.plugin.PerRun<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>extensions</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ä¹‹åä½ è¿˜éœ€è¦æŠŠå¼€å‘å¥½çš„åŠ è½½ç±»ï¼Œé…ç½®åˆ° <code>java.programPatcher</code> è¿™æ ·å°±å¯ä»¥ç¨‹åºè¿è¡Œçš„æ—¶å€™ï¼Œè¢«åŠ è½½åˆ°äº†ã€‚</li></ul><h2 id="å››ã€æµ‹è¯•éªŒè¯" tabindex="-1"><a class="header-anchor" href="#å››ã€æµ‹è¯•éªŒè¯" aria-hidden="true">#</a> å››ã€æµ‹è¯•éªŒè¯</h2><ul><li>å‡†å¤‡å¥½ä¸€ä¸ªæœ‰æ•°æ®åº“æ“ä½œçš„å·¥ç¨‹ï¼Œéœ€è¦çš„æ˜¯ JDBCï¼Œ<em>å¦‚æœæ˜¯å…¶ä»–çš„ï¼Œä½ éœ€è¦è‡ªå·±æ‰©å±•</em></li><li>å¯åŠ¨æ’ä»¶åï¼Œæ‰“å¼€ä½ çš„å·¥ç¨‹ï¼Œè¿è¡Œå•å…ƒæµ‹è¯•ï¼ŒæŸ¥çœ‹æ‰“å°åŒº</li></ul><p><strong>å¯åŠ¨æ’ä»¶</strong></p><p><img src="https://bugstack.cn/images/article/assembly/assembly-220117-8-03.png" alt=""></p><ul><li>å¦‚æœä½ æ˜¯æ–°ä¸‹è½½ä»£ç ï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ probe-plugin -&gt; Tasks -&gt; intellij -&gt; runIde ä¸­è¿›è¡Œè¿è¡Œå¯åŠ¨ã€‚</li></ul><p><strong>å•å…ƒæµ‹è¯•</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;è°¢é£æœº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    user<span class="token punctuation">.</span><span class="token function">setAddress</span><span class="token punctuation">(</span><span class="token string">&quot;åŒ—äº¬.å¤§å…´åŒº.äº¦åº„ç»æµå¼€å‘åŒº&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    userDao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•ç»“æœ</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">22</span><span class="token operator">:</span><span class="token number">30</span><span class="token operator">:</span><span class="token number">55.593</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>test<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>infrastructure<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span>UserDao</span><span class="token punctuation">.</span>update<span class="token punctuation">[</span><span class="token number">143</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token operator">==</span><span class="token operator">&gt;</span>  <span class="token class-name">Preparing</span><span class="token operator">:</span> <span class="token constant">UPDATE</span> user <span class="token class-name">SET</span> name<span class="token operator">=</span><span class="token operator">?</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token operator">?</span><span class="token punctuation">,</span>address<span class="token operator">=</span><span class="token operator">?</span> <span class="token class-name">WHERE</span> id<span class="token operator">=</span><span class="token operator">?</span> 
<span class="token number">22</span><span class="token operator">:</span><span class="token number">30</span><span class="token operator">:</span><span class="token number">55.625</span> <span class="token punctuation">[</span>main<span class="token punctuation">]</span> <span class="token constant">DEBUG</span> <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>bugstack<span class="token punctuation">.</span>test<span class="token punctuation">.</span>demo<span class="token punctuation">.</span>infrastructure<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span>UserDao</span><span class="token punctuation">.</span>update<span class="token punctuation">[</span><span class="token number">143</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token operator">==</span><span class="token operator">&gt;</span> <span class="token class-name">Parameters</span><span class="token operator">:</span> è°¢é£æœº<span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">18</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span><span class="token punctuation">,</span> åŒ—äº¬<span class="token punctuation">.</span>å¤§å…´åŒº<span class="token punctuation">.</span>äº¦åº„ç»æµå¼€å‘åŒº<span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">1</span><span class="token punctuation">(</span><span class="token class-name">Long</span><span class="token punctuation">)</span>
æ•°æ®åº“åç§°ï¼š<span class="token class-name">Mysql</span>
çº¿ç¨‹<span class="token constant">ID</span>ï¼š<span class="token number">1</span>
åŸå§‹<span class="token constant">SQL</span>ï¼š
<span class="token constant">UPDATE</span> user <span class="token class-name">SET</span> name<span class="token operator">=</span><span class="token operator">?</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token operator">?</span><span class="token punctuation">,</span>address<span class="token operator">=</span><span class="token operator">?</span>
        <span class="token class-name">WHERE</span> id<span class="token operator">=</span><span class="token operator">?</span>
æ›¿æ¢<span class="token constant">SQL</span>ï¼š
<span class="token constant">UPDATE</span> user <span class="token class-name">SET</span> name<span class="token operator">=</span><span class="token char">&#39;è°¢é£æœº&#39;</span><span class="token punctuation">,</span>age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span>address<span class="token operator">=</span>&#39;åŒ—äº¬<span class="token punctuation">.</span>å¤§å…´åŒº<span class="token punctuation">.</span>äº¦åº„ç»æµå¼€å‘åŒº&#39;
        <span class="token class-name">WHERE</span> id<span class="token operator">=</span><span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>é€šè¿‡æµ‹è¯•ç»“æœå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥è·å–åˆ°ç›´æ¥æ‹¿å»æµ‹è¯•éªŒè¯çš„ SQL è¯­å¥äº†ï¼Œå°±ä¸ç”¨åœ¨å¤åˆ¶å¸¦é—®å·çš„ SQL è¿˜å¾—ä¿®æ”¹åæµ‹è¯•äº†ã€‚</li></ul><h2 id="äº”ã€æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#äº”ã€æ€»ç»“" aria-hidden="true">#</a> äº”ã€æ€»ç»“</h2><ul><li>é¦–å…ˆæˆ‘ä»¬æ˜¯åœ¨æœ¬ç« èŠ‚åˆæ­¥å°è¯•ä½¿ç”¨å¤šæ¨¡å—çš„æ–¹å¼æ¥åˆ›å»ºå·¥ç¨‹ï¼Œè¿™æ ·çš„æ–¹å¼å¯ä»¥æ›´åŠ å¥½ç»´æŠ¤å„ç±»ä¸€ä¸ªå·¥ç¨‹ä¸‹æ‰€éœ€è¦çš„ä»£ç æ¨¡å—ã€‚<em>ä½ ä¹Ÿå¯ä»¥å°è¯•ä½¿ç”¨ gradle åˆ›å»ºå¤šæ¨¡å—å·¥ç¨‹</em></li><li>å¯¹äºå­—èŠ‚ç æ’æ¡©å¢å¼ºçš„ä½¿ç”¨æ–¹å¼ï¼Œæœ¬ç¯‡åªæ˜¯ä¸€ä¸ªä»‹ç»ï¼Œè¿™é¡¹æŠ€æœ¯è¿˜å¯ä»¥è¿ç”¨åˆ°æ›´å¤šçš„åœºæ™¯ï¼Œå¼€å‘å‡ºå„ç§æå‡ç ”å‘æ•ˆç‡çš„å·¥å…·ã€‚</li><li>äº†è§£é¢å¤–çš„ Jar åŒ…æ˜¯æ€ä¹ˆåŠ è½½åˆ°å·¥ç¨‹çš„ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡é…ç½®çš„æ–¹å¼è®© <code>javaagent</code> å¼•å…¥è‡ªå·±å¼€å‘å¥½çš„æ¢é’ˆç»„ä»¶ã€‚</li></ul>`,65);function b(g,h){const a=e("ExternalLinkIcon");return o(),c("div",null,[u,n("p",null,[s("ä½œè€…ï¼šå°å‚…å“¥ "),r,s("åšå®¢ï¼š"),n("a",k,[s("https://bugstack.cn"),t(a)]),d,s("åŸæ–‡ï¼š"),n("a",m,[s("https://mp.weixin.qq.com/s/Agy6c1kx9LIhs_4PqJlNNw"),t(a)])]),v])}const q=p(i,[["render",b],["__file","2022-01-17-ã€ŠIntelliJ IDEA chajiankaifaã€‹di8jieï¼šzaichajianzhongyinrutanzhenï¼ŒjiyuzijiemachazhuanghuoquzhixingSQL.html.vue"]]);export{q as default};
